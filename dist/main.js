/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/engine/style/index.scss":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/engine/style/index.scss ***!
  \******************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html, body, #root {\\n  height: 100vh;\\n  overflow: hidden;\\n  background: var(--theme-bg);\\n  color: var(--tc-fg);\\n  font-size: var(--theme-font-size);\\n  font-family: var(--theme-font-face);\\n}\\n\\n.bar {\\n  background: rgba(0, 0, 0, 0.25);\\n  min-height: 1rem;\\n  position: relative;\\n}\\n.bar .bar-value {\\n  background: var(--tc-shadowed);\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n}\\n.bar .bar-content {\\n  position: relative;\\n  text-align: center;\\n  color: white;\\n  text-shadow: -1px -1px black, -1px 0px black, -1px 1px black, 0px -1px black, 0px 1px black, 1px -1px black, 1px 0px black, 1px 1px black;\\n}\\n\\nbutton, .button {\\n  border: 2px solid var(--theme-ctrl-fg);\\n  border-radius: 4px;\\n  background: var(--theme-ctrl-bg);\\n  color: var(--tc-fg);\\n  font-family: var(--theme-ctrl-font-face);\\n  font-size: var(--theme-ctrl-font-size);\\n  padding: 1px 6px;\\n  text-align: center;\\n}\\nbutton.-big, .button.-big {\\n  padding: 8px 12px;\\n}\\nbutton:disabled, button.-disabled, .button:disabled, .button.-disabled {\\n  background: var(--theme-bg);\\n  border-color: var(--theme-ctrl-disabled);\\n  color: var(--tc-disabled);\\n}\\nbutton.-default, .button.-default {\\n  border-color: var(--theme-ctrl-default);\\n  color: var(--tc-bold);\\n  font-weight: bold;\\n}\\nbutton.-shadowed, .button.-shadowed {\\n  border-color: var(--tc-shadowed);\\n  color: var(--tc-shadowed);\\n}\\nbutton:focus, button.-focus, .button:focus, .button.-focus {\\n  outline: var(--tc-focus);\\n  border-color: var(--tc-focus);\\n}\\nbutton:not(:disabled):hover, .button:not(:disabled):hover {\\n  cursor: pointer;\\n  color: var(--tc-focus);\\n}\\n\\na, .link {\\n  color: var(--tc-link);\\n  text-decoration: underline;\\n}\\na:visited, .link:visited {\\n  color: var(--tc-link);\\n}\\n\\ninput[type=text], .text-input {\\n  border: 2px solid var(--theme-ctrl-fg);\\n  border-radius: 4px;\\n  background: var(--theme-ctrl-bg);\\n  color: var(--tc-fg);\\n  font-family: var(--theme-ctrl-font-face);\\n  font-size: var(--theme-ctrl-font-size);\\n  padding: 1px 6px;\\n}\\ninput[type=text].-big, .text-input.-big {\\n  padding: 8px 12px;\\n}\\ninput[type=text]:disabled, input[type=text].-disabled, .text-input:disabled, .text-input.-disabled {\\n  background: var(--theme-bg);\\n  border-color: var(--theme-ctrl-disabled);\\n  color: var(--tc-disabled);\\n}\\ninput[type=text].-default, .text-input.-default {\\n  border-color: var(--theme-ctrl-default);\\n  color: var(--tc-bold);\\n  font-weight: bold;\\n}\\ninput[type=text].-shadowed, .text-input.-shadowed {\\n  border-color: var(--tc-shadowed);\\n  color: var(--tc-shadowed);\\n}\\ninput[type=text]:focus, input[type=text].-focus, .text-input:focus, .text-input.-focus {\\n  outline: var(--tc-focus);\\n  border-color: var(--tc-focus);\\n}\\n\\n.bar.bar-xp {\\n  min-height: 6px;\\n}\\n.bar.bar-xp .bar-value {\\n  background: var(--tc-xp);\\n}\\n\\n.bar.bar-hp {\\n  background: var(--tc-damage);\\n}\\n.bar.bar-hp .bar-value {\\n  background: var(--tc-hp);\\n}\\n\\n.bar.bar-ep .bar-value {\\n  background: var(--tc-energy);\\n}\\n\\n.bar.bar-lp .bar-value {\\n  background: var(--tc-lust);\\n}\\n\\n.ui-box {\\n  border: 1px solid var(--theme-ctrl-fg);\\n  background: var(--theme-bg);\\n  padding: 0.5rem;\\n}\\n\\n.game-layout {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n}\\n.game-layout .gl-top {\\n  border: 1px solid var(--theme-ctrl-fg);\\n  background: var(--theme-bg);\\n  padding: 0.5rem;\\n  min-height: 1.5rem;\\n}\\n.game-layout .gl-midrow {\\n  flex-grow: 1;\\n  display: flex;\\n  overflow: hidden auto;\\n}\\n.game-layout .gl-left, .game-layout .gl-right {\\n  border: 1px solid var(--theme-ctrl-fg);\\n  background: var(--theme-bg);\\n  padding: 0.5rem;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n  box-sizing: border-box;\\n  flex-basis: 300px;\\n  transition: visibility 0.5s steps(1, end), margin-left 0.5s ease-in-out, margin-right 0.5s ease-in-out;\\n}\\n.game-layout.-collapse-left .gl-left {\\n  visibility: hidden;\\n  margin-left: -300px;\\n}\\n.game-layout.-collapse-right .gl-right {\\n  visibility: hidden;\\n  margin-right: -300px;\\n}\\n.game-layout .gl-center {\\n  border: 1px solid var(--theme-ctrl-fg);\\n  background: var(--theme-bg);\\n  padding: 0.5rem;\\n  flex-grow: 1;\\n}\\n.game-layout .gl-bottom {\\n  border: 1px solid var(--theme-ctrl-fg);\\n  background: var(--theme-bg);\\n  padding: 0.5rem;\\n  min-height: 1.5rem;\\n}\\n\\n.log-panel {\\n  min-height: 5em;\\n}\\n.log-panel.-collapsed {\\n  min-height: 1em;\\n}\\n.log-panel.-expanded {\\n  min-height: 20em;\\n}\\n\\n.log-message {\\n  color: var(--tc-fg);\\n}\\n.log-message::after {\\n  content: \\\" \\\";\\n}\\n.log-message.-info {\\n  color: var(--tc-hl);\\n}\\n.log-message.-action .--actor {\\n  color: var(--tc-bold);\\n  font-weight: bold;\\n}\\n\\n.scene-page {\\n  margin: 1rem 0;\\n}\\n.scene-page.-history {\\n  opacity: 0.5;\\n}\\n\\n.scene-actions .choices {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.screen {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: rgba(0, 0, 0, 0.7);\\n  display: flex;\\n  justify-content: center;\\n  align-items: stretch;\\n}\\n\\n.screen-shaded {\\n  background: #000;\\n}\\n\\n.screen:first-child {\\n  background: var(--theme-bg);\\n}\\n\\nhtml, body {\\n  margin: 0;\\n}\\n\\n.d-flex {\\n  display: flex;\\n}\\n\\n.flex-column {\\n  flex-direction: column;\\n}\\n\\n.ai-center {\\n  align-items: center;\\n}\\n\\n.ai-start {\\n  align-items: start;\\n}\\n\\n.ai-end {\\n  align-items: end;\\n}\\n\\n.ai-baseline {\\n  align-items: baseline;\\n}\\n\\n.ai-flex-start {\\n  align-items: flex-start;\\n}\\n\\n.ai-flex-end {\\n  align-items: flex-end;\\n}\\n\\n.ai-self-start {\\n  align-items: self-start;\\n}\\n\\n.ai-self-end {\\n  align-items: self-end;\\n}\\n\\n.ai-stretch {\\n  align-items: stretch;\\n}\\n\\n.jc-center {\\n  justify-content: center;\\n}\\n\\n.jc-start {\\n  justify-content: start;\\n}\\n\\n.jc-end {\\n  justify-content: end;\\n}\\n\\n.jc-left {\\n  justify-content: left;\\n}\\n\\n.jc-right {\\n  justify-content: right;\\n}\\n\\n.jc-flex-start {\\n  justify-content: flex-start;\\n}\\n\\n.jc-flex-end {\\n  justify-content: flex-end;\\n}\\n\\n.jc-stretch {\\n  justify-content: stretch;\\n}\\n\\n.jc-space-around {\\n  justify-content: space-around;\\n}\\n\\n.jc-space-between {\\n  justify-content: space-between;\\n}\\n\\n.jc-space-evenly {\\n  justify-content: space-evenly;\\n}\\n\\n.gap-0 {\\n  gap: 0em;\\n}\\n\\n.gap-1 {\\n  gap: 0.25em;\\n}\\n\\n.gap-2 {\\n  gap: 0.5em;\\n}\\n\\n.gap-3 {\\n  gap: 0.75em;\\n}\\n\\n.gap-4 {\\n  gap: 1em;\\n}\\n\\n.gap-5 {\\n  gap: 1.25em;\\n}\\n\\n.gap-6 {\\n  gap: 1.5em;\\n}\\n\\n.gap-7 {\\n  gap: 1.75em;\\n}\\n\\n.gap-8 {\\n  gap: 2em;\\n}\\n\\n.gap-9 {\\n  gap: 2.25em;\\n}\\n\\n.gap-10 {\\n  gap: 2.5em;\\n}\\n\\n.gap-11 {\\n  gap: 2.75em;\\n}\\n\\n.gap-12 {\\n  gap: 3em;\\n}\\n\\n.gap-13 {\\n  gap: 3.25em;\\n}\\n\\n.gap-14 {\\n  gap: 3.5em;\\n}\\n\\n.gap-15 {\\n  gap: 3.75em;\\n}\\n\\n.flex-grow-0 {\\n  flex-grow: 0;\\n}\\n\\n.flex-grow-1 {\\n  flex-grow: 1;\\n}\\n\\n.flex-shrink-0 {\\n  flex-shrink: 0;\\n}\\n\\n.flex-shrink-1 {\\n  flex-shrink: 1;\\n}\\n\\n.d-grid {\\n  display: grid;\\n}\\n\\n.d-igrid {\\n  display: inline-grid;\\n}\\n\\n.grid-3 {\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr);\\n}\\n\\n.grid-4 {\\n  display: grid;\\n  grid-template-columns: repeat(4, 1fr);\\n}\\n\\n.grid-6 {\\n  display: grid;\\n  grid-template-columns: repeat(6, 1fr);\\n}\\n\\n.grid-8 {\\n  display: grid;\\n  grid-template-columns: repeat(8, 1fr);\\n}\\n\\n.grid-10 {\\n  display: grid;\\n  grid-template-columns: repeat(10, 1fr);\\n}\\n\\n.grid-12 {\\n  display: grid;\\n  grid-template-columns: repeat(12, 1fr);\\n}\\n\\n.col-span-1 {\\n  grid-column: span 1/span 1;\\n}\\n\\n.col-span-2 {\\n  grid-column: span 2/span 2;\\n}\\n\\n.col-span-3 {\\n  grid-column: span 3/span 3;\\n}\\n\\n.col-span-4 {\\n  grid-column: span 4/span 4;\\n}\\n\\n.col-span-5 {\\n  grid-column: span 5/span 5;\\n}\\n\\n.col-span-6 {\\n  grid-column: span 6/span 6;\\n}\\n\\n.col-span-7 {\\n  grid-column: span 7/span 7;\\n}\\n\\n.col-span-8 {\\n  grid-column: span 8/span 8;\\n}\\n\\n.col-span-9 {\\n  grid-column: span 9/span 9;\\n}\\n\\n.col-span-10 {\\n  grid-column: span 10/span 10;\\n}\\n\\n.col-span-11 {\\n  grid-column: span 11/span 11;\\n}\\n\\n.col-span-12 {\\n  grid-column: span 12/span 12;\\n}\\n\\n.grid-border-1 {\\n  border-left: 1px solid var(--theme-ctrl-fg);\\n  border-top: 1px solid var(--theme-ctrl-fg);\\n}\\n.grid-border-1 > * {\\n  border-right: 1px solid var(--theme-ctrl-fg);\\n  border-bottom: 1px solid var(--theme-ctrl-fg);\\n}\\n\\n.mt-0 {\\n  margin-top: 0em;\\n}\\n\\n.mb-0 {\\n  margin-bottom: 0em;\\n}\\n\\n.ml-0 {\\n  margin-left: 0em;\\n}\\n\\n.mr-0 {\\n  margin-right: 0em;\\n}\\n\\n.mx-0 {\\n  margin-left: 0em;\\n  margin-right: 0em;\\n}\\n\\n.my-0 {\\n  margin-top: 0em;\\n  margin-bottom: 0em;\\n}\\n\\n.ma-0 {\\n  margin: 0em;\\n}\\n\\n.pt-0 {\\n  padding-top: 0em;\\n}\\n\\n.pb-0 {\\n  padding-bottom: 0em;\\n}\\n\\n.pl-0 {\\n  padding-left: 0em;\\n}\\n\\n.pr-0 {\\n  padding-right: 0em;\\n}\\n\\n.px-0 {\\n  padding-left: 0em;\\n  padding-right: 0em;\\n}\\n\\n.py-0 {\\n  padding-top: 0em;\\n  padding-bottom: 0em;\\n}\\n\\n.pa-0 {\\n  padding: 0em;\\n}\\n\\n.mt-1 {\\n  margin-top: 0.25em;\\n}\\n\\n.mb-1 {\\n  margin-bottom: 0.25em;\\n}\\n\\n.ml-1 {\\n  margin-left: 0.25em;\\n}\\n\\n.mr-1 {\\n  margin-right: 0.25em;\\n}\\n\\n.mx-1 {\\n  margin-left: 0.25em;\\n  margin-right: 0.25em;\\n}\\n\\n.my-1 {\\n  margin-top: 0.25em;\\n  margin-bottom: 0.25em;\\n}\\n\\n.ma-1 {\\n  margin: 0.25em;\\n}\\n\\n.pt-1 {\\n  padding-top: 0.25em;\\n}\\n\\n.pb-1 {\\n  padding-bottom: 0.25em;\\n}\\n\\n.pl-1 {\\n  padding-left: 0.25em;\\n}\\n\\n.pr-1 {\\n  padding-right: 0.25em;\\n}\\n\\n.px-1 {\\n  padding-left: 0.25em;\\n  padding-right: 0.25em;\\n}\\n\\n.py-1 {\\n  padding-top: 0.25em;\\n  padding-bottom: 0.25em;\\n}\\n\\n.pa-1 {\\n  padding: 0.25em;\\n}\\n\\n.mt-2 {\\n  margin-top: 0.5em;\\n}\\n\\n.mb-2 {\\n  margin-bottom: 0.5em;\\n}\\n\\n.ml-2 {\\n  margin-left: 0.5em;\\n}\\n\\n.mr-2 {\\n  margin-right: 0.5em;\\n}\\n\\n.mx-2 {\\n  margin-left: 0.5em;\\n  margin-right: 0.5em;\\n}\\n\\n.my-2 {\\n  margin-top: 0.5em;\\n  margin-bottom: 0.5em;\\n}\\n\\n.ma-2 {\\n  margin: 0.5em;\\n}\\n\\n.pt-2 {\\n  padding-top: 0.5em;\\n}\\n\\n.pb-2 {\\n  padding-bottom: 0.5em;\\n}\\n\\n.pl-2 {\\n  padding-left: 0.5em;\\n}\\n\\n.pr-2 {\\n  padding-right: 0.5em;\\n}\\n\\n.px-2 {\\n  padding-left: 0.5em;\\n  padding-right: 0.5em;\\n}\\n\\n.py-2 {\\n  padding-top: 0.5em;\\n  padding-bottom: 0.5em;\\n}\\n\\n.pa-2 {\\n  padding: 0.5em;\\n}\\n\\n.mt-3 {\\n  margin-top: 0.75em;\\n}\\n\\n.mb-3 {\\n  margin-bottom: 0.75em;\\n}\\n\\n.ml-3 {\\n  margin-left: 0.75em;\\n}\\n\\n.mr-3 {\\n  margin-right: 0.75em;\\n}\\n\\n.mx-3 {\\n  margin-left: 0.75em;\\n  margin-right: 0.75em;\\n}\\n\\n.my-3 {\\n  margin-top: 0.75em;\\n  margin-bottom: 0.75em;\\n}\\n\\n.ma-3 {\\n  margin: 0.75em;\\n}\\n\\n.pt-3 {\\n  padding-top: 0.75em;\\n}\\n\\n.pb-3 {\\n  padding-bottom: 0.75em;\\n}\\n\\n.pl-3 {\\n  padding-left: 0.75em;\\n}\\n\\n.pr-3 {\\n  padding-right: 0.75em;\\n}\\n\\n.px-3 {\\n  padding-left: 0.75em;\\n  padding-right: 0.75em;\\n}\\n\\n.py-3 {\\n  padding-top: 0.75em;\\n  padding-bottom: 0.75em;\\n}\\n\\n.pa-3 {\\n  padding: 0.75em;\\n}\\n\\n.mt-4 {\\n  margin-top: 1em;\\n}\\n\\n.mb-4 {\\n  margin-bottom: 1em;\\n}\\n\\n.ml-4 {\\n  margin-left: 1em;\\n}\\n\\n.mr-4 {\\n  margin-right: 1em;\\n}\\n\\n.mx-4 {\\n  margin-left: 1em;\\n  margin-right: 1em;\\n}\\n\\n.my-4 {\\n  margin-top: 1em;\\n  margin-bottom: 1em;\\n}\\n\\n.ma-4 {\\n  margin: 1em;\\n}\\n\\n.pt-4 {\\n  padding-top: 1em;\\n}\\n\\n.pb-4 {\\n  padding-bottom: 1em;\\n}\\n\\n.pl-4 {\\n  padding-left: 1em;\\n}\\n\\n.pr-4 {\\n  padding-right: 1em;\\n}\\n\\n.px-4 {\\n  padding-left: 1em;\\n  padding-right: 1em;\\n}\\n\\n.py-4 {\\n  padding-top: 1em;\\n  padding-bottom: 1em;\\n}\\n\\n.pa-4 {\\n  padding: 1em;\\n}\\n\\n.mt-5 {\\n  margin-top: 1.25em;\\n}\\n\\n.mb-5 {\\n  margin-bottom: 1.25em;\\n}\\n\\n.ml-5 {\\n  margin-left: 1.25em;\\n}\\n\\n.mr-5 {\\n  margin-right: 1.25em;\\n}\\n\\n.mx-5 {\\n  margin-left: 1.25em;\\n  margin-right: 1.25em;\\n}\\n\\n.my-5 {\\n  margin-top: 1.25em;\\n  margin-bottom: 1.25em;\\n}\\n\\n.ma-5 {\\n  margin: 1.25em;\\n}\\n\\n.pt-5 {\\n  padding-top: 1.25em;\\n}\\n\\n.pb-5 {\\n  padding-bottom: 1.25em;\\n}\\n\\n.pl-5 {\\n  padding-left: 1.25em;\\n}\\n\\n.pr-5 {\\n  padding-right: 1.25em;\\n}\\n\\n.px-5 {\\n  padding-left: 1.25em;\\n  padding-right: 1.25em;\\n}\\n\\n.py-5 {\\n  padding-top: 1.25em;\\n  padding-bottom: 1.25em;\\n}\\n\\n.pa-5 {\\n  padding: 1.25em;\\n}\\n\\n.mt-6 {\\n  margin-top: 1.5em;\\n}\\n\\n.mb-6 {\\n  margin-bottom: 1.5em;\\n}\\n\\n.ml-6 {\\n  margin-left: 1.5em;\\n}\\n\\n.mr-6 {\\n  margin-right: 1.5em;\\n}\\n\\n.mx-6 {\\n  margin-left: 1.5em;\\n  margin-right: 1.5em;\\n}\\n\\n.my-6 {\\n  margin-top: 1.5em;\\n  margin-bottom: 1.5em;\\n}\\n\\n.ma-6 {\\n  margin: 1.5em;\\n}\\n\\n.pt-6 {\\n  padding-top: 1.5em;\\n}\\n\\n.pb-6 {\\n  padding-bottom: 1.5em;\\n}\\n\\n.pl-6 {\\n  padding-left: 1.5em;\\n}\\n\\n.pr-6 {\\n  padding-right: 1.5em;\\n}\\n\\n.px-6 {\\n  padding-left: 1.5em;\\n  padding-right: 1.5em;\\n}\\n\\n.py-6 {\\n  padding-top: 1.5em;\\n  padding-bottom: 1.5em;\\n}\\n\\n.pa-6 {\\n  padding: 1.5em;\\n}\\n\\n.mt-7 {\\n  margin-top: 1.75em;\\n}\\n\\n.mb-7 {\\n  margin-bottom: 1.75em;\\n}\\n\\n.ml-7 {\\n  margin-left: 1.75em;\\n}\\n\\n.mr-7 {\\n  margin-right: 1.75em;\\n}\\n\\n.mx-7 {\\n  margin-left: 1.75em;\\n  margin-right: 1.75em;\\n}\\n\\n.my-7 {\\n  margin-top: 1.75em;\\n  margin-bottom: 1.75em;\\n}\\n\\n.ma-7 {\\n  margin: 1.75em;\\n}\\n\\n.pt-7 {\\n  padding-top: 1.75em;\\n}\\n\\n.pb-7 {\\n  padding-bottom: 1.75em;\\n}\\n\\n.pl-7 {\\n  padding-left: 1.75em;\\n}\\n\\n.pr-7 {\\n  padding-right: 1.75em;\\n}\\n\\n.px-7 {\\n  padding-left: 1.75em;\\n  padding-right: 1.75em;\\n}\\n\\n.py-7 {\\n  padding-top: 1.75em;\\n  padding-bottom: 1.75em;\\n}\\n\\n.pa-7 {\\n  padding: 1.75em;\\n}\\n\\n.mt-8 {\\n  margin-top: 2em;\\n}\\n\\n.mb-8 {\\n  margin-bottom: 2em;\\n}\\n\\n.ml-8 {\\n  margin-left: 2em;\\n}\\n\\n.mr-8 {\\n  margin-right: 2em;\\n}\\n\\n.mx-8 {\\n  margin-left: 2em;\\n  margin-right: 2em;\\n}\\n\\n.my-8 {\\n  margin-top: 2em;\\n  margin-bottom: 2em;\\n}\\n\\n.ma-8 {\\n  margin: 2em;\\n}\\n\\n.pt-8 {\\n  padding-top: 2em;\\n}\\n\\n.pb-8 {\\n  padding-bottom: 2em;\\n}\\n\\n.pl-8 {\\n  padding-left: 2em;\\n}\\n\\n.pr-8 {\\n  padding-right: 2em;\\n}\\n\\n.px-8 {\\n  padding-left: 2em;\\n  padding-right: 2em;\\n}\\n\\n.py-8 {\\n  padding-top: 2em;\\n  padding-bottom: 2em;\\n}\\n\\n.pa-8 {\\n  padding: 2em;\\n}\\n\\n.mt-9 {\\n  margin-top: 2.25em;\\n}\\n\\n.mb-9 {\\n  margin-bottom: 2.25em;\\n}\\n\\n.ml-9 {\\n  margin-left: 2.25em;\\n}\\n\\n.mr-9 {\\n  margin-right: 2.25em;\\n}\\n\\n.mx-9 {\\n  margin-left: 2.25em;\\n  margin-right: 2.25em;\\n}\\n\\n.my-9 {\\n  margin-top: 2.25em;\\n  margin-bottom: 2.25em;\\n}\\n\\n.ma-9 {\\n  margin: 2.25em;\\n}\\n\\n.pt-9 {\\n  padding-top: 2.25em;\\n}\\n\\n.pb-9 {\\n  padding-bottom: 2.25em;\\n}\\n\\n.pl-9 {\\n  padding-left: 2.25em;\\n}\\n\\n.pr-9 {\\n  padding-right: 2.25em;\\n}\\n\\n.px-9 {\\n  padding-left: 2.25em;\\n  padding-right: 2.25em;\\n}\\n\\n.py-9 {\\n  padding-top: 2.25em;\\n  padding-bottom: 2.25em;\\n}\\n\\n.pa-9 {\\n  padding: 2.25em;\\n}\\n\\n.mt-10 {\\n  margin-top: 2.5em;\\n}\\n\\n.mb-10 {\\n  margin-bottom: 2.5em;\\n}\\n\\n.ml-10 {\\n  margin-left: 2.5em;\\n}\\n\\n.mr-10 {\\n  margin-right: 2.5em;\\n}\\n\\n.mx-10 {\\n  margin-left: 2.5em;\\n  margin-right: 2.5em;\\n}\\n\\n.my-10 {\\n  margin-top: 2.5em;\\n  margin-bottom: 2.5em;\\n}\\n\\n.ma-10 {\\n  margin: 2.5em;\\n}\\n\\n.pt-10 {\\n  padding-top: 2.5em;\\n}\\n\\n.pb-10 {\\n  padding-bottom: 2.5em;\\n}\\n\\n.pl-10 {\\n  padding-left: 2.5em;\\n}\\n\\n.pr-10 {\\n  padding-right: 2.5em;\\n}\\n\\n.px-10 {\\n  padding-left: 2.5em;\\n  padding-right: 2.5em;\\n}\\n\\n.py-10 {\\n  padding-top: 2.5em;\\n  padding-bottom: 2.5em;\\n}\\n\\n.pa-10 {\\n  padding: 2.5em;\\n}\\n\\n.mt-11 {\\n  margin-top: 2.75em;\\n}\\n\\n.mb-11 {\\n  margin-bottom: 2.75em;\\n}\\n\\n.ml-11 {\\n  margin-left: 2.75em;\\n}\\n\\n.mr-11 {\\n  margin-right: 2.75em;\\n}\\n\\n.mx-11 {\\n  margin-left: 2.75em;\\n  margin-right: 2.75em;\\n}\\n\\n.my-11 {\\n  margin-top: 2.75em;\\n  margin-bottom: 2.75em;\\n}\\n\\n.ma-11 {\\n  margin: 2.75em;\\n}\\n\\n.pt-11 {\\n  padding-top: 2.75em;\\n}\\n\\n.pb-11 {\\n  padding-bottom: 2.75em;\\n}\\n\\n.pl-11 {\\n  padding-left: 2.75em;\\n}\\n\\n.pr-11 {\\n  padding-right: 2.75em;\\n}\\n\\n.px-11 {\\n  padding-left: 2.75em;\\n  padding-right: 2.75em;\\n}\\n\\n.py-11 {\\n  padding-top: 2.75em;\\n  padding-bottom: 2.75em;\\n}\\n\\n.pa-11 {\\n  padding: 2.75em;\\n}\\n\\n.mt-12 {\\n  margin-top: 3em;\\n}\\n\\n.mb-12 {\\n  margin-bottom: 3em;\\n}\\n\\n.ml-12 {\\n  margin-left: 3em;\\n}\\n\\n.mr-12 {\\n  margin-right: 3em;\\n}\\n\\n.mx-12 {\\n  margin-left: 3em;\\n  margin-right: 3em;\\n}\\n\\n.my-12 {\\n  margin-top: 3em;\\n  margin-bottom: 3em;\\n}\\n\\n.ma-12 {\\n  margin: 3em;\\n}\\n\\n.pt-12 {\\n  padding-top: 3em;\\n}\\n\\n.pb-12 {\\n  padding-bottom: 3em;\\n}\\n\\n.pl-12 {\\n  padding-left: 3em;\\n}\\n\\n.pr-12 {\\n  padding-right: 3em;\\n}\\n\\n.px-12 {\\n  padding-left: 3em;\\n  padding-right: 3em;\\n}\\n\\n.py-12 {\\n  padding-top: 3em;\\n  padding-bottom: 3em;\\n}\\n\\n.pa-12 {\\n  padding: 3em;\\n}\\n\\n.mt-13 {\\n  margin-top: 3.25em;\\n}\\n\\n.mb-13 {\\n  margin-bottom: 3.25em;\\n}\\n\\n.ml-13 {\\n  margin-left: 3.25em;\\n}\\n\\n.mr-13 {\\n  margin-right: 3.25em;\\n}\\n\\n.mx-13 {\\n  margin-left: 3.25em;\\n  margin-right: 3.25em;\\n}\\n\\n.my-13 {\\n  margin-top: 3.25em;\\n  margin-bottom: 3.25em;\\n}\\n\\n.ma-13 {\\n  margin: 3.25em;\\n}\\n\\n.pt-13 {\\n  padding-top: 3.25em;\\n}\\n\\n.pb-13 {\\n  padding-bottom: 3.25em;\\n}\\n\\n.pl-13 {\\n  padding-left: 3.25em;\\n}\\n\\n.pr-13 {\\n  padding-right: 3.25em;\\n}\\n\\n.px-13 {\\n  padding-left: 3.25em;\\n  padding-right: 3.25em;\\n}\\n\\n.py-13 {\\n  padding-top: 3.25em;\\n  padding-bottom: 3.25em;\\n}\\n\\n.pa-13 {\\n  padding: 3.25em;\\n}\\n\\n.mt-14 {\\n  margin-top: 3.5em;\\n}\\n\\n.mb-14 {\\n  margin-bottom: 3.5em;\\n}\\n\\n.ml-14 {\\n  margin-left: 3.5em;\\n}\\n\\n.mr-14 {\\n  margin-right: 3.5em;\\n}\\n\\n.mx-14 {\\n  margin-left: 3.5em;\\n  margin-right: 3.5em;\\n}\\n\\n.my-14 {\\n  margin-top: 3.5em;\\n  margin-bottom: 3.5em;\\n}\\n\\n.ma-14 {\\n  margin: 3.5em;\\n}\\n\\n.pt-14 {\\n  padding-top: 3.5em;\\n}\\n\\n.pb-14 {\\n  padding-bottom: 3.5em;\\n}\\n\\n.pl-14 {\\n  padding-left: 3.5em;\\n}\\n\\n.pr-14 {\\n  padding-right: 3.5em;\\n}\\n\\n.px-14 {\\n  padding-left: 3.5em;\\n  padding-right: 3.5em;\\n}\\n\\n.py-14 {\\n  padding-top: 3.5em;\\n  padding-bottom: 3.5em;\\n}\\n\\n.pa-14 {\\n  padding: 3.5em;\\n}\\n\\n.mt-15 {\\n  margin-top: 3.75em;\\n}\\n\\n.mb-15 {\\n  margin-bottom: 3.75em;\\n}\\n\\n.ml-15 {\\n  margin-left: 3.75em;\\n}\\n\\n.mr-15 {\\n  margin-right: 3.75em;\\n}\\n\\n.mx-15 {\\n  margin-left: 3.75em;\\n  margin-right: 3.75em;\\n}\\n\\n.my-15 {\\n  margin-top: 3.75em;\\n  margin-bottom: 3.75em;\\n}\\n\\n.ma-15 {\\n  margin: 3.75em;\\n}\\n\\n.pt-15 {\\n  padding-top: 3.75em;\\n}\\n\\n.pb-15 {\\n  padding-bottom: 3.75em;\\n}\\n\\n.pl-15 {\\n  padding-left: 3.75em;\\n}\\n\\n.pr-15 {\\n  padding-right: 3.75em;\\n}\\n\\n.px-15 {\\n  padding-left: 3.75em;\\n  padding-right: 3.75em;\\n}\\n\\n.py-15 {\\n  padding-top: 3.75em;\\n  padding-bottom: 3.75em;\\n}\\n\\n.pa-15 {\\n  padding: 3.75em;\\n}\\n\\n.vh100 {\\n  height: 100vh;\\n}\\n\\n.text-bold, .text-b, .text-strong {\\n  font-weight: bold;\\n}\\n\\n.text-i, .text-em {\\n  font-style: italic;\\n}\\n\\n.text-u {\\n  text-decoration: underline;\\n}\\n\\n.text-p {\\n  display: block;\\n  margin: 0 0.5em;\\n  text-indent: 1em;\\n}\\n\\n.text-div {\\n  display: block;\\n}\\n\\n.text-span {\\n  display: inline;\\n}\\n\\n.text-sub {\\n  vertical-align: sub;\\n  font-size: smaller;\\n}\\n\\n.text-sup {\\n  vertical-align: super;\\n  font-size: smaller;\\n}\\n\\n.text-error {\\n  background: #111;\\n  color: #a00;\\n  font-weight: bold;\\n}\\n\\n.text-left {\\n  text-align: left;\\n}\\n\\n.text-right {\\n  text-align: right;\\n}\\n\\n.text-center {\\n  text-align: center;\\n}\\n\\n.text-xxxs {\\n  font-size: 33%;\\n}\\n\\n.text-xxs {\\n  font-size: 50%;\\n}\\n\\n.text-xs {\\n  font-size: 67%;\\n}\\n\\n.text-s {\\n  font-size: 80%;\\n}\\n\\n.text-small {\\n  font-size: 80%;\\n}\\n\\n.text-normal {\\n  font-size: 100%;\\n}\\n\\n.text-large {\\n  font-size: 125%;\\n}\\n\\n.text-l {\\n  font-size: 125%;\\n}\\n\\n.text-xl {\\n  font-size: 150%;\\n}\\n\\n.text-xxl {\\n  font-size: 200%;\\n}\\n\\n.text-xxxl {\\n  font-size: 300%;\\n}\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://aap18/./src/engine/style/index.scss?./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/game/style/index.scss":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/game/style/index.scss ***!
  \****************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --theme-bg: #333; /* primary background */\\n  --theme-font-face: Candara, Corbel, Calibri, sans-serif;\\n  --theme-font-size: 16px;\\n  --tc-fg: #ccc; /* primary text color */\\n  --tc-bold: #fff; /* bold text color */\\n  --tc-shadowed: #999;\\n  --tc-disabled: #666;\\n  --tc-focus: #0ff;\\n  --tc-link: #07f;\\n  --tc-hl: #dd2; /* highlighted text */\\n  --tc-xp: #cc3;\\n  --tc-hp: #3a3;\\n  --tc-energy: #ccc;\\n  --tc-lust: #c3c;\\n  --tc-damage: #a33;\\n  --theme-ctrl-fg: #aaa; /* control borders */\\n  --theme-ctrl-bg: #555; /* control background */\\n  --theme-ctrl-default: #fff;\\n  --theme-ctrl-disabled: #666;\\n  --theme-ctrl-font-face: monospace;\\n  --theme-ctrl-font-size: 16px;\\n}\\n\\n.text-damage-none {\\n  color: var(--tc-shadowed);\\n}\\n\\n.text-damage-sharp, .text-damage-blunt {\\n  color: #a50;\\n}\\n\\n.text-damage-fire {\\n  color: #a00;\\n}\\n\\n.text-damage-ice {\\n  color: #4cc;\\n}\\n\\n.text-damage-shock {\\n  color: #44c;\\n}\\n\\n.text-damage-acid {\\n  color: #4c4;\\n}\\n\\n.text-damage-magic {\\n  color: #84c;\\n}\\n\\n.text-damage-darkness {\\n  color: #666;\\n}\\n\\n.text-damage-light {\\n  color: #cc8;\\n}\\n\\n.text-damage-pure {\\n  color: #fff;\\n}\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://aap18/./src/game/style/index.scss?./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\n//# sourceURL=webpack://aap18/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://aap18/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/preact/compat/dist/compat.module.js":
/*!**********************************************************!*\
  !*** ./node_modules/preact/compat/dist/compat.module.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Children\": () => (/* binding */ k),\n/* harmony export */   \"Component\": () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_1__.Component),\n/* harmony export */   \"Fragment\": () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_1__.Fragment),\n/* harmony export */   \"PureComponent\": () => (/* binding */ E),\n/* harmony export */   \"StrictMode\": () => (/* binding */ cn),\n/* harmony export */   \"Suspense\": () => (/* binding */ L),\n/* harmony export */   \"SuspenseList\": () => (/* binding */ M),\n/* harmony export */   \"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\": () => (/* binding */ X),\n/* harmony export */   \"cloneElement\": () => (/* binding */ rn),\n/* harmony export */   \"createContext\": () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_1__.createContext),\n/* harmony export */   \"createElement\": () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_1__.createElement),\n/* harmony export */   \"createFactory\": () => (/* binding */ tn),\n/* harmony export */   \"createPortal\": () => (/* binding */ W),\n/* harmony export */   \"createRef\": () => (/* reexport safe */ preact__WEBPACK_IMPORTED_MODULE_1__.createRef),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"findDOMNode\": () => (/* binding */ on),\n/* harmony export */   \"flushSync\": () => (/* binding */ fn),\n/* harmony export */   \"forwardRef\": () => (/* binding */ x),\n/* harmony export */   \"hydrate\": () => (/* binding */ B),\n/* harmony export */   \"isValidElement\": () => (/* binding */ en),\n/* harmony export */   \"lazy\": () => (/* binding */ F),\n/* harmony export */   \"memo\": () => (/* binding */ g),\n/* harmony export */   \"render\": () => (/* binding */ z),\n/* harmony export */   \"unmountComponentAtNode\": () => (/* binding */ un),\n/* harmony export */   \"unstable_batchedUpdates\": () => (/* binding */ ln),\n/* harmony export */   \"useCallback\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useCallback),\n/* harmony export */   \"useContext\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useContext),\n/* harmony export */   \"useDebugValue\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useDebugValue),\n/* harmony export */   \"useEffect\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useEffect),\n/* harmony export */   \"useErrorBoundary\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useErrorBoundary),\n/* harmony export */   \"useImperativeHandle\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle),\n/* harmony export */   \"useLayoutEffect\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect),\n/* harmony export */   \"useMemo\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useMemo),\n/* harmony export */   \"useReducer\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useReducer),\n/* harmony export */   \"useRef\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useRef),\n/* harmony export */   \"useState\": () => (/* reexport safe */ preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useState),\n/* harmony export */   \"version\": () => (/* binding */ nn)\n/* harmony export */ });\n/* harmony import */ var preact_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/hooks */ \"./node_modules/preact/hooks/dist/hooks.module.js\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nfunction C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,(0,preact__WEBPACK_IMPORTED_MODULE_1__.createElement)(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new preact__WEBPACK_IMPORTED_MODULE_1__.Component).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=preact__WEBPACK_IMPORTED_MODULE_1__.options.__b;preact__WEBPACK_IMPORTED_MODULE_1__.options.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t){var e=C({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:(0,preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray)((0,preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray)(n).map(t))},k={map:N,forEach:N,count:function(n){return n?(0,preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray)(n).length:0},only:function(n){var t=(0,preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray)(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray},A=preact__WEBPACK_IMPORTED_MODULE_1__.options.__e;preact__WEBPACK_IMPORTED_MODULE_1__.options.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);A(n,t,e,r)};var O=preact__WEBPACK_IMPORTED_MODULE_1__.options.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return (0,preact__WEBPACK_IMPORTED_MODULE_1__.createElement)(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function M(){this.u=null,this.o=null}preact__WEBPACK_IMPORTED_MODULE_1__.options.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new preact__WEBPACK_IMPORTED_MODULE_1__.Component).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&(0,preact__WEBPACK_IMPORTED_MODULE_1__.createElement)(preact__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,n.fallback);return u&&(u.__h=null),[(0,preact__WEBPACK_IMPORTED_MODULE_1__.createElement)(preact__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,t.__e?null:n.children),u]};var T=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function D(n){return this.getChildContext=function(){return n.context},n.children}function I(n){var t=this,e=n.i;t.componentWillUnmount=function(){(0,preact__WEBPACK_IMPORTED_MODULE_1__.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),(0,preact__WEBPACK_IMPORTED_MODULE_1__.render)((0,preact__WEBPACK_IMPORTED_MODULE_1__.createElement)(D,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function W(n,t){var e=(0,preact__WEBPACK_IMPORTED_MODULE_1__.createElement)(I,{__v:n,i:t});return e.containerInfo=t,e}(M.prototype=new preact__WEBPACK_IMPORTED_MODULE_1__.Component).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),T(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=(0,preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray)(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){T(n,e,t)})};var P=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|shape|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$=\"undefined\"!=typeof document,j=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),(0,preact__WEBPACK_IMPORTED_MODULE_1__.render)(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return (0,preact__WEBPACK_IMPORTED_MODULE_1__.hydrate)(n,t),\"function\"==typeof e&&e(),n?n.__c:null}preact__WEBPACK_IMPORTED_MODULE_1__.Component.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(preact__WEBPACK_IMPORTED_MODULE_1__.Component.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=preact__WEBPACK_IMPORTED_MODULE_1__.options.event;function Z(){}function Y(){return this.cancelBubble}function q(){return this.defaultPrevented}preact__WEBPACK_IMPORTED_MODULE_1__.options.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=q,n.nativeEvent=n};var G,J={configurable:!0,get:function(){return this.class}},K=preact__WEBPACK_IMPORTED_MODULE_1__.options.vnode;preact__WEBPACK_IMPORTED_MODULE_1__.options.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){var u=-1===t.indexOf(\"-\");for(var o in r={},e){var i=e[o];$&&\"children\"===o&&\"noscript\"===t||\"value\"===o&&\"defaultValue\"in e&&null==i||(\"defaultValue\"===o&&\"value\"in e&&null==e.value?o=\"value\":\"download\"===o&&!0===i?i=\"\":/ondoubleclick/i.test(o)?o=\"ondblclick\":/^onchange(textarea|input)/i.test(o+t)&&!j(e.type)?o=\"oninput\":/^onfocus$/i.test(o)?o=\"onfocusin\":/^onblur$/i.test(o)?o=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():u&&V.test(o)?o=o.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===i&&(i=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o=\"oninputCapture\")),r[o]=i)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=(0,preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray)(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=(0,preact__WEBPACK_IMPORTED_MODULE_1__.toChildArray)(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r,e.class!=e.className&&(J.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",J))}n.$$typeof=P,K&&K(n)};var Q=preact__WEBPACK_IMPORTED_MODULE_1__.options.__r;preact__WEBPACK_IMPORTED_MODULE_1__.options.__r=function(n){Q&&Q(n),G=n.__c};var X={ReactCurrentDispatcher:{current:{readContext:function(n){return G.__n[n.__c].props.value}}}},nn=\"17.0.2\";function tn(n){return preact__WEBPACK_IMPORTED_MODULE_1__.createElement.bind(null,n)}function en(n){return!!n&&n.$$typeof===P}function rn(n){return en(n)?preact__WEBPACK_IMPORTED_MODULE_1__.cloneElement.apply(null,arguments):n}function un(n){return!!n.__k&&((0,preact__WEBPACK_IMPORTED_MODULE_1__.render)(null,n),!0)}function on(n){return n&&(n.base||1===n.nodeType&&n)||null}var ln=function(n,t){return n(t)},fn=function(n,t){return n(t)},cn=preact__WEBPACK_IMPORTED_MODULE_1__.Fragment;/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({useState:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useState,useReducer:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useReducer,useEffect:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useEffect,useLayoutEffect:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect,useRef:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useRef,useImperativeHandle:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle,useMemo:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useMemo,useCallback:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useCallback,useContext:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useContext,useDebugValue:preact_hooks__WEBPACK_IMPORTED_MODULE_0__.useDebugValue,version:\"17.0.2\",Children:k,render:z,hydrate:B,unmountComponentAtNode:un,createPortal:W,createElement:preact__WEBPACK_IMPORTED_MODULE_1__.createElement,createContext:preact__WEBPACK_IMPORTED_MODULE_1__.createContext,createFactory:tn,cloneElement:rn,createRef:preact__WEBPACK_IMPORTED_MODULE_1__.createRef,Fragment:preact__WEBPACK_IMPORTED_MODULE_1__.Fragment,isValidElement:en,findDOMNode:on,Component:preact__WEBPACK_IMPORTED_MODULE_1__.Component,PureComponent:E,memo:g,forwardRef:x,flushSync:fn,unstable_batchedUpdates:ln,StrictMode:preact__WEBPACK_IMPORTED_MODULE_1__.Fragment,Suspense:L,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:X});\n//# sourceMappingURL=compat.module.js.map\n\n\n//# sourceURL=webpack://aap18/./node_modules/preact/compat/dist/compat.module.js?");

/***/ }),

/***/ "./node_modules/preact/dist/preact.module.js":
/*!***************************************************!*\
  !*** ./node_modules/preact/dist/preact.module.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Component\": () => (/* binding */ _),\n/* harmony export */   \"Fragment\": () => (/* binding */ d),\n/* harmony export */   \"cloneElement\": () => (/* binding */ B),\n/* harmony export */   \"createContext\": () => (/* binding */ D),\n/* harmony export */   \"createElement\": () => (/* binding */ v),\n/* harmony export */   \"createRef\": () => (/* binding */ p),\n/* harmony export */   \"h\": () => (/* binding */ v),\n/* harmony export */   \"hydrate\": () => (/* binding */ q),\n/* harmony export */   \"isValidElement\": () => (/* binding */ i),\n/* harmony export */   \"options\": () => (/* binding */ l),\n/* harmony export */   \"render\": () => (/* binding */ S),\n/* harmony export */   \"toChildArray\": () => (/* binding */ A)\n/* harmony export */ });\nvar n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function h(n){var l=n.parentNode;l&&l.removeChild(n)}function v(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return y(l,f,t,o,null)}function y(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function p(){return{current:null}}function d(n){return n.children}function _(n,l){this.props=n,this.context=l}function k(n,l){if(null==l)return n.__?k(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?k(n):null}function b(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return b(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=a({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?k(t):o,t.__h),z(u,t),t.__e!=o&&b(t)))})}function w(n,l,u,i,t,o,r,f,s,a){var h,v,p,_,b,m,g,w=i&&i.__k||c,A=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(_=u.__k[h]=null==(_=l[h])||\"boolean\"==typeof _?null:\"string\"==typeof _||\"number\"==typeof _||\"bigint\"==typeof _?y(null,_,null,null,_):Array.isArray(_)?y(d,{children:_},null,null,null):_.__b>0?y(_.type,_.props,_.key,null,_.__v):_)){if(_.__=u,_.__b=u.__b+1,null===(p=w[h])||p&&_.key==p.key&&_.type===p.type)w[h]=void 0;else for(v=0;v<A;v++){if((p=w[v])&&_.key==p.key&&_.type===p.type){w[v]=void 0;break}p=null}j(n,_,p=p||e,t,o,r,f,s,a),b=_.__e,(v=_.ref)&&p.ref!=v&&(g||(g=[]),p.ref&&g.push(p.ref,null,_),g.push(v,_.__c||b,_)),null!=b?(null==m&&(m=b),\"function\"==typeof _.type&&_.__k===p.__k?_.__d=s=x(_,s,n):s=P(n,_,p,w,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&p.__e==s&&s.parentNode!=n&&(s=k(p))}for(u.__e=m,h=A;h--;)null!=w[h]&&(\"function\"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=k(i,h+1)),N(w[h],w[h]));if(g)for(h=0;h<g.length;h++)M(g[h],g[++h],g[++h])}function x(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?x(i,l,u):P(u,i,i,t,i.__e,l));return l}function A(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){A(n,l)}):l.push(n)),l}function P(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||s.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var s,h,v,y,p,k,b,m,g,x,A,P,C,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(m=u.props,g=(s=$.contextType)&&t[s.__c],x=s?g?g.props.value:s.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in $&&$.prototype.render?u.__c=h=new $(m,x):(u.__c=h=new _(m,x),h.constructor=$,h.render=O),g&&g.sub(h),h.props=m,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=$.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=a({},h.__s)),a(h.__s,$.getDerivedStateFromProps(m,h.__s))),y=h.props,p=h.state,v)null==$.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==$.getDerivedStateFromProps&&m!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,x)||u.__v===i.__v){h.props=m,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,p,k)})}if(h.context=x,h.props=m,h.__v=u,h.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render)h.state=h.__s,h.__d=!1,A&&A(u),s=h.render(h.props,h.state,h.context);else do{h.__d=!1,A&&A(u),s=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++P<25);h.state=h.__s,null!=h.getChildContext&&(t=a(a({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,p)),C=null!=s&&s.type===d&&null==s.key?s.props.children:s,w(n,Array.isArray(C)?C:[C],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,f,c){var s,a,v,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(o=!0),null!=r)for(;_<r.length;_++)if((s=r[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),a=(y=i.props||e).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(v||a)&&(v&&(a&&v.__html==a.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(_=u.props.children,w(l,Array.isArray(_)?_:[_],u,i,t,o&&\"foreignObject\"!==d,r,f,r?r[0]:i.__k&&k(i,0),c),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);c||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&H(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&H(l,\"checked\",_,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,\"function\"!=typeof n.type);i||null==n.__e||h(n.__e),n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function S(u,i,t){var o,r,f;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],j(i,u=(!o&&t||i).__k=v(d,null,[u]),r||e,e,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,f,!o&&t?t:r?r.__e:i.firstChild,o),z(f,u)}function q(n,l){S(n,l,q)}function B(l,u,i){var t,o,r,f=a({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),y(l.type,f,t||l.key,o||l.ref,null)}function D(n,l){var u={__c:l=\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(m)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=c.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},_.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(a({},u),this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),m(this))},_.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},_.prototype.render=d,t=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,f=0;\n//# sourceMappingURL=preact.module.js.map\n\n\n//# sourceURL=webpack://aap18/./node_modules/preact/dist/preact.module.js?");

/***/ }),

/***/ "./node_modules/preact/hooks/dist/hooks.module.js":
/*!********************************************************!*\
  !*** ./node_modules/preact/hooks/dist/hooks.module.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"useCallback\": () => (/* binding */ T),\n/* harmony export */   \"useContext\": () => (/* binding */ q),\n/* harmony export */   \"useDebugValue\": () => (/* binding */ x),\n/* harmony export */   \"useEffect\": () => (/* binding */ _),\n/* harmony export */   \"useErrorBoundary\": () => (/* binding */ V),\n/* harmony export */   \"useImperativeHandle\": () => (/* binding */ A),\n/* harmony export */   \"useLayoutEffect\": () => (/* binding */ h),\n/* harmony export */   \"useMemo\": () => (/* binding */ F),\n/* harmony export */   \"useReducer\": () => (/* binding */ d),\n/* harmony export */   \"useRef\": () => (/* binding */ s),\n/* harmony export */   \"useState\": () => (/* binding */ y)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\nvar t,u,r,o,i=0,c=[],f=[],e=preact__WEBPACK_IMPORTED_MODULE_0__.options.__b,a=preact__WEBPACK_IMPORTED_MODULE_0__.options.__r,v=preact__WEBPACK_IMPORTED_MODULE_0__.options.diffed,l=preact__WEBPACK_IMPORTED_MODULE_0__.options.__c,m=preact__WEBPACK_IMPORTED_MODULE_0__.options.unmount;function p(t,r){preact__WEBPACK_IMPORTED_MODULE_0__.options.__h&&preact__WEBPACK_IMPORTED_MODULE_0__.options.__h(u,t,i||r),i=0;var o=u.__H||(u.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({__V:f}),o.__[t]}function y(n){return i=1,d(z,n)}function d(n,r,o){var i=p(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):z(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function _(r,o){var i=p(t++,3);!preact__WEBPACK_IMPORTED_MODULE_0__.options.__s&&w(i.__H,o)&&(i.__=r,i.u=o,u.__H.__h.push(i))}function h(r,o){var i=p(t++,4);!preact__WEBPACK_IMPORTED_MODULE_0__.options.__s&&w(i.__H,o)&&(i.__=r,i.u=o,u.__h.push(i))}function s(n){return i=5,F(function(){return{current:n}},[])}function A(n,t,u){i=6,h(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==u?u:u.concat(n))}function F(n,u){var r=p(t++,7);return w(r.__H,u)?(r.__V=n(),r.u=u,r.__h=n,r.__V):r.__}function T(n,t){return i=8,F(function(){return n},t)}function q(n){var r=u.context[n.__c],o=p(t++,9);return o.c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function x(t,u){preact__WEBPACK_IMPORTED_MODULE_0__.options.useDebugValue&&preact__WEBPACK_IMPORTED_MODULE_0__.options.useDebugValue(u?u(t):t)}function V(n){var r=p(t++,10),o=y();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function b(){for(var t;t=c.shift();)if(t.__P)try{t.__H.__h.forEach(j),t.__H.__h.forEach(k),t.__H.__h=[]}catch(u){t.__H.__h=[],preact__WEBPACK_IMPORTED_MODULE_0__.options.__e(u,t.__v)}}preact__WEBPACK_IMPORTED_MODULE_0__.options.__b=function(n){u=null,e&&e(n)},preact__WEBPACK_IMPORTED_MODULE_0__.options.__r=function(n){a&&a(n),t=0;var o=(u=n.__c).__H;o&&(r===u?(o.__h=[],u.__h=[],o.__.forEach(function(n){n.__V=f,n.u=void 0})):(o.__h.forEach(j),o.__h.forEach(k),o.__h=[])),r=u},preact__WEBPACK_IMPORTED_MODULE_0__.options.diffed=function(t){v&&v(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==c.push(i)&&o===preact__WEBPACK_IMPORTED_MODULE_0__.options.requestAnimationFrame||((o=preact__WEBPACK_IMPORTED_MODULE_0__.options.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),g&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);g&&(t=requestAnimationFrame(u))})(b)),i.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.__V!==f&&(n.__=n.__V),n.u=void 0,n.__V=f})),r=u=null},preact__WEBPACK_IMPORTED_MODULE_0__.options.__c=function(t,u){u.some(function(t){try{t.__h.forEach(j),t.__h=t.__h.filter(function(n){return!n.__||k(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],preact__WEBPACK_IMPORTED_MODULE_0__.options.__e(r,t.__v)}}),l&&l(t,u)},preact__WEBPACK_IMPORTED_MODULE_0__.options.unmount=function(t){m&&m(t);var u,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{j(n)}catch(n){u=n}}),u&&preact__WEBPACK_IMPORTED_MODULE_0__.options.__e(u,r.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t=u,r=n.__c;\"function\"==typeof r&&(n.__c=void 0,r()),u=t}function k(n){var t=u;n.__c=n.__(),u=t}function w(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function z(n,t){return\"function\"==typeof t?t(n):t}\n//# sourceMappingURL=hooks.module.js.map\n\n\n//# sourceURL=webpack://aap18/./node_modules/preact/hooks/dist/hooks.module.js?");

/***/ }),

/***/ "./node_modules/shifty/dist/shifty.js":
/*!********************************************!*\
  !*** ./node_modules/shifty/dist/shifty.js ***!
  \********************************************/
/***/ ((module) => {

eval("/*! For license information please see shifty.js.LICENSE.txt */\n!function(t,n){ true?module.exports=n():0}(self,(function(){return function(){\"use strict\";var t={720:function(t,n,e){e.r(n),e.d(n,{Scene:function(){return Xt},Tweenable:function(){return _t},interpolate:function(){return Wt},processTweens:function(){return ft},setBezierFunction:function(){return Yt},tween:function(){return yt},unsetBezierFunction:function(){return Zt}});var r={};e.r(r),e.d(r,{bounce:function(){return D},bouncePast:function(){return q},easeFrom:function(){return B},easeFromTo:function(){return Q},easeInBack:function(){return E},easeInCirc:function(){return j},easeInCubic:function(){return c},easeInExpo:function(){return b},easeInOutBack:function(){return F},easeInOutCirc:function(){return P},easeInOutCubic:function(){return l},easeInOutExpo:function(){return S},easeInOutQuad:function(){return s},easeInOutQuart:function(){return v},easeInOutQuint:function(){return d},easeInOutSine:function(){return w},easeInQuad:function(){return o},easeInQuart:function(){return h},easeInQuint:function(){return _},easeInSine:function(){return g},easeOutBack:function(){return T},easeOutBounce:function(){return M},easeOutCirc:function(){return k},easeOutCubic:function(){return f},easeOutExpo:function(){return O},easeOutQuad:function(){return a},easeOutQuart:function(){return p},easeOutQuint:function(){return y},easeOutSine:function(){return m},easeTo:function(){return N},elastic:function(){return I},linear:function(){return u},swingFrom:function(){return A},swingFromTo:function(){return x},swingTo:function(){return C}});var i={};e.r(i),e.d(i,{afterTween:function(){return Nt},beforeTween:function(){return Bt},doesApply:function(){return qt},tweenCreated:function(){return Qt}});var u=function(t){return t},o=function(t){return Math.pow(t,2)},a=function(t){return-(Math.pow(t-1,2)-1)},s=function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},c=function(t){return Math.pow(t,3)},f=function(t){return Math.pow(t-1,3)+1},l=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},h=function(t){return Math.pow(t,4)},p=function(t){return-(Math.pow(t-1,4)-1)},v=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},_=function(t){return Math.pow(t,5)},y=function(t){return Math.pow(t-1,5)+1},d=function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},g=function(t){return 1-Math.cos(t*(Math.PI/2))},m=function(t){return Math.sin(t*(Math.PI/2))},w=function(t){return-.5*(Math.cos(Math.PI*t)-1)},b=function(t){return 0===t?0:Math.pow(2,10*(t-1))},O=function(t){return 1===t?1:1-Math.pow(2,-10*t)},S=function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},j=function(t){return-(Math.sqrt(1-t*t)-1)},k=function(t){return Math.sqrt(1-Math.pow(t-1,2))},P=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},M=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},E=function(t){var n=1.70158;return t*t*((n+1)*t-n)},T=function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},F=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},I=function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},x=function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},A=function(t){var n=1.70158;return t*t*((n+1)*t-n)},C=function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},D=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},q=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},Q=function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},B=function(t){return Math.pow(t,4)},N=function(t){return Math.pow(t,.25)};function R(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function z(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t){return(L=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function U(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function V(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?U(Object(e),!0).forEach((function(n){W(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):U(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function W(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var $,G,H,J=\"linear\",K=\"undefined\"!=typeof window?window:e.g,X=\"afterTween\",Y=\"afterTweenEnd\",Z=\"beforeTween\",tt=\"tweenCreated\",nt=\"function\",et=\"string\",rt=K.requestAnimationFrame||K.webkitRequestAnimationFrame||K.oRequestAnimationFrame||K.msRequestAnimationFrame||K.mozCancelRequestAnimationFrame&&K.mozRequestAnimationFrame||setTimeout,it=function(){},ut=null,ot=null,at=V({},r),st=function(t,n,e,r,i,u,o){var a,s,c,f=t<u?0:(t-u)/i,l=!1;for(var h in o&&o.call&&(l=!0,a=o(f)),n)l||(a=((s=o[h]).call?s:at[s])(f)),c=e[h],n[h]=c+(r[h]-c)*a;return n},ct=function(t,n){var e=t._timestamp,r=t._currentState,i=t._delay;if(!(n<e+i)){var u=t._duration,o=t._targetState,a=e+i+u,s=n>a?a:n;t._hasEnded=s>=a;var c=u-(a-s),f=t._filters.length>0;if(t._hasEnded)return t._render(o,t._data,c),t.stop(!0);f&&t._applyFilter(Z),s<e+i?e=u=s=1:e+=i,st(s,r,t._originalState,o,u,e,t._easing),f&&t._applyFilter(X),t._render(r,t._data,c)}},ft=function(){for(var t,n=_t.now(),e=ut;e;)t=e._next,ct(e,n),e=t},lt=Date.now||function(){return+new Date},ht=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=L(n);if(at[n])return at[n];if(r===et||r===nt)for(var i in t)e[i]=n;else for(var u in t)e[u]=n[u]||J;return e},pt=function(t){t===ut?(ut=t._next)?ut._previous=null:ot=null:t===ot?(ot=t._previous)?ot._next=null:ut=null:(G=t._previous,H=t._next,G._next=H,H._previous=G),t._previous=t._next=null},vt=\"function\"==typeof Promise?Promise:null,_t=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;R(this,t),this._config={},this._data={},this._delay=0,this._filters=[],this._next=null,this._previous=null,this._timestamp=null,this._hasEnded=!1,this._resolve=null,this._reject=null,this._currentState=n||{},this._originalState={},this._targetState={},this._start=it,this._render=it,this._promiseCtor=vt,e&&this.setConfig(e)}var n,e;return n=t,(e=[{key:\"_applyFilter\",value:function(t){for(var n=this._filters.length;n>0;n--){var e=this._filters[n-n][t];e&&e(this)}}},{key:\"tween\",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._isPlaying&&this.stop(),!n&&this._config||this.setConfig(n),this._pausedAtTime=null,this._timestamp=t.now(),this._start(this.get(),this._data),this._delay&&this._render(this._currentState,this._data,0),this._resume(this._timestamp)}},{key:\"setConfig\",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._config;for(var r in n)e[r]=n[r];var i=e.promise,u=void 0===i?this._promiseCtor:i,o=e.start,a=void 0===o?it:o,s=e.finish,c=e.render,f=void 0===c?this._config.step||it:c,l=e.step,h=void 0===l?it:l;this._data=e.data||e.attachment||this._data,this._isPlaying=!1,this._pausedAtTime=null,this._scheduleId=null,this._delay=n.delay||0,this._start=a,this._render=f||h,this._duration=e.duration||500,this._promiseCtor=u,s&&(this._resolve=s);var p=n.from,v=n.to,_=void 0===v?{}:v,y=this._currentState,d=this._originalState,g=this._targetState;for(var m in p)y[m]=p[m];var w=!1;for(var b in y){var O=y[b];w||L(O)!==et||(w=!0),d[b]=O,g[b]=_.hasOwnProperty(b)?_[b]:O}if(this._easing=ht(this._currentState,e.easing,this._easing),this._filters.length=0,w){for(var S in t.filters)t.filters[S].doesApply(this)&&this._filters.push(t.filters[S]);this._applyFilter(tt)}return this}},{key:\"then\",value:function(t,n){var e=this;return this._promise=new this._promiseCtor((function(t,n){e._resolve=t,e._reject=n})),this._promise.then(t,n)}},{key:\"catch\",value:function(t){return this.then().catch(t)}},{key:\"get\",value:function(){return V({},this._currentState)}},{key:\"set\",value:function(t){this._currentState=t}},{key:\"pause\",value:function(){if(this._isPlaying)return this._pausedAtTime=t.now(),this._isPlaying=!1,pt(this),this}},{key:\"resume\",value:function(){return this._resume()}},{key:\"_resume\",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.now();return null===this._timestamp?this.tween():this._isPlaying?this._promise:(this._pausedAtTime&&(this._timestamp+=n-this._pausedAtTime,this._pausedAtTime=null),this._isPlaying=!0,null===ut?(ut=this,ot=this):(this._previous=ot,ot._next=this,ot=this),this)}},{key:\"seek\",value:function(n){n=Math.max(n,0);var e=t.now();return this._timestamp+n===0||(this._timestamp=e-n,ct(this,e)),this}},{key:\"stop\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._isPlaying)return this;this._isPlaying=!1,pt(this);var n=this._filters.length>0;return t&&(n&&this._applyFilter(Z),st(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),n&&(this._applyFilter(X),this._applyFilter(Y))),this._resolve&&this._resolve({data:this._data,state:this._currentState,tweenable:this}),this._resolve=null,this._reject=null,this}},{key:\"cancel\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this._currentState,e=this._data,r=this._isPlaying;return r?(this._reject&&this._reject({data:e,state:n,tweenable:this}),this._resolve=null,this._reject=null,this.stop(t)):this}},{key:\"isPlaying\",value:function(){return this._isPlaying}},{key:\"hasEnded\",value:function(){return this._hasEnded}},{key:\"setScheduleFunction\",value:function(n){t.setScheduleFunction(n)}},{key:\"data\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t&&(this._data=V({},t)),this._data}},{key:\"dispose\",value:function(){for(var t in this)delete this[t]}}])&&z(n.prototype,e),t}();function yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new _t;return n.tween(t),n.tweenable=n,n}W(_t,\"now\",(function(){return $})),_t.setScheduleFunction=function(t){return rt=t},_t.formulas=at,_t.filters={},function t(){$=lt(),rt.call(K,t,16.666666666666668),ft()}();var dt,gt,mt=/(\\d|-|\\.)/,wt=/([^\\-0-9.]+)/g,bt=/[0-9.-]+/g,Ot=(dt=bt.source,gt=/,\\s*/.source,new RegExp(\"rgba?\\\\(\".concat(dt).concat(gt).concat(dt).concat(gt).concat(dt,\"(\").concat(gt).concat(dt,\")?\\\\)\"),\"g\")),St=/^.*\\(/,jt=/#([0-9]|[a-f]){3,6}/gi,kt=\"VAL\",Pt=function(t,n){return t.map((function(t,e){return\"_\".concat(n,\"_\").concat(e)}))};function Mt(t){return parseInt(t,16)}var Et=function(t){return\"rgb(\".concat((n=t,3===(n=n.replace(/#/,\"\")).length&&(n=(n=n.split(\"\"))[0]+n[0]+n[1]+n[1]+n[2]+n[2]),[Mt(n.substr(0,2)),Mt(n.substr(2,2)),Mt(n.substr(4,2))]).join(\",\"),\")\");var n},Tt=function(t,n,e){var r=n.match(t),i=n.replace(t,kt);return r&&r.forEach((function(t){return i=i.replace(kt,e(t))})),i},Ft=function(t){for(var n in t){var e=t[n];\"string\"==typeof e&&e.match(jt)&&(t[n]=Tt(jt,e,Et))}},It=function(t){var n=t.match(bt),e=n.slice(0,3).map(Math.floor),r=t.match(St)[0];if(3===n.length)return\"\".concat(r).concat(e.join(\",\"),\")\");if(4===n.length)return\"\".concat(r).concat(e.join(\",\"),\",\").concat(n[3],\")\");throw new Error(\"Invalid rgbChunk: \".concat(t))},xt=function(t){return t.match(bt)},At=function(t,n){var e={};return n.forEach((function(n){e[n]=t[n],delete t[n]})),e},Ct=function(t,n){return n.map((function(n){return t[n]}))},Dt=function(t,n){return n.forEach((function(n){return t=t.replace(kt,+n.toFixed(4))})),t},qt=function(t){for(var n in t._currentState)if(\"string\"==typeof t._currentState[n])return!0;return!1};function Qt(t){var n=t._currentState;[n,t._originalState,t._targetState].forEach(Ft),t._tokenData=function(t){var n,e,r={};for(var i in t){var u=t[i];\"string\"==typeof u&&(r[i]={formatString:(n=u,e=void 0,e=n.match(wt),e?(1===e.length||n.charAt(0).match(mt))&&e.unshift(\"\"):e=[\"\",\"\"],e.join(kt)),chunkNames:Pt(xt(u),i)})}return r}(n)}function Bt(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;!function(t,n){var e=function(e){var r=n[e].chunkNames,i=t[e];if(\"string\"==typeof i){var u=i.split(\" \"),o=u[u.length-1];r.forEach((function(n,e){return t[n]=u[e]||o}))}else r.forEach((function(n){return t[n]=i}));delete t[e]};for(var r in n)e(r)}(i,u),[n,e,r].forEach((function(t){return function(t,n){var e=function(e){xt(t[e]).forEach((function(r,i){return t[n[e].chunkNames[i]]=+r})),delete t[e]};for(var r in n)e(r)}(t,u)}))}function Nt(t){var n=t._currentState,e=t._originalState,r=t._targetState,i=t._easing,u=t._tokenData;[n,e,r].forEach((function(t){return function(t,n){for(var e in n){var r=n[e],i=r.chunkNames,u=r.formatString,o=Dt(u,Ct(At(t,i),i));t[e]=Tt(Ot,o,It)}}(t,u)})),function(t,n){for(var e in n){var r=n[e].chunkNames,i=t[r[0]];t[e]=\"string\"==typeof i?r.map((function(n){var e=t[n];return delete t[n],e})).join(\" \"):i}}(i,u)}function Rt(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function zt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Rt(Object(e),!0).forEach((function(n){Lt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Rt(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Lt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var Ut=new _t,Vt=_t.filters,Wt=function(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=zt({},t),o=ht(t,r);for(var a in Ut._filters.length=0,Ut.set({}),Ut._currentState=u,Ut._originalState=t,Ut._targetState=n,Ut._easing=o,Vt)Vt[a].doesApply(Ut)&&Ut._filters.push(Vt[a]);Ut._applyFilter(\"tweenCreated\"),Ut._applyFilter(\"beforeTween\");var s=st(e,u,t,n,1,i,o);return Ut._applyFilter(\"afterTween\"),s};function $t(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Gt(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function Ht(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,n){var e=n.get(t);if(!e)throw new TypeError(\"attempted to get private field on non-instance\");return e.get?e.get.call(t):e.value}var Kt=new WeakMap,Xt=function(){function t(){Gt(this,t),Kt.set(this,{writable:!0,value:[]});for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];e.forEach(this.add.bind(this))}var n,e;return n=t,(e=[{key:\"add\",value:function(t){return Jt(this,Kt).push(t),t}},{key:\"remove\",value:function(t){var n=Jt(this,Kt).indexOf(t);return~n&&Jt(this,Kt).splice(n,1),t}},{key:\"empty\",value:function(){return this.tweenables.map(this.remove.bind(this))}},{key:\"isPlaying\",value:function(){return Jt(this,Kt).some((function(t){return t.isPlaying()}))}},{key:\"play\",value:function(){return Jt(this,Kt).forEach((function(t){return t.tween()})),this}},{key:\"pause\",value:function(){return Jt(this,Kt).forEach((function(t){return t.pause()})),this}},{key:\"resume\",value:function(){return Jt(this,Kt).forEach((function(t){return t.resume()})),this}},{key:\"stop\",value:function(t){return Jt(this,Kt).forEach((function(n){return n.stop(t)})),this}},{key:\"tweenables\",get:function(){return function(t){if(Array.isArray(t))return $t(t)}(t=Jt(this,Kt))||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(t){if(\"string\"==typeof t)return $t(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===e&&t.constructor&&(e=t.constructor.name),\"Map\"===e||\"Set\"===e?Array.from(t):\"Arguments\"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?$t(t,n):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}();var t}},{key:\"promises\",get:function(){return Jt(this,Kt).map((function(t){return t.then()}))}}])&&Ht(n.prototype,e),t}();var Yt=function(t,n,e,r,i){var u=function(t,n,e,r){return function(i){return f=0,l=0,h=0,p=function(t){return((f*t+l)*t+h)*t},v=function(t){return(3*f*t+2*l)*t+h},_=function(t){return t>=0?t:0-t},f=1-(h=3*(u=t))-(l=3*(e-u)-h),a=1-(c=3*(o=n))-(s=3*(r-o)-c),function(t){return((a*t+s)*t+c)*t}(function(t,n){var e,r,i,u,o,a;for(i=t,a=0;a<8;a++){if(u=p(i)-t,_(u)<n)return i;if(o=v(i),_(o)<1e-6)break;i-=u/o}if((i=t)<(e=0))return e;if(i>(r=1))return r;for(;e<r;){if(u=p(i),_(u-t)<n)return i;t>u?e=i:r=i,i=.5*(r-e)+e}return i}(i,function(t){return 1/(200*t)}(1)));var u,o,a,s,c,f,l,h,p,v,_}}(n,e,r,i);return u.displayName=t,u.x1=n,u.y1=e,u.x2=r,u.y2=i,_t.formulas[t]=u},Zt=function(t){return delete _t.formulas[t]};_t.filters.token=i}},n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}return e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.g=function(){if(\"object\"==typeof globalThis)return globalThis;try{return this||new Function(\"return this\")()}catch(t){if(\"object\"==typeof window)return window}}(),e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e(720)}()}));\n//# sourceMappingURL=shifty.js.map\n\n//# sourceURL=webpack://aap18/./node_modules/shifty/dist/shifty.js?");

/***/ }),

/***/ "./src/engine/style/index.scss":
/*!*************************************!*\
  !*** ./src/engine/style/index.scss ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/engine/style/index.scss\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://aap18/./src/engine/style/index.scss?");

/***/ }),

/***/ "./src/game/style/index.scss":
/*!***********************************!*\
  !*** ./src/game/style/index.scss ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./index.scss */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/game/style/index.scss\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_index_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://aap18/./src/game/style/index.scss?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://aap18/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://aap18/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://aap18/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://aap18/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://aap18/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://aap18/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./src/engine/Game.ts":
/*!****************************!*\
  !*** ./src/engine/Game.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Game\": () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var _ui_ScreenManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/ScreenManager */ \"./src/engine/ui/ScreenManager.ts\");\n/* harmony import */ var _state_StateManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state/StateManager */ \"./src/engine/state/StateManager.ts\");\n/* harmony import */ var _state_SaveManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./state/SaveManager */ \"./src/engine/state/SaveManager.ts\");\n/* harmony import */ var _res_ResourceManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./res/ResourceManager */ \"./src/engine/res/ResourceManager.ts\");\n/* harmony import */ var _ui_screens_MainMenuScreen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui/screens/MainMenuScreen */ \"./src/engine/ui/screens/MainMenuScreen.tsx\");\n/* harmony import */ var _GameController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GameController */ \"./src/engine/GameController.ts\");\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _math_XorWowRandom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./math/XorWowRandom */ \"./src/engine/math/XorWowRandom.ts\");\n/* harmony import */ var _res_GameData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./res/GameData */ \"./src/engine/res/GameData.ts\");\n/*\r\n * Created by aimozg on 03.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_6__.LogManager.loggerFor(\"engine.Game\");\r\nclass Game {\r\n    constructor(options) {\r\n        this.rng = _math_XorWowRandom__WEBPACK_IMPORTED_MODULE_7__.XorWowRandom.create();\r\n        // Resources\r\n        this.data = new _res_GameData__WEBPACK_IMPORTED_MODULE_8__.GameData();\r\n        if (Game.instance)\r\n            throw new Error(\"Duplicate Game.instance\");\r\n        if (options.logLevel !== undefined) {\r\n            _logging_LogManager__WEBPACK_IMPORTED_MODULE_6__.LogManager.instance.defaultLevel = options.logLevel;\r\n        }\r\n        if (options.logLevels) {\r\n            for (let [k, v] of Object.entries(options.logLevels)) {\r\n                _logging_LogManager__WEBPACK_IMPORTED_MODULE_6__.LogManager.instance.setLevel(k, v);\r\n            }\r\n        }\r\n        logger.info(\"Game created\");\r\n        Game.instance = this;\r\n        window[\"game\"] = this;\r\n        this.info = options.info;\r\n        this.screenManager = new _ui_ScreenManager__WEBPACK_IMPORTED_MODULE_0__.ScreenManager(document.querySelector(options.screenContainer));\r\n        this.state = new _state_StateManager__WEBPACK_IMPORTED_MODULE_1__.StateManager();\r\n        this.saveManager = new _state_SaveManager__WEBPACK_IMPORTED_MODULE_2__.SaveManager();\r\n        this.resourceManager = new _res_ResourceManager__WEBPACK_IMPORTED_MODULE_3__.ResourceManager(this, {\r\n            loadGameData: options.data\r\n        });\r\n        this.gameController = new _GameController__WEBPACK_IMPORTED_MODULE_5__.GameController(this);\r\n    }\r\n    async applicationStart() {\r\n        await this.resourceManager.loadEssentialResources();\r\n        await this.screenManager.replaceTop(new _ui_screens_MainMenuScreen__WEBPACK_IMPORTED_MODULE_4__.MainMenuScreen(), 'fade');\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/Game.ts?");

/***/ }),

/***/ "./src/engine/GameController.ts":
/*!**************************************!*\
  !*** ./src/engine/GameController.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameController\": () => (/* binding */ GameController)\n/* harmony export */ });\n/* harmony import */ var _game_ui_NewGameScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game/ui/NewGameScreen */ \"./src/game/ui/NewGameScreen.tsx\");\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _scene_SceneContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scene/SceneContext */ \"./src/engine/scene/SceneContext.tsx\");\n/* harmony import */ var _text_output_TextOutput__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./text/output/TextOutput */ \"./src/engine/text/output/TextOutput.tsx\");\n/* harmony import */ var _objects_Place__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./objects/Place */ \"./src/engine/objects/Place.ts\");\n/* harmony import */ var _state_GameContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./state/GameContext */ \"./src/engine/state/GameContext.ts\");\n/* harmony import */ var _ui_panels_ScenePanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ui/panels/ScenePanel */ \"./src/engine/ui/panels/ScenePanel.tsx\");\n/* harmony import */ var _combat_BattleContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./combat/BattleContext */ \"./src/engine/combat/BattleContext.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_1__.LogManager.loggerFor(\"engine.GameController\");\r\n/**\r\n * Governs core game flow - load, restart, switch between modes\r\n */\r\nclass GameController {\r\n    constructor(game) {\r\n        this.game = game;\r\n    }\r\n    get state() { return this.game.state; }\r\n    get player() { return this.state.player; }\r\n    async loadAutosave() {\r\n        logger.info(\"loadAutosave\");\r\n        let data = await this.game.saveManager.loadAutosaveData();\r\n        await this.state.importGameState(data);\r\n        // TODO show post-load game screen\r\n        throw new Error(\"Not implemented yet\");\r\n    }\r\n    /**\r\n     * To be called from main menu\r\n     * @return new player character\r\n     */\r\n    async startNewGame() {\r\n        logger.info(\"startNewGame\");\r\n        this.state.clearGameState();\r\n        let ngs = new _game_ui_NewGameScreen__WEBPACK_IMPORTED_MODULE_0__.NewGameScreen();\r\n        await this.game.screenManager.replaceTop(ngs, \"fade-fast\");\r\n        let playerCharacter = await ngs.display();\r\n        if (!playerCharacter) {\r\n            await this.game.screenManager.closeTop(\"fade\");\r\n            return false;\r\n        }\r\n        else {\r\n            this.state.setupPlayer(playerCharacter);\r\n            await this.beginStory();\r\n            return true;\r\n        }\r\n    }\r\n    async beginStory() {\r\n        logger.info(\"beginStory\");\r\n        let ss = this.game.screenManager.gameScreen;\r\n        await this.game.screenManager.replaceTop(ss, 'fade-fast');\r\n        await this.playScene(this.game.idata.startingSceneId);\r\n        this.showGameScreen();\r\n    }\r\n    async playScene(scene) {\r\n        logger.info(\"playScene {}\", scene);\r\n        let context = new _scene_SceneContext__WEBPACK_IMPORTED_MODULE_2__.SceneContext(scene, new _text_output_TextOutput__WEBPACK_IMPORTED_MODULE_3__.TextOutput(new _ui_panels_ScenePanel__WEBPACK_IMPORTED_MODULE_6__.ScenePanel()));\r\n        this.state.pushGameContext(context);\r\n        this.showGameScreen();\r\n        return context.promise;\r\n    }\r\n    /**\r\n     * Depending on game mode & state, display current screen\r\n     */\r\n    showGameScreen() {\r\n        let context = this.state.flushGameContext();\r\n        logger.debug(\"showGameScreen {}\", context);\r\n        if (context instanceof _state_GameContext__WEBPACK_IMPORTED_MODULE_5__.NullGameContext) {\r\n            this.state.pushGameContext(new _state_GameContext__WEBPACK_IMPORTED_MODULE_5__.PlaceContext(this.player.place));\r\n            this.showGameScreen();\r\n            return;\r\n        }\r\n        if (context instanceof _scene_SceneContext__WEBPACK_IMPORTED_MODULE_2__.SceneContext) {\r\n            context.output = new _text_output_TextOutput__WEBPACK_IMPORTED_MODULE_3__.TextOutput(new _ui_panels_ScenePanel__WEBPACK_IMPORTED_MODULE_6__.ScenePanel());\r\n            this.game.screenManager.gameScreen.applyLayout(context.layout);\r\n            context.play(context.sceneId).then(() => this.showGameScreen());\r\n            return;\r\n        }\r\n        if (context instanceof _state_GameContext__WEBPACK_IMPORTED_MODULE_5__.PlaceContext) {\r\n            if (context.place === _objects_Place__WEBPACK_IMPORTED_MODULE_4__.Place.Limbo) {\r\n                // TODO rescue?\r\n                throw new Error(\"Player stuck in limbo\");\r\n            }\r\n            context.place.display().then().then(() => this.showGameScreen());\r\n            return;\r\n        }\r\n        if (context instanceof _combat_BattleContext__WEBPACK_IMPORTED_MODULE_7__.BattleContext) {\r\n            this.game.screenManager.gameScreen.applyLayout(context.layout);\r\n            context.update();\r\n            return;\r\n        }\r\n        // TODO rescue\r\n        throw new Error(\"Unknown game context\");\r\n    }\r\n    /**\r\n     * Teleport player to specified location\r\n     * @param placeId\r\n     */\r\n    placePlayer(placeId) {\r\n        logger.debug(\"placePlayer {}\", placeId);\r\n        let place = this.game.data.place(placeId);\r\n        this.player.place.onLeave();\r\n        this.player.place = place;\r\n        place.onEnter();\r\n    }\r\n    startBattle(enemies) {\r\n        let ctx = new _combat_BattleContext__WEBPACK_IMPORTED_MODULE_7__.BattleContext([this.player], enemies);\r\n        this.state.pushGameContext(ctx);\r\n        this.showGameScreen();\r\n        return ctx;\r\n    }\r\n    recoverPlayer() {\r\n        let player = this.player;\r\n        player.hp = player.hpMax;\r\n        player.ep = player.epMax;\r\n        player.lp = 0;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/GameController.ts?");

/***/ }),

/***/ "./src/engine/ResLib.ts":
/*!******************************!*\
  !*** ./src/engine/ResLib.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResLib\": () => (/* binding */ ResLib)\n/* harmony export */ });\nclass ResLib {\r\n    constructor(resType, displayName) {\r\n        this.resType = resType;\r\n        this.displayName = displayName;\r\n        this.map = new Map();\r\n    }\r\n    get(resId) {\r\n        let x = this.map.get(resId);\r\n        if (x === undefined)\r\n            throw new Error(`Missing ${this.displayName} '${resId}'`);\r\n        return x;\r\n    }\r\n    getOrNull(resId) {\r\n        return this.map.get(resId) ?? null;\r\n    }\r\n    register(res, overwrite = false) {\r\n        let id = res.resId;\r\n        if (res.resType !== this.resType)\r\n            throw new Error(`Invalid ${this.displayName} '${id}' type ${res.resType}, expected ${this.resType}`);\r\n        if (this.map.has(id) && !overwrite)\r\n            throw new Error(`Duplicate ${this.displayName} '${id}'`);\r\n        this.map.set(id, res);\r\n    }\r\n    registerMany(resources, overwrite = false) {\r\n        for (let res of resources)\r\n            this.register(res, overwrite);\r\n    }\r\n    clear() {\r\n        this.map.clear();\r\n    }\r\n    keys() {\r\n        return Array.from(this.map.keys());\r\n    }\r\n    values() {\r\n        return Array.from(this.map.values());\r\n    }\r\n    entries() {\r\n        return Array.from(this.map.entries());\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ResLib.ts?");

/***/ }),

/***/ "./src/engine/combat/BattleContext.ts":
/*!********************************************!*\
  !*** ./src/engine/combat/BattleContext.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BattleContext\": () => (/* binding */ BattleContext),\n/* harmony export */   \"MillisPerRound\": () => (/* binding */ MillisPerRound)\n/* harmony export */ });\n/* harmony import */ var _game_ui_CreaturePanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../game/ui/CreaturePanel */ \"./src/game/ui/CreaturePanel.tsx\");\n/* harmony import */ var _utils_Deferred__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Deferred */ \"./src/engine/utils/Deferred.ts\");\n/* harmony import */ var _CombatController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CombatController */ \"./src/engine/combat/CombatController.tsx\");\n/* harmony import */ var _utils_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/time */ \"./src/engine/utils/time.ts\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../math/utils */ \"./src/engine/math/utils.ts\");\n/* harmony import */ var _ui_panels_LogPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/panels/LogPanel */ \"./src/engine/ui/panels/LogPanel.tsx\");\n/* harmony import */ var _ui_panels_BattlePanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/panels/BattlePanel */ \"./src/engine/ui/panels/BattlePanel.tsx\");\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Game */ \"./src/engine/Game.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet MillisPerRound = 1000;\r\nclass BattleContext {\r\n    constructor(party, enemies) {\r\n        this.playerCanAct = false;\r\n        this._promise = new _utils_Deferred__WEBPACK_IMPORTED_MODULE_1__.Deferred();\r\n        this.characterPanel = new _game_ui_CreaturePanel__WEBPACK_IMPORTED_MODULE_0__.CreaturePanel();\r\n        this.enemyPanel = new _game_ui_CreaturePanel__WEBPACK_IMPORTED_MODULE_0__.CreaturePanel();\r\n        this.logPanel = new _ui_panels_LogPanel__WEBPACK_IMPORTED_MODULE_5__.LogPanel();\r\n        this.battlePanel = new _ui_panels_BattlePanel__WEBPACK_IMPORTED_MODULE_6__.BattlePanel(this);\r\n        this.layout = {\r\n            left: this.characterPanel.astsx,\r\n            right: this.enemyPanel.astsx,\r\n            center: this.battlePanel.astsx,\r\n            bottom: this.logPanel.astsx\r\n        };\r\n        this._redrawing = false;\r\n        this._started = false;\r\n        this._scheduled = false;\r\n        this._t1 = (0,_utils_time__WEBPACK_IMPORTED_MODULE_3__.milliTime)();\r\n        this.cc = new _CombatController__WEBPACK_IMPORTED_MODULE_2__.CombatController(this, party, enemies);\r\n    }\r\n    get ended() { return this._promise.completed; }\r\n    get promise() { return this._promise; }\r\n    battleEnded() {\r\n        this.playerCanAct = false;\r\n    }\r\n    playerActions() {\r\n        if (this.cc.ended)\r\n            return [{\r\n                    label: \"Finish battle\",\r\n                    callback: () => {\r\n                        this._promise.resolve(this);\r\n                        _Game__WEBPACK_IMPORTED_MODULE_7__.Game.instance.gameController.showGameScreen();\r\n                    }\r\n                }];\r\n        let actions = [];\r\n        // TODO targets\r\n        actions.push({\r\n            label: \"Melee attack\",\r\n            callback: async () => {\r\n                this.playerCanAct = false;\r\n                await this.cc.performMeleeAttack(this.cc.party[0], this.cc.enemies[0]);\r\n                this.scheduleTick();\r\n            }\r\n        });\r\n        // TODO tease\r\n        // TODO abilities\r\n        return actions;\r\n    }\r\n    redraw() {\r\n        if (this._redrawing)\r\n            return;\r\n        this._redrawing = true;\r\n        setTimeout(() => {\r\n            this._redrawing = false;\r\n            this.characterPanel.update(this.cc.party[0]);\r\n            this.enemyPanel.update(this.cc.enemies[0]);\r\n            this.battlePanel.update(this.playerActions());\r\n        }, 0);\r\n    }\r\n    update() {\r\n        this.checkBattleStatus();\r\n        this.redraw();\r\n    }\r\n    checkBattleStatus() {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this.cc.battleStart();\r\n        }\r\n        this.scheduleTick();\r\n    }\r\n    scheduleTick() {\r\n        if (this._scheduled)\r\n            return;\r\n        this.playerCanAct = false;\r\n        this._t1 = (0,_utils_time__WEBPACK_IMPORTED_MODULE_3__.milliTime)();\r\n        this._scheduled = true;\r\n        requestAnimationFrame(() => {\r\n            this._scheduled = false;\r\n            this.tick().then();\r\n        });\r\n    }\r\n    async tick() {\r\n        let t2 = (0,_utils_time__WEBPACK_IMPORTED_MODULE_3__.milliTime)();\r\n        let dt = (0,_math_utils__WEBPACK_IMPORTED_MODULE_4__.coerce)(t2 - this._t1, 1, 1000);\r\n        dt = Math.round(dt * 1000 / MillisPerRound);\r\n        this.playerCanAct = false;\r\n        let fr = this.cc.advanceTime(dt);\r\n        this.redraw();\r\n        await this.cc.applyFlowResult(fr);\r\n        if (fr.type === 2 /* CombatFlowResultType.PLAYER_ACTION */) {\r\n            this.playerCanAct = true;\r\n        }\r\n        if (fr.type !== 4 /* CombatFlowResultType.COMBAT_ENDED */ && fr.type !== 2 /* CombatFlowResultType.PLAYER_ACTION */) {\r\n            this.scheduleTick();\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/combat/BattleContext.ts?");

/***/ }),

/***/ "./src/engine/combat/CombatController.tsx":
/*!************************************************!*\
  !*** ./src/engine/combat/CombatController.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AnimationTime\": () => (/* binding */ AnimationTime),\n/* harmony export */   \"CombatController\": () => (/* binding */ CombatController),\n/* harmony export */   \"TicksPerRound\": () => (/* binding */ TicksPerRound)\n/* harmony export */ });\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Game */ \"./src/engine/Game.ts\");\n/* harmony import */ var _objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../objects/creature/PlayerCharacter */ \"./src/engine/objects/creature/PlayerCharacter.ts\");\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var preact_compat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! preact/compat */ \"./node_modules/preact/compat/dist/compat.module.js\");\n/* harmony import */ var shifty__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! shifty */ \"./node_modules/shifty/dist/shifty.js\");\n/* harmony import */ var shifty__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(shifty__WEBPACK_IMPORTED_MODULE_5__);\n\r\n\r\n\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_2__.LogManager.loggerFor(\"engine.combat.CombatController\");\r\nlet TicksPerRound = 1000;\r\nlet AnimationTime = 500;\r\nclass CombatController {\r\n    constructor(ctx, party, enemies) {\r\n        this.ctx = ctx;\r\n        this.party = party;\r\n        this.enemies = enemies;\r\n        this._ended = false;\r\n        this.roundNo = 0;\r\n        this.tickTime = 0;\r\n    }\r\n    get rng() { return _Game__WEBPACK_IMPORTED_MODULE_0__.Game.instance.rng; }\r\n    get ended() { return this._ended; }\r\n    get partyLost() { return this.party.every(c => !c.isAlive); }\r\n    get enemiesLost() { return this.enemies.every(c => !c.isAlive); }\r\n    get participants() { return [...this.party, ...this.enemies]; }\r\n    battleStart() {\r\n        logger.info(\"battleStart {} vs {}\", this.party, this.enemies);\r\n        for (let p of this.participants) {\r\n            this.prepareForCombat(p);\r\n        }\r\n        this.roundNo = 0;\r\n        this.tickTime = TicksPerRound;\r\n    }\r\n    battleEnd() {\r\n        if (this._ended)\r\n            return;\r\n        logger.info(\"battleEnd\");\r\n        this._ended = true;\r\n        for (let p of this.participants) {\r\n            this.cleanupAfterCombat(p);\r\n        }\r\n        this.ctx.battleEnded();\r\n    }\r\n    advanceTime(maxDT) {\r\n        logger.trace(\"advanceTime {}.{} +{}\", this.roundNo, this.tickTime, maxDT);\r\n        if (this.partyLost || this.enemiesLost)\r\n            return { type: 4 /* CombatFlowResultType.COMBAT_ENDED */ };\r\n        while (maxDT-- > 0) {\r\n            // check new round start\r\n            if (this.tickTime >= TicksPerRound) {\r\n                return { type: 1 /* CombatFlowResultType.NEW_ROUND */ };\r\n            }\r\n            // TODO execute scheduled events\r\n            // find actor\r\n            let nextActor = this.participants.find(c => c.isAlive && c.ap >= TicksPerRound);\r\n            if (nextActor) {\r\n                if (nextActor instanceof _objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_1__.PlayerCharacter) {\r\n                    // TODO if player-controller, actually\r\n                    return { type: 2 /* CombatFlowResultType.PLAYER_ACTION */, creature: nextActor };\r\n                }\r\n                else {\r\n                    return { type: 3 /* CombatFlowResultType.AI_ACTION */, creature: nextActor };\r\n                }\r\n            }\r\n            // advance aps\r\n            for (let c of this.participants) {\r\n                if (c.isAlive)\r\n                    c.ap++;\r\n            }\r\n            this.tickTime++;\r\n        }\r\n        return { type: 0 /* CombatFlowResultType.NOTHING_HAPPENED */ };\r\n    }\r\n    async applyFlowResult(fr) {\r\n        if (fr.type === 0 /* CombatFlowResultType.NOTHING_HAPPENED */) {\r\n            // do nothing, call site should schedule advanceTime call\r\n            logger.trace(\"applyFlowResult {} {}\", fr.type, fr.creature);\r\n            return;\r\n        }\r\n        logger.debug(\"applyFlowResult {} {}\", fr.type, fr.creature);\r\n        switch (fr.type) {\r\n            case 2 /* CombatFlowResultType.PLAYER_ACTION */:\r\n                // do nothing, call site should display player action menu\r\n                break;\r\n            case 1 /* CombatFlowResultType.NEW_ROUND */:\r\n                await this.nextRound();\r\n                break;\r\n            case 3 /* CombatFlowResultType.AI_ACTION */:\r\n                await this.performAIAction(fr.creature);\r\n                break;\r\n            case 4 /* CombatFlowResultType.COMBAT_ENDED */:\r\n                this.battleEnd();\r\n                break;\r\n        }\r\n    }\r\n    async nextRound() {\r\n        this.tickTime -= TicksPerRound;\r\n        this.roundNo++;\r\n        this.logInfo(\"Round \" + this.roundNo + \".\");\r\n        // TODO advance effects\r\n    }\r\n    async performAIAction(actor) {\r\n        logger.debug(\"performAIAction {}\", actor.name);\r\n        // TODO select random action\r\n        let target = this.party.find(p => p.isAlive);\r\n        await this.performMeleeAttack(actor, target);\r\n        logger.debug(\"/performAIAction {}\", actor.name);\r\n    }\r\n    /////////////////////\r\n    // Combat messages //\r\n    /////////////////////\r\n    log(messageClass, message) {\r\n        logger.info(\"{}\", message);\r\n        this.ctx.logPanel.append((0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { className: \"log-message \" + (messageClass ?? \"\") }, message));\r\n    }\r\n    logInfo(message) {\r\n        this.log(\"-info\", message);\r\n    }\r\n    logAction(c, action, joiner = ': ') {\r\n        // TODO special hostile/friendly style?\r\n        this.log(\"-action\", (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(preact_compat__WEBPACK_IMPORTED_MODULE_4__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { className: \"--actor\" }, c.name.capitalize()),\r\n            joiner,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { className: \"--action\" }, action)));\r\n    }\r\n    logActionVs(actor, verb, target, action) {\r\n        // TODO special hostile/friendly style?\r\n        this.log(\"-action\", (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(preact_compat__WEBPACK_IMPORTED_MODULE_4__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { className: \"--actor\" }, actor.name.capitalize()),\r\n            \" \",\r\n            verb,\r\n            \" \",\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { className: \"--actor\" }, target.name.capitalize()),\r\n            \": \",\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { className: \"--action\" }, action)));\r\n    }\r\n    ////////////////////\r\n    // Creature utils //\r\n    ////////////////////\r\n    prepareForCombat(c) {\r\n        logger.debug(\"prepareForCombat {}\", c);\r\n        // TODO clean combat buffs\r\n        // TODO setup AI\r\n        c.ap = this.rng.nextInt(TicksPerRound);\r\n        this.logAction(c, \"Initiative roll (\" + c.ap + \").\");\r\n    }\r\n    cleanupAfterCombat(c) {\r\n        logger.debug(\"cleanupAfterCombat {}\", c);\r\n        // TODO clean combat buffs\r\n        c.ap = 0;\r\n    }\r\n    ////////////////////\r\n    // Combat actions //\r\n    ////////////////////\r\n    async performMeleeAttack(attacker, target) {\r\n        logger.info(\"performMeleeAttack {} {}\", attacker, target);\r\n        attacker.ap -= 1000; // TODO melee attack ap cost\r\n        // TODO animations\r\n        // TODO abstract this out!!\r\n        let attack = attacker.attack;\r\n        let attackText = attack === 0 ? \"\" : attack < 0 ? String(attack) : (\"+\" + attack);\r\n        let defense = target.defense;\r\n        let toHit = defense - attack;\r\n        let attackRoll = this.rng.d20();\r\n        let rslt;\r\n        let damageDice = attacker.weapon.baseDamage;\r\n        if (attackRoll === 1) {\r\n            // TODO critical misses\r\n            rslt = 0 /* AttackRollResult.CRITICAL_MISS */;\r\n            this.logActionVs(attacker, \"attacks\", target, [\"critical miss (\", attackRoll, \")\"]);\r\n        }\r\n        else if (attackRoll === 20) {\r\n            // TODO critical hits\r\n            rslt = 3 /* AttackRollResult.CRITICAL_HIT */;\r\n            this.logActionVs(attacker, \"attacks\", target, [\"critical hit (\", attackRoll, \")\"]);\r\n            damageDice = damageDice.repeat(2); // TODO diff multiplier\r\n        }\r\n        else if (attackRoll >= toHit) {\r\n            this.logActionVs(attacker, \"attacks\", target, [\r\n                \"hit (\", attackRoll, attackText, \" vs \", defense, \")\"\r\n            ]);\r\n            rslt = 2 /* AttackRollResult.HIT */;\r\n        }\r\n        else {\r\n            this.logActionVs(attacker, \"attacks\", target, [\r\n                \"miss (\", attackRoll, attackText, \" vs \", defense, \")\"\r\n            ]);\r\n            rslt = 1 /* AttackRollResult.MISS */;\r\n        }\r\n        if (rslt === 2 /* AttackRollResult.HIT */ || rslt === 3 /* AttackRollResult.CRITICAL_HIT */) {\r\n            let damage = damageDice.roll(this.rng);\r\n            await this.doDamage(target, damage, attacker.weapon.damageType, attacker);\r\n        }\r\n    }\r\n    async doDamage(target, damage, damageType, source) {\r\n        logger.info(\"doDamage {} {} {} {}\", target, damage, damageType, source);\r\n        // TODO DR and other\r\n        if (damage < 0)\r\n            damage = 0;\r\n        if (damage === 0) {\r\n            this.log(\"\", (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(preact_compat__WEBPACK_IMPORTED_MODULE_4__.Fragment, null,\r\n                \"(\",\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { class: \"text-damage-none\" }, \"0\"),\r\n                \")\"));\r\n        }\r\n        else {\r\n            this.log(\"\", (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(preact_compat__WEBPACK_IMPORTED_MODULE_4__.Fragment, null,\r\n                \"(\",\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"span\", { class: \"text-damage-\" + damageType.cssSuffix },\r\n                    damage,\r\n                    \" \",\r\n                    damageType.name),\r\n                \")\"));\r\n            await this.deduceHP(target, damage, source);\r\n        }\r\n    }\r\n    async deduceHP(target, damage, source) {\r\n        logger.info(\"deduceHP\");\r\n        let wasAlive = target.isAlive;\r\n        await this.animateHpChange(target, target.hp - damage);\r\n        if (wasAlive && !target.isAlive) {\r\n            await this.onDeath(target, source);\r\n        }\r\n    }\r\n    /**\r\n     * Handle death of {@param creature}\r\n     * @param killer\r\n     */\r\n    async onDeath(creature, killer) {\r\n        logger.info(\"onDeath {} {}\", creature, killer);\r\n        if (killer) {\r\n            this.log(\"-death\", (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(preact_compat__WEBPACK_IMPORTED_MODULE_4__.Fragment, null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"b\", null, creature.name),\r\n                \" is killed by \",\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"b\", null, killer.name),\r\n                \".\"));\r\n        }\r\n        else {\r\n            this.log(\"-death\", (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(preact_compat__WEBPACK_IMPORTED_MODULE_4__.Fragment, null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_3__.h)(\"b\", null, creature.name),\r\n                \" dies.\"));\r\n        }\r\n        // TODO death animation\r\n        if (killer && killer instanceof _objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_1__.PlayerCharacter) {\r\n            await this.awardXpFor(killer, creature);\r\n        }\r\n    }\r\n    /**\r\n     * Award {@param player} XP for defeating {@param victim}\r\n     */\r\n    async awardXpFor(player, victim) {\r\n        logger.info(\"awardXpFor {} {}\", victim);\r\n        // TODO calculate xp from level\r\n        let xp = 50;\r\n        if (xp > 0) {\r\n            this.logInfo(\"+\" + xp + \" XP.\");\r\n            await this.animateXpChange(player, player.xp + xp);\r\n            this.ctx.redraw();\r\n        }\r\n    }\r\n    async animateHpChange(creature, hp2) {\r\n        logger.debug(\"animateHpChange {} {}\", creature, hp2);\r\n        // TODO move to CombatAnimations or something\r\n        let hp1 = creature.hp;\r\n        await (0,shifty__WEBPACK_IMPORTED_MODULE_5__.tween)({\r\n            from: { hp: hp1 },\r\n            to: { hp: hp2 },\r\n            duration: AnimationTime,\r\n            render: ({ hp }) => {\r\n                creature.hp = hp;\r\n                this.ctx.redraw();\r\n            }\r\n        });\r\n        creature.hp = hp2;\r\n        this.ctx.redraw();\r\n    }\r\n    async animateXpChange(creature, xp2) {\r\n        logger.debug(\"animateXpChange {} {}\", creature, xp2);\r\n        // TODO move to CombatAnimations or something\r\n        let xp1 = creature.xp;\r\n        await (0,shifty__WEBPACK_IMPORTED_MODULE_5__.tween)({\r\n            from: { xp: xp1 },\r\n            to: { xp: xp2 },\r\n            duration: AnimationTime,\r\n            render: ({ xp }) => {\r\n                creature.xp = xp;\r\n                this.ctx.redraw();\r\n            }\r\n        });\r\n        creature.xp = xp2;\r\n        this.ctx.redraw();\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/combat/CombatController.tsx?");

/***/ }),

/***/ "./src/engine/logging/ConsoleLogger.ts":
/*!*********************************************!*\
  !*** ./src/engine/logging/ConsoleLogger.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ConsoleLogger\": () => (/* binding */ ConsoleLogger)\n/* harmony export */ });\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Logger */ \"./src/engine/logging/Logger.ts\");\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\nclass ConsoleLogger extends _Logger__WEBPACK_IMPORTED_MODULE_0__.Logger {\r\n    constructor(name, level) {\r\n        super(level);\r\n        this.name = name;\r\n        let tag;\r\n        if (name.length <= ConsoleLogger.TAG_LENGTH) {\r\n            // \"com.package.Class\" ->\r\n            // \"[   com.package.Class]\"\r\n            tag = name;\r\n        }\r\n        else {\r\n            let parts = name.split(/\\./g);\r\n            let classname = parts.splice(-1, 1)[0];\r\n            if (classname.length >= ConsoleLogger.TAG_LENGTH) {\r\n                // \"com.package.SoLongNoPointShorteningPackages\" ->\r\n                // \"[SoLongNoPointShorten]\"\r\n                tag = classname.substring(0, ConsoleLogger.TAG_LENGTH);\r\n            }\r\n            else {\r\n                tag = classname;\r\n                let i = 0;\r\n                // \"com.game.utils.etc.ClassName\" -> (>20)\r\n                // \"c.game.utils.etc.ClassName\" -> (>20)\r\n                // \"c.g.utils.etc.ClassName\" -> (>20)\r\n                // \"c.g.u.etc.ClassName\" -> (<=20)\r\n                // \"[ c.g.u.etc.ClassName]\"\r\n                while (true) {\r\n                    let abbr = parts.join('.') + '.' + tag;\r\n                    if (abbr.length <= ConsoleLogger.TAG_LENGTH) {\r\n                        tag = abbr;\r\n                        break;\r\n                    }\r\n                    if (i >= parts.length) {\r\n                        // \"com.game.utils.misc.other.stuff.LongClassName\" ->\r\n                        // \"c.g.u.m.o.s.LongClassName\" -> (too long)\r\n                        // \"[.stuff.LongClassName]\r\n                        tag = classname.substring(classname.length - ConsoleLogger.TAG_LENGTH);\r\n                        break;\r\n                    }\r\n                    parts[i] = parts[i][0];\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        this.tag = \"[\" + tag.padStart(ConsoleLogger.TAG_LENGTH, \" \") + \"]\";\r\n    }\r\n    doLog(level, message, ...rest) {\r\n        [message, rest] = _Logger__WEBPACK_IMPORTED_MODULE_0__.Logger.formatMessage(message, ...rest);\r\n        const dt = ((new Date().getTime() - t0) / 1000).toFixed(3).padStart(7, ' ');\r\n        switch (level) {\r\n            case _Logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.ERROR:\r\n            case _Logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.FATAL:\r\n                console.error(dt, this.tag, message, ...rest);\r\n                break;\r\n            case _Logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.WARNING:\r\n                console.warn(dt, this.tag, message, ...rest);\r\n                break;\r\n            case _Logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.INFO:\r\n                console.info(dt, this.tag, message, ...rest);\r\n                break;\r\n            case _Logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.DEBUG:\r\n            case _Logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.TRACE:\r\n            default:\r\n                console.debug(dt, this.tag, message, ...rest);\r\n        }\r\n    }\r\n}\r\nConsoleLogger.TAG_LENGTH = 20;\r\nconst t0 = new Date().getTime();\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/logging/ConsoleLogger.ts?");

/***/ }),

/***/ "./src/engine/logging/LogManager.ts":
/*!******************************************!*\
  !*** ./src/engine/logging/LogManager.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LogManager\": () => (/* binding */ LogManager)\n/* harmony export */ });\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Logger */ \"./src/engine/logging/Logger.ts\");\n/* harmony import */ var _ConsoleLogger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConsoleLogger */ \"./src/engine/logging/ConsoleLogger.ts\");\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\n\r\nclass LogManager {\r\n    constructor() {\r\n        this.loggers = {};\r\n        this.levels = {\r\n            \"\": _Logger__WEBPACK_IMPORTED_MODULE_0__.LogLevel.INFO\r\n        };\r\n    }\r\n    get defaultLevel() {\r\n        return this.levels[\"\"];\r\n    }\r\n    set defaultLevel(level) {\r\n        this.setLevel(\"\", level);\r\n    }\r\n    setLevel(name, level) {\r\n        this.levels[name] = level;\r\n        for (let [k, v] of Object.entries(this.loggers)) {\r\n            v.level = this.levelFor(k);\r\n        }\r\n    }\r\n    levelFor(name) {\r\n        while (true) {\r\n            if (name in this.levels)\r\n                return this.levels[name];\r\n            let i = name.lastIndexOf('.');\r\n            if (i < 0)\r\n                return this.defaultLevel;\r\n            name = name.slice(0, i - 1);\r\n        }\r\n    }\r\n    createLogger(name) {\r\n        return new _ConsoleLogger__WEBPACK_IMPORTED_MODULE_1__.ConsoleLogger(name, this.levelFor(name));\r\n    }\r\n    loggerFor(name) {\r\n        var _a;\r\n        (_a = this.loggers)[name] ?? (_a[name] = this.createLogger(name));\r\n        return this.loggers[name];\r\n    }\r\n    static loggerFor(name) {\r\n        return LogManager.instance.loggerFor(name);\r\n    }\r\n}\r\nLogManager.instance = new LogManager();\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/logging/LogManager.ts?");

/***/ }),

/***/ "./src/engine/logging/Logger.ts":
/*!**************************************!*\
  !*** ./src/engine/logging/Logger.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LogLevel\": () => (/* binding */ LogLevel),\n/* harmony export */   \"Logger\": () => (/* binding */ Logger)\n/* harmony export */ });\nclass Logger {\r\n    constructor(level) {\r\n        this.level = level;\r\n    }\r\n    shouldLog(level) {\r\n        return level >= this.level;\r\n    }\r\n    log(level, message, ...rest) {\r\n        if (this.shouldLog(level)) {\r\n            if (message instanceof Error) {\r\n                rest = [message];\r\n                message = \"{}\";\r\n            }\r\n            else if (typeof message !== \"string\") {\r\n                message = String(message);\r\n            }\r\n            this.doLog(level, message, ...rest);\r\n        }\r\n    }\r\n    trace(message, ...rest) {\r\n        this.log(LogLevel.TRACE, message, ...rest);\r\n    }\r\n    debug(message, ...rest) {\r\n        this.log(LogLevel.DEBUG, message, ...rest);\r\n    }\r\n    info(message, ...rest) {\r\n        this.log(LogLevel.INFO, message, ...rest);\r\n    }\r\n    warn(message, ...rest) {\r\n        this.log(LogLevel.WARNING, message, ...rest);\r\n    }\r\n    error(message, ...rest) {\r\n        this.log(LogLevel.ERROR, message, ...rest);\r\n    }\r\n    fatal(message, ...rest) {\r\n        this.log(LogLevel.FATAL, message, ...rest);\r\n    }\r\n    static toString(x) {\r\n        if (typeof x === 'string')\r\n            return x;\r\n        if (typeof x === 'function')\r\n            return x.name;\r\n        if (x && typeof x === 'object' && x.props && typeof x.props === 'object') {\r\n            let v = x;\r\n            if (Array.isArray(v.props.children))\r\n                return v.props.children.map(c => Logger.toString(c)).join(\"\");\r\n            return Logger.toString(v.props.children);\r\n        }\r\n        let s = String(x);\r\n        if (s === '[object Object]')\r\n            s = '[object ' + Object.getPrototypeOf(x).constructor.name + ']';\r\n        return s;\r\n    }\r\n    static formatMessage(message, ...rest) {\r\n        let s = message.replace(/\\{}/g, () => {\r\n            let x = rest.length === 0 ? \"[[missing argument]]\" : rest.splice(0, 1)[0];\r\n            return Logger.toString(x);\r\n        });\r\n        return [s, rest];\r\n    }\r\n}\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"ALL\"] = 0] = \"ALL\";\r\n    LogLevel[LogLevel[\"TRACE\"] = 1] = \"TRACE\";\r\n    LogLevel[LogLevel[\"DEBUG\"] = 2] = \"DEBUG\";\r\n    LogLevel[LogLevel[\"INFO\"] = 3] = \"INFO\";\r\n    LogLevel[LogLevel[\"WARNING\"] = 4] = \"WARNING\";\r\n    LogLevel[LogLevel[\"ERROR\"] = 5] = \"ERROR\";\r\n    LogLevel[LogLevel[\"FATAL\"] = 6] = \"FATAL\";\r\n    LogLevel[LogLevel[\"NONE\"] = 7] = \"NONE\";\r\n})(LogLevel || (LogLevel = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/logging/Logger.ts?");

/***/ }),

/***/ "./src/engine/main.ts":
/*!****************************!*\
  !*** ./src/engine/main.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"runGame\": () => (/* binding */ runGame)\n/* harmony export */ });\n/* harmony import */ var _style_index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style/index.scss */ \"./src/engine/style/index.scss\");\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Game */ \"./src/engine/Game.ts\");\n/* harmony import */ var _utils_extensions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/extensions */ \"./src/engine/utils/extensions.ts\");\n/*\r\n * Created by aimozg on 03.07.2022.\r\n */\r\n\r\n\r\n\r\nasync function main(options) {\r\n    let game = new _Game__WEBPACK_IMPORTED_MODULE_1__.Game(options);\r\n    await game.applicationStart();\r\n}\r\nfunction runGame(options) {\r\n    (0,_utils_extensions__WEBPACK_IMPORTED_MODULE_2__.initExtensions)();\r\n    if (document.readyState === \"complete\") {\r\n        main(options).then();\r\n    }\r\n    else {\r\n        document.addEventListener(\"readystatechange\", () => {\r\n            if (document.readyState === \"complete\") {\r\n                main(options).then();\r\n            }\r\n        });\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/main.ts?");

/***/ }),

/***/ "./src/engine/math/Dice.ts":
/*!*********************************!*\
  !*** ./src/engine/math/Dice.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Dice\": () => (/* binding */ Dice),\n/* harmony export */   \"Dices\": () => (/* binding */ Dices),\n/* harmony export */   \"dice\": () => (/* binding */ dice)\n/* harmony export */ });\nclass Dice {\r\n    constructor() {\r\n        if (arguments.length === 1) {\r\n            let spec = arguments[0];\r\n            let d = spec.indexOf('d');\r\n            if (d < 0) {\r\n                this.rolls = 0;\r\n                this.sides = 0;\r\n                this.bonus = parseInt(spec);\r\n            }\r\n            else {\r\n                this.rolls = parseInt(spec.substring(0, d));\r\n                let p = spec.indexOf('+');\r\n                if (p < 0)\r\n                    p = spec.indexOf(\"-\");\r\n                if (p < 0) {\r\n                    this.sides = parseInt(spec.substring(d + 1));\r\n                    this.bonus = 0;\r\n                }\r\n                else {\r\n                    this.sides = parseInt(spec.substring(d + 1, p));\r\n                    this.bonus = parseInt(spec.substring(p));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.rolls = arguments[0] | 0;\r\n            this.sides = arguments[1] | 0;\r\n            this.bonus = arguments[2] | 0;\r\n        }\r\n    }\r\n    toString() {\r\n        const { rolls, sides, bonus } = this;\r\n        if (rolls === 0 || sides === 0)\r\n            return String(bonus);\r\n        let s = \"\" + rolls + \"d\" + sides;\r\n        if (bonus > 0)\r\n            s += \"+\" + bonus;\r\n        else if (bonus < 0)\r\n            s += bonus;\r\n        return s;\r\n    }\r\n    roll(rng) {\r\n        return rng.dice(this.rolls, this.sides) + this.bonus;\r\n    }\r\n    inverse() {\r\n        return new Dice(-this.rolls, this.sides, -this.bonus);\r\n    }\r\n    repeat(n) {\r\n        if (n === 0)\r\n            return Dices.ZERO;\r\n        if (n === 1)\r\n            return this;\r\n        return new Dice(this.rolls * n, this.sides, this.bonus * n);\r\n    }\r\n}\r\nlet lib = new Map();\r\nfunction dice(spec) {\r\n    if (lib.has(spec))\r\n        return lib.get(spec);\r\n    let dice = new Dice(spec);\r\n    if (dice.bonus === 0)\r\n        lib.set(spec, dice);\r\n    return dice;\r\n}\r\nconst Dices = {\r\n    ZERO: dice(\"0\"),\r\n    x1d2: dice(\"1d2\"),\r\n    x1d3: dice(\"1d3\"),\r\n    x1d4: dice(\"1d4\"),\r\n    x1d6: dice(\"1d6\"),\r\n    x2d6: dice(\"2d6\"),\r\n    x3d6: dice(\"3d6\"),\r\n    x4d6: dice(\"4d6\"),\r\n    x5d6: dice(\"5d6\"),\r\n    x6d6: dice(\"6d6\"),\r\n    x1d8: dice(\"1d8\"),\r\n    x1d10: dice(\"1d10\"),\r\n    x1d12: dice(\"1d12\"),\r\n    x1d20: dice(\"1d20\"),\r\n    x1d100: dice(\"1d100\"),\r\n};\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/math/Dice.ts?");

/***/ }),

/***/ "./src/engine/math/Random.ts":
/*!***********************************!*\
  !*** ./src/engine/math/Random.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Random\": () => (/* binding */ Random)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\nclass Random {\r\n    constructor() {\r\n        this.hasNextGaussian = false;\r\n    }\r\n    /**\r\n     * Random float between 0 (inclusive) and 1 (exclusive)\r\n     */\r\n    next01() {\r\n        return this.nextBits(26) * (2 ** -26) + this.nextBits(27) * (2 ** -53);\r\n    }\r\n    nextFloat(...args) {\r\n        let x = this.next01();\r\n        if (arguments.length === 0)\r\n            return x;\r\n        let min, max;\r\n        if (arguments.length === 2) {\r\n            min = arguments[0];\r\n            max = arguments[1];\r\n        }\r\n        else if (arguments.length === 1) {\r\n            min = 0;\r\n            max = arguments[0];\r\n        }\r\n        let d = max - min;\r\n        return x * d + min;\r\n    }\r\n    nextBits(bitCount) {\r\n        bitCount |= 0;\r\n        if (bitCount === 0)\r\n            return 0;\r\n        if (bitCount < 0 || bitCount > 32)\r\n            throw new Error(\"Invalid bitCount\");\r\n        let x = this.nextI32();\r\n        if (bitCount === 32)\r\n            return x;\r\n        let mask = (1 << bitCount) - 1;\r\n        return x & mask;\r\n    }\r\n    /**\r\n     * Generate random integer:\r\n     * - nextInt(): random 32-bit integer\r\n     * - nextInt(max): between 0 (inclusive) and max (exclusive)\r\n     * - nextInt(min,max) between min (inclusive) and max (exclusive)\r\n     */\r\n    nextInt(...args) {\r\n        let min, max;\r\n        if (arguments.length === 0)\r\n            return this.nextI32();\r\n        if (arguments.length === 1) {\r\n            min = 0;\r\n            max = arguments[0];\r\n        }\r\n        if (arguments.length === 2) {\r\n            min = arguments[0];\r\n            max = arguments[1];\r\n        }\r\n        let n = max - min;\r\n        if (n === 0)\r\n            return min;\r\n        if (n < 0)\r\n            throw new Error(\"Invalid nextInt bounds\");\r\n        if (n > 1 << 30)\r\n            return Math.floor(this.nextFloat.apply(this, arguments));\r\n        let rnd = this.nextInt() >>> 1;\r\n        return rnd % n + min;\r\n    }\r\n    nextBoolean(trueChance = 0.5) {\r\n        return this.next01() < trueChance;\r\n    }\r\n    nextGaussian(variance = 1.0, mean = 0.0) {\r\n        let g;\r\n        if (this.hasNextGaussian) {\r\n            this.hasNextGaussian = false;\r\n            g = this.savedGaussian;\r\n        }\r\n        else {\r\n            let v1, v2, s;\r\n            do {\r\n                v1 = 2 * this.next01() - 1;\r\n                v2 = 2 * this.next01() - 1;\r\n                s = v1 * v1 + v2 * v2;\r\n            } while (s >= 1 || s == 0);\r\n            let multiplier = Math.sqrt(-2 * Math.log(s) / s);\r\n            this.savedGaussian = v2 * multiplier;\r\n            this.hasNextGaussian = true;\r\n            g = v1 * multiplier;\r\n        }\r\n        return g * variance + mean;\r\n    }\r\n    dice(rolls, sides) {\r\n        rolls |= 0;\r\n        sides |= 0;\r\n        if (rolls === 0 || sides === 0)\r\n            return 0;\r\n        if (sides === 1)\r\n            return rolls;\r\n        if (rolls < 0)\r\n            return -this.dice(-rolls, sides);\r\n        if (sides < 0)\r\n            throw new Error(\"Invalid dice \" + rolls + \"d\" + sides);\r\n        let accum = 0;\r\n        while (rolls-- > 0)\r\n            accum += 1 + this.nextInt(sides);\r\n        return accum;\r\n    }\r\n    d2(rolls = 1) { return this.dice(rolls, 2); }\r\n    d3(rolls = 1) { return this.dice(rolls, 3); }\r\n    d4(rolls = 1) { return this.dice(rolls, 4); }\r\n    d6(rolls = 1) { return this.dice(rolls, 6); }\r\n    d8(rolls = 1) { return this.dice(rolls, 8); }\r\n    d10(rolls = 1) { return this.dice(rolls, 10); }\r\n    d12(rolls = 1) { return this.dice(rolls, 12); }\r\n    d20(rolls = 1) { return this.dice(rolls, 20); }\r\n    d100(rolls = 1) { return this.dice(rolls, 100); }\r\n    roll(dice) {\r\n        return this.dice(dice.rolls, dice.sides) + dice.bonus;\r\n    }\r\n    /**\r\n     * Generate a random permutation of numbers between from (inclusive) and to (inclusive)\r\n     */\r\n    numberPermutation(to, from = 1) {\r\n        let n = from + 1 - to;\r\n        let result = new Int32Array(n);\r\n        for (let i = 0; i < n; i++)\r\n            result[i] = i + to;\r\n        this.shuffle(result);\r\n        return result;\r\n    }\r\n    /**\r\n     * In-place random permutation of elements of source\r\n     */\r\n    shuffle(source) {\r\n        let n = source.length;\r\n        // Fisher-Yates shuffle\r\n        for (let i = 0; i < n - 2; i++) {\r\n            let j = i + this.nextInt(n - i);\r\n            let old = source[i];\r\n            source[i] = source[j];\r\n            source[j] = old;\r\n        }\r\n        return source;\r\n    }\r\n    pick(source) {\r\n        if (source.length === 0)\r\n            return undefined;\r\n        return source[this.nextInt(source.length)];\r\n    }\r\n    either(...options) {\r\n        return this.pick(options);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/math/Random.ts?");

/***/ }),

/***/ "./src/engine/math/XorWowRandom.ts":
/*!*****************************************!*\
  !*** ./src/engine/math/XorWowRandom.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"XorWowRandom\": () => (/* binding */ XorWowRandom)\n/* harmony export */ });\n/* harmony import */ var _Random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Random */ \"./src/engine/math/Random.ts\");\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\n\r\n/**\r\n * A modification of JetBrains XorWowRandom which exposes the state for serialization\r\n *\r\n * ----\r\n *\r\n * Random number generator, using Marsaglia's \"xorwow\" algorithm\r\n *\r\n * Cycles after 2^192 - 2^32 repetitions.\r\n *\r\n * For more details, see Marsaglia, George (July 2003). \"Xorshift RNGs\". Journal of Statistical Software. 8 (14). doi:10.18637/jss.v008.i14\r\n *\r\n * Available at https://www.jstatsoft.org/v08/i14/paper\r\n *\r\n */\r\nclass XorWowRandom extends _Random__WEBPACK_IMPORTED_MODULE_0__.Random {\r\n    constructor(x, y, z, w, v, addend, warmup = true) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n        this.v = v;\r\n        this.addend = addend;\r\n        this.x |= 0;\r\n        this.y |= 0;\r\n        this.z |= 0;\r\n        this.w |= 0;\r\n        this.v |= 0;\r\n        this.addend |= 0;\r\n        this.validate();\r\n        if (warmup)\r\n            for (let n = 64; n-- > 0;)\r\n                this.nextI32();\r\n    }\r\n    static create(seed1 = (Math.random() * (1 << 31)) | 0, seed2 = (Math.random() * (1 << 31)) | 0) {\r\n        return new XorWowRandom(seed1, seed2, 0, 0, ~seed1, (seed1 << 10) ^ (seed2 >>> 4), true);\r\n    }\r\n    validate() {\r\n        if (this.x === 0 && this.y === 0 && this.z === 0 && this.w === 0 && this.v === 0)\r\n            throw new Error(\"Initial state must have at least one non-zero element\");\r\n    }\r\n    saveState() {\r\n        return ['XorWowRandom', this.x, this.y, this.z, this.w, this.v, this.addend];\r\n    }\r\n    loadState(state) {\r\n        if (!Array.isArray(state) || state.length !== 7 || state[0] !== 'XorWowRandom')\r\n            throw new Error(\"Invalid random state for XorWowRandom\");\r\n        this.x = state[1] | 0;\r\n        this.y = state[2] | 0;\r\n        this.z = state[3] | 0;\r\n        this.w = state[4] | 0;\r\n        this.v = state[5] | 0;\r\n        this.addend = state[6] | 0;\r\n        this.validate();\r\n    }\r\n    nextI32() {\r\n        let t = this.x;\r\n        t = t ^ (t >>> 2);\r\n        // noinspection JSSuspiciousNameCombination\r\n        this.x = this.y;\r\n        this.y = this.z;\r\n        this.z = this.w;\r\n        let v0 = this.v;\r\n        this.w = v0;\r\n        t = (t ^ (t << 1)) ^ v0 ^ (v0 << 4);\r\n        this.v = t;\r\n        this.addend += 362437;\r\n        return (t + this.addend) | 0;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/math/XorWowRandom.ts?");

/***/ }),

/***/ "./src/engine/math/fxrng.ts":
/*!**********************************!*\
  !*** ./src/engine/math/fxrng.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _XorWowRandom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./XorWowRandom */ \"./src/engine/math/XorWowRandom.ts\");\n\r\nlet fxrng = _XorWowRandom__WEBPACK_IMPORTED_MODULE_0__.XorWowRandom.create();\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (fxrng);\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/math/fxrng.ts?");

/***/ }),

/***/ "./src/engine/math/utils.ts":
/*!**********************************!*\
  !*** ./src/engine/math/utils.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"coerce\": () => (/* binding */ coerce)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 21.07.2022.\r\n */\r\nfunction coerce(value, min, max) {\r\n    if (value < min)\r\n        return min;\r\n    if (value > max)\r\n        return max;\r\n    return value;\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/math/utils.ts?");

/***/ }),

/***/ "./src/engine/objects/BaseItem.ts":
/*!****************************************!*\
  !*** ./src/engine/objects/BaseItem.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BaseItem\": () => (/* binding */ BaseItem)\n/* harmony export */ });\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbols */ \"./src/engine/symbols.ts\");\n/*\r\n * Created by aimozg on 23.07.2022.\r\n */\r\n\r\nclass BaseItem {\r\n    constructor(resId, name) {\r\n        this.resId = resId;\r\n        this.name = name;\r\n    }\r\n    get resType() { return _symbols__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ResTypeBaseItem; }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/BaseItem.ts?");

/***/ }),

/***/ "./src/engine/objects/Color.ts":
/*!*************************************!*\
  !*** ./src/engine/objects/Color.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Color\": () => (/* binding */ Color)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 28.07.2022.\r\n */\r\nclass Color {\r\n    constructor(name, rgb) {\r\n        this.name = name;\r\n        this.rgb = rgb;\r\n    }\r\n    equals(other) {\r\n        if (this === other)\r\n            return true;\r\n        if (other === null)\r\n            return false;\r\n        return this.name === other.name && this.rgb === other.rgb;\r\n    }\r\n}\r\nColor.DEFAULT_WHITE = new Color(\"white\", \"#ffffff\");\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/Color.ts?");

/***/ }),

/***/ "./src/engine/objects/Creature.ts":
/*!****************************************!*\
  !*** ./src/engine/objects/Creature.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Creature\": () => (/* binding */ Creature),\n/* harmony export */   \"CreatureTexts\": () => (/* binding */ CreatureTexts)\n/* harmony export */ });\n/* harmony import */ var _rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../rules/TAttribute */ \"./src/engine/rules/TAttribute.ts\");\n/* harmony import */ var _rules_gender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../rules/gender */ \"./src/engine/rules/gender.ts\");\n/* harmony import */ var _game_data_text_gender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../game/data/text/gender */ \"./src/game/data/text/gender.ts\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math/utils */ \"./src/engine/math/utils.ts\");\n/* harmony import */ var _game_data_items_NaturalWeaponLib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../game/data/items/NaturalWeaponLib */ \"./src/game/data/items/NaturalWeaponLib.ts\");\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Game */ \"./src/engine/Game.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nlet objectIdCounter = 0;\r\nclass CreatureTexts {\r\n    constructor(creature) {\r\n        this.creature = creature;\r\n    }\r\n    get race() {\r\n        return this.creature.rgroup.name.toLowerCase();\r\n    }\r\n    get sex() {\r\n        switch (this.creature.sex) {\r\n            case \"n\": return \"sexless\";\r\n            case \"m\": return \"male\";\r\n            case \"f\": return \"female\";\r\n            case \"h\": return \"futanari\";\r\n        }\r\n    }\r\n}\r\nclass Creature {\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    //     METHODS\r\n    ////////////////////////////////////////////////////////////////////////////////\r\n    constructor() {\r\n        this.objectId = String(objectIdCounter++);\r\n        this.objectType = \"Creature\";\r\n        //////////////////////\r\n        // Body Stats - Data\r\n        //////////////////////\r\n        this.name = \"Unnamed\";\r\n        this.sex = _rules_gender__WEBPACK_IMPORTED_MODULE_1__.SEX_NONE;\r\n        this.gender = _rules_gender__WEBPACK_IMPORTED_MODULE_1__.GENDER_OTHER;\r\n        this.rgroup = _Game__WEBPACK_IMPORTED_MODULE_5__.Game.instance.idata.rgHumanoid;\r\n        this.txt = new CreatureTexts(this);\r\n        //////////////////////\r\n        // Main Stats - Data\r\n        //////////////////////\r\n        this.level = 1;\r\n        this._hp = 1;\r\n        this._hpMax = 1;\r\n        this.baseHpPerLevel = 10;\r\n        this._ep = 1;\r\n        this._epMax = 1;\r\n        this.baseEpPerLevel = 10;\r\n        this._lp = 0;\r\n        this._lpMax = 1;\r\n        this.baseLpMax = 100;\r\n        /////////////////////////\r\n        // Main Stats - Helpers\r\n        /////////////////////////\r\n        //////////////////////\r\n        // Attributes - Data\r\n        //////////////////////\r\n        this.naturalAttrs = Array(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttributes.length).fill(5);\r\n        this.naturalLib = 0;\r\n        this.naturalPerv = 0;\r\n        this.cor = 0;\r\n        //------------------//\r\n        // Equipment - Data //\r\n        //------------------//\r\n        // TODO externalize\r\n        this._fists = _game_data_items_NaturalWeaponLib__WEBPACK_IMPORTED_MODULE_4__.NaturalWeaponLib.NaturalFists.spawn();\r\n        this._mainWeapon = null;\r\n        ///////////////////\r\n        // Combat - Data //\r\n        ///////////////////\r\n        /** Action Points */\r\n        this.ap = 0;\r\n    }\r\n    /////////////////////////\r\n    // Body Stats - Helpers\r\n    /////////////////////////\r\n    get pronouns() { return _game_data_text_gender__WEBPACK_IMPORTED_MODULE_2__.Pronouns[this.gender]; }\r\n    get hp() {\r\n        this.updateStats();\r\n        return this._hp;\r\n    }\r\n    set hp(value) {\r\n        if (!isFinite(value))\r\n            throw new Error(\"HP must be finite\");\r\n        this._hp = value;\r\n    }\r\n    get hpMax() {\r\n        this.updateStats();\r\n        return this._hpMax;\r\n    }\r\n    get ep() {\r\n        this.updateStats();\r\n        return this._ep;\r\n    }\r\n    set ep(value) {\r\n        if (!isFinite(value))\r\n            throw new Error(\"EP must be finite\");\r\n        this._ep = value;\r\n    }\r\n    get epMax() {\r\n        this.updateStats();\r\n        return this._epMax;\r\n    }\r\n    get lp() {\r\n        this.updateStats();\r\n        return this._lp;\r\n    }\r\n    set lp(value) {\r\n        if (!isFinite(value))\r\n            throw new Error(\"LP must be finite\");\r\n        this._lp = value;\r\n    }\r\n    get lpMax() {\r\n        this.updateStats();\r\n        return this._lpMax;\r\n    }\r\n    /////////////////////////\r\n    // Attributes - Helpers\r\n    /////////////////////////\r\n    get lib() {\r\n        return this.naturalLib + this.cor;\r\n    }\r\n    get perv() {\r\n        return Math.max(this.naturalPerv, this.cor);\r\n    }\r\n    attr(id) {\r\n        return this.naturalAttrs[id];\r\n    }\r\n    attrMod(id) { return this.attr(id) - 5; }\r\n    /** Strength */\r\n    get str() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.STR); }\r\n    /** Strength modifier */\r\n    get strMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.STR); }\r\n    /** Dexterity */\r\n    get dex() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.DEX); }\r\n    /** Dexterity modifier */\r\n    get dexMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.DEX); }\r\n    /** Constitution */\r\n    get con() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.CON); }\r\n    /** Constitution modifier */\r\n    get conMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.CON); }\r\n    /** Perception */\r\n    get per() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.PER); }\r\n    /** Perception modifier */\r\n    get perMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.PER); }\r\n    /** Intellect */\r\n    get int() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.INT); }\r\n    /** Intellect modifier */\r\n    get intMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.INT); }\r\n    /** Wisdom */\r\n    get wis() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.WIS); }\r\n    /** Wisdom modifier */\r\n    get wisMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.WIS); }\r\n    /** Charisma */\r\n    get cha() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.CHA); }\r\n    /** Charisma modifier */\r\n    get chaMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.CHA); }\r\n    /** Magic Affinity */\r\n    get maf() { return this.attr(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.MAF); }\r\n    /** Magic Affinity modifier */\r\n    get mafMod() { return this.attrMod(_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.MAF); }\r\n    //---------------//\r\n    // Derived Stats //\r\n    //---------------//\r\n    /** Universal fortitude */\r\n    get fortitude() {\r\n        // TODO other sources (base value, buffs)\r\n        return this.conMod;\r\n    }\r\n    /** Universal reflex saving throw */\r\n    get reflex() {\r\n        // TODO other sources (base value, buffs)\r\n        return this.dexMod;\r\n    }\r\n    /** Universal willpower saving throw */\r\n    get will() {\r\n        // TODO other sources (base value, buffs)\r\n        return this.wisMod;\r\n    }\r\n    /** Universal attack rating with current weapon */\r\n    get attack() {\r\n        // TODO check weapon type and select accordingly\r\n        return 0;\r\n    }\r\n    /** Universal defense */\r\n    get defense() {\r\n        // TODO other sources (shield, buffs)\r\n        return 5 + this.dexMod;\r\n    }\r\n    /** Universal damage reduction */\r\n    get dr() {\r\n        // TODO other sources (equipment, buffs)\r\n        return 0;\r\n    }\r\n    get fists() { return this._fists; }\r\n    setFists(item) { this._fists = item; }\r\n    get mainWeapon() { return this._mainWeapon; }\r\n    setMainWeapon(item) { this._mainWeapon = item; }\r\n    ////////////////////////\r\n    // Equipment - Helpers\r\n    ////////////////////////\r\n    get weapon() {\r\n        return this.mainWeapon ?? this.fists;\r\n    }\r\n    get meleeWeapon() {\r\n        let mw = this.mainWeapon;\r\n        if (mw /* TODO and mw is melee weapon */)\r\n            return mw;\r\n        return this.fists;\r\n    }\r\n    //////////////////////\r\n    // Combat - Helpers //\r\n    //////////////////////\r\n    get isAlive() { return this.hp > 0; }\r\n    updateStats() {\r\n        // hp max\r\n        let oldHpMax = this._hpMax;\r\n        let newHpMax = Math.max(1, this.level * (this.baseHpPerLevel + this.conMod));\r\n        if (newHpMax !== oldHpMax) {\r\n            if (this._hp > 0) {\r\n                this._hp = (0,_math_utils__WEBPACK_IMPORTED_MODULE_3__.coerce)(1, Math.round(this._hp * newHpMax / oldHpMax), newHpMax);\r\n            }\r\n            this._hpMax = newHpMax;\r\n        }\r\n        // ep max\r\n        let oldEpMax = this._epMax;\r\n        let newEpMax = Math.max(1, this.level * (this.baseEpPerLevel + this.conMod));\r\n        if (newEpMax !== oldEpMax) {\r\n            if (this._ep > 0) {\r\n                this._ep = (0,_math_utils__WEBPACK_IMPORTED_MODULE_3__.coerce)(1, Math.round(this._ep * newEpMax / oldEpMax), newEpMax);\r\n            }\r\n            this._epMax = newEpMax;\r\n        }\r\n        // lp max\r\n        let oldLpMax = this._lpMax;\r\n        let newLpMax = Math.max(1, this.baseLpMax);\r\n        if (newLpMax !== oldLpMax) {\r\n            if (this._lp > 0) {\r\n                this._lp = (0,_math_utils__WEBPACK_IMPORTED_MODULE_3__.coerce)(1, Math.round(this._lp * newLpMax / oldLpMax), newLpMax);\r\n            }\r\n            this._lpMax = newLpMax;\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/Creature.ts?");

/***/ }),

/***/ "./src/engine/objects/Item.ts":
/*!************************************!*\
  !*** ./src/engine/objects/Item.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Item\": () => (/* binding */ Item)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 23.07.2022.\r\n */\r\nclass Item {\r\n    constructor(base) {\r\n        this.base = base;\r\n        this.customName = null;\r\n    }\r\n    get name() { return this.customName ?? this.base.name; }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/Item.ts?");

/***/ }),

/***/ "./src/engine/objects/Place.ts":
/*!*************************************!*\
  !*** ./src/engine/objects/Place.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Place\": () => (/* binding */ Place)\n/* harmony export */ });\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbols */ \"./src/engine/symbols.ts\");\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Game */ \"./src/engine/Game.ts\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/*\r\n * Created by aimozg on 18.07.2022.\r\n */\r\n\r\n\r\n\r\nclass Place {\r\n    constructor(resId, props) {\r\n        this.resId = resId;\r\n        this.props = props;\r\n        this.resType = _symbols__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ResTypePlace;\r\n    }\r\n    displayName() { return this.props.displayName(); }\r\n    description() { return this.props.description(); }\r\n    onEnter() { this.props.onEnter(); }\r\n    onLeave() { this.props.onLeave(); }\r\n    onTime() { this.props.onTime(); }\r\n    display() {\r\n        return _Game__WEBPACK_IMPORTED_MODULE_1__.Game.instance.gameController.playScene(this.props.scene());\r\n    }\r\n    static build(def) {\r\n        function wrapValue(value) {\r\n            if (typeof value === 'function')\r\n                return () => value(_Game__WEBPACK_IMPORTED_MODULE_1__.Game.instance.gameController);\r\n            return () => value;\r\n        }\r\n        function wrapFn(value) {\r\n            if (value)\r\n                return () => value(_Game__WEBPACK_IMPORTED_MODULE_1__.Game.instance.gameController);\r\n            return () => { };\r\n        }\r\n        let props = {\r\n            displayName: wrapValue(def.name),\r\n            description: wrapValue(def.description),\r\n            sidebarDescription: def.sidebar ? wrapValue(def.sidebar) : wrapValue((0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(\"h1\", null, def.name)),\r\n            scene: wrapValue(def.scene),\r\n            onEnter: wrapFn(def.onEnter),\r\n            onLeave: wrapFn(def.onLeave),\r\n            onTime: wrapFn(def.onTime)\r\n        };\r\n        return new Place(def.id, props);\r\n    }\r\n}\r\nPlace.Limbo = new Place(\"/Limbo\", {\r\n    displayName: () => \"Limbo\",\r\n    description: () => \"Nothingness. If you're here, game is bugged\",\r\n    sidebarDescription: () => \"Limbo\",\r\n    onEnter() { },\r\n    onLeave() { },\r\n    onTime() { },\r\n    scene: () => \"\"\r\n});\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/Place.ts?");

/***/ }),

/***/ "./src/engine/objects/creature/BodyMaterial.ts":
/*!*****************************************************!*\
  !*** ./src/engine/objects/creature/BodyMaterial.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BodyMaterial\": () => (/* binding */ BodyMaterial),\n/* harmony export */   \"BodyMaterialType\": () => (/* binding */ BodyMaterialType)\n/* harmony export */ });\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Color */ \"./src/engine/objects/Color.ts\");\n/* harmony import */ var _math_fxrng__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../math/fxrng */ \"./src/engine/math/fxrng.ts\");\n/* harmony import */ var _utils_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/string */ \"./src/engine/utils/string.ts\");\n/*\r\n * Created by aimozg on 01.08.2022.\r\n */\r\n\r\n\r\n\r\nclass BodyMaterial {\r\n    constructor(type, body) {\r\n        this.type = type;\r\n        this.body = body;\r\n        this.color1 = _Color__WEBPACK_IMPORTED_MODULE_0__.Color.DEFAULT_WHITE;\r\n        this.color2 = _Color__WEBPACK_IMPORTED_MODULE_0__.Color.DEFAULT_WHITE;\r\n    }\r\n    get colorName() {\r\n        if (this.singleColor)\r\n            return this.color1.name;\r\n        return this.color1.name + \" and \" + this.color2.name;\r\n    }\r\n    get singleColor() { return this.color1.equals(this.color2); }\r\n    get binaryColor() { return !this.singleColor; }\r\n    get isPresent() {\r\n        return this.body.parts.some(part => part.hasMaterial(this.type));\r\n    }\r\n    get name() { return this.type.name; }\r\n    // TODO extract to text common\r\n    verb(singular, plural) { return this.type.plural ? plural : singular; }\r\n    get isAre() { return this.verb(\"is\", \"are\"); }\r\n    get hasHave() { return this.verb(\"has\", \"have\"); }\r\n    textReplacer(s) {\r\n        if (s === 'color')\r\n            return this.colorName;\r\n        if (s === 'name')\r\n            return this.name;\r\n        if (s === 'shortName')\r\n            return this.shortName();\r\n        if (s === 'description')\r\n            return this.description();\r\n        if (s === 'is')\r\n            return this.isAre;\r\n        if (s === 'has')\r\n            return this.hasHave;\r\n        return s;\r\n    }\r\n    shortName() {\r\n        return this.formatPattern(\"{color} {name}\");\r\n    }\r\n    description() {\r\n        // TODO adj\r\n        return this.formatPattern(\"{shortName}\");\r\n    }\r\n    fullDescription() {\r\n        return this.formatPattern(_math_fxrng__WEBPACK_IMPORTED_MODULE_1__[\"default\"].either(\"[You] [have] {description}.\", \"[Your] {name} {is} {color}.\" // TODO adj\r\n        ));\r\n    }\r\n    formatPattern(pattern) {\r\n        return (0,_utils_string__WEBPACK_IMPORTED_MODULE_2__.formatPatternNames)(pattern, s => this.textReplacer(s))\r\n            .replace(/  +/g, ' ')\r\n            .trim();\r\n    }\r\n}\r\nclass BodyMaterialType {\r\n    constructor(id, name, plural) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.plural = plural;\r\n        this.index = BodyMaterialType.index++;\r\n        BodyMaterialType.All[this.index] = this;\r\n    }\r\n    get(body) {\r\n        return body.materials[this.index];\r\n    }\r\n    create(body) {\r\n        return new BodyMaterial(this, body);\r\n    }\r\n}\r\nBodyMaterialType.index = 0;\r\nBodyMaterialType.All = [];\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/creature/BodyMaterial.ts?");

/***/ }),

/***/ "./src/engine/objects/creature/BodyPart.ts":
/*!*************************************************!*\
  !*** ./src/engine/objects/creature/BodyPart.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BodyPart\": () => (/* binding */ BodyPart),\n/* harmony export */   \"BodyPartReference\": () => (/* binding */ BodyPartReference),\n/* harmony export */   \"BodyPartType\": () => (/* binding */ BodyPartType),\n/* harmony export */   \"DefaultBodyPartTexts\": () => (/* binding */ DefaultBodyPartTexts)\n/* harmony export */ });\n/* harmony import */ var _math_fxrng__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../math/fxrng */ \"./src/engine/math/fxrng.ts\");\n/* harmony import */ var _utils_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/string */ \"./src/engine/utils/string.ts\");\n/*\r\n * Created by aimozg on 22.07.2022.\r\n */\r\n\r\n\r\nconst DefaultBodyPartTexts = {\r\n    /** noun, singular (\"ear\") */\r\n    noun1: \"UNKNOWN PART\",\r\n    /** noun, singular (\"ears\") */\r\n    noun2: \"UNKNOWN PART\",\r\n    /** primary determiner */\r\n    type: [\"\"],\r\n    /** extra determiners (inserted before) */\r\n    adj: [\"\"],\r\n    /** extra descriptions (inserted after) */\r\n    suffix: [\"\"],\r\n    shortName1Pattern: \"{type} {noun1}\",\r\n    shortName2Pattern: \"{type} {noun2}\",\r\n    longName1Pattern: \"{adj} {shortName1} {suffix}\",\r\n    longName2Pattern: \"{adj} {shortName2} {suffix}\",\r\n    // TODO use \"number of noun\" fn\r\n    descriptionPattern: \"{count} {longName}\",\r\n    fullDescriptionPattern: \"[You] [have] {description}.\",\r\n};\r\nclass BodyPartType {\r\n    constructor(ref, id, name) {\r\n        this.ref = ref;\r\n        this.id = id;\r\n        this.name = name;\r\n        this.isPresent = this.id !== \"\";\r\n        this.count = this.id === \"\" ? 0 : 1;\r\n        this.size = this.id === \"\" ? 0 : 1;\r\n        // Usage note:\r\n        // noun1/2, shortName1/2 appear inside a bigger phrase (\"You have X, Y, and Z\")\r\n        // longName1/2 appear inside a phrase as a focus (\"She touches your X\")\r\n        // description is main focus of a sentence (\"You have X\" / \"You now have X\")\r\n        this.texts = Object.assign({}, DefaultBodyPartTexts);\r\n        /** noun, singular (\"ear\") */\r\n        this.noun1 = () => this.texts.noun1;\r\n        /** noun, plural (\"ears\") */\r\n        this.noun2 = () => this.texts.noun2;\r\n        /** noun, singular/plural depending on part count */\r\n        this.noun = part => part.count === 1 ? this.noun1(part) : this.noun2(part);\r\n        /** short name, singular, (\"fox ear\") */\r\n        this.shortName1 = part => this.formatPattern(this.texts.shortName1Pattern, part);\r\n        /** short name, plural, (\"fox ears\") */\r\n        this.shortName2 = part => this.formatPattern(this.texts.shortName2Pattern, part);\r\n        /** short name, (\"fox ear\"/\"fox ears\") */\r\n        this.shortName = part => part.count === 1 ? this.shortName1(part) : this.shortName2(part);\r\n        /** long name, singular (\"fuzzy fox ear\") */\r\n        this.longName1 = part => this.formatPattern(this.texts.longName1Pattern, part);\r\n        /** long name, plural (\"fuzzy fox ears\") */\r\n        this.longName2 = part => this.formatPattern(this.texts.longName2Pattern, part);\r\n        /** long name, (\"fuzzy fox ear\"/\"fuzzy fox ears\") */\r\n        this.longName = part => part.count === 1 ? this.longName1(part) : this.longName2(part);\r\n        /** description (\"a pair of fuzzy fox ears\") */\r\n        this.description = part => this.formatPattern(this.texts.descriptionPattern, part);\r\n        /** full description, sentence(s) (\"[You] [have] a pair of fuzzy fox ears.\") */\r\n        this.fullDescription = part => this.formatPattern(this.texts.fullDescriptionPattern, part);\r\n        ref.types.set(id, this);\r\n    }\r\n    textReplacer(s, part) {\r\n        if (s === 'count') {\r\n            if (this.count === 0)\r\n                return \"no\";\r\n            if (this.count === 1)\r\n                return _math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"].either(\"one\", \"single\");\r\n            if (this.count === 2)\r\n                return _math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"].either(\"two\", \"a pair of\");\r\n            if (this.count === 3)\r\n                return _math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"].either(\"three\", \"a trio of\");\r\n            // TODO us \"number of noun\" fn\r\n            return String(this.count);\r\n        }\r\n        if (s === 'type')\r\n            return _math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pick(this.texts.type) ?? \"\";\r\n        if (s === 'adj')\r\n            return _math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"].nextBoolean() ? _math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pick(this.texts.adj) ?? \"\" : \"\";\r\n        if (s === 'suffix')\r\n            return _math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"].pick(this.texts.suffix) ?? \"\";\r\n        if (s === 'noun')\r\n            return this.noun(part);\r\n        if (s === 'noun1')\r\n            return this.noun1(part);\r\n        if (s === 'noun2')\r\n            return this.noun2(part);\r\n        if (s === 'shortName')\r\n            return this.shortName(part);\r\n        if (s === 'shortName1')\r\n            return this.shortName1(part);\r\n        if (s === 'shortName2')\r\n            return this.shortName2(part);\r\n        if (s === 'longName')\r\n            return this.longName(part);\r\n        if (s === 'longName1')\r\n            return this.longName1(part);\r\n        if (s === 'longName2')\r\n            return this.longName2(part);\r\n        if (s === 'description')\r\n            return this.description(part);\r\n        return null;\r\n    }\r\n    formatPattern(pattern, part) {\r\n        return (0,_utils_string__WEBPACK_IMPORTED_MODULE_1__.formatPatternNames)(pattern, s => this.textReplacer(s, part))\r\n            .replace(/  +/g, ' ')\r\n            .trim();\r\n    }\r\n    hasMaterial(material) { return this.materials.has(material); }\r\n}\r\nclass BodyPart {\r\n    constructor(body) {\r\n        this.body = body;\r\n        this.size = 0;\r\n        this.count = 0;\r\n        this._type = this.typeHuman();\r\n    }\r\n    get host() { return this.body.host; }\r\n    get type() { return this._type; }\r\n    setType(value) {\r\n        if (this._type === value)\r\n            return;\r\n        if (!this._type.isPresent && value.isPresent || this._type.isPresent && !value.isPresent) {\r\n            this.size = value.size;\r\n            this.count = value.count;\r\n        }\r\n        this._type = value;\r\n    }\r\n    get isPresent() { return this._type.isPresent; }\r\n    ;\r\n    hasMaterial(material) { return this.type.hasMaterial(material); }\r\n    /** noun, singular (\"ear\") */\r\n    noun1() { return this.type.noun1(this); }\r\n    /** noun, plural (\"ears\") */\r\n    noun2() { return this.type.noun2(this); }\r\n    /** short name, singular (\"fox ear\") */\r\n    shortName1() { return this.type.shortName1(this); }\r\n    /** short name, plural (\"fox ears\") */\r\n    shortName2() { return this.type.shortName2(this); }\r\n    /** long name, singular (\"fuzzy fox ear\") */\r\n    longName1() { return this.type.longName1(this); }\r\n    /** long name, plural (\"fuzzy fox ears\") */\r\n    longName2() { return this.type.longName2(this); }\r\n    /** description (\"a pair of fuzzy fox ears\") */\r\n    description() { return this.type.description(this); }\r\n    /** full description, sentence(s) (\"[You] [have] a pair of fuzzy fox ears.\") */\r\n    fullDescription() { return this.type.fullDescription(this); }\r\n}\r\nclass BodyPartReference {\r\n    constructor(id) {\r\n        this.id = id;\r\n        this.index = BodyPartReference.index++;\r\n        this.types = new Map();\r\n        BodyPartReference.All[this.index] = this;\r\n    }\r\n    get(body) {\r\n        return body.parts[this.index];\r\n    }\r\n}\r\nBodyPartReference.index = 0;\r\nBodyPartReference.All = [];\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/creature/BodyPart.ts?");

/***/ }),

/***/ "./src/engine/objects/creature/Character.ts":
/*!**************************************************!*\
  !*** ./src/engine/objects/creature/Character.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Character\": () => (/* binding */ Character),\n/* harmony export */   \"CharacterBody\": () => (/* binding */ CharacterBody),\n/* harmony export */   \"resetToHumanBody\": () => (/* binding */ resetToHumanBody)\n/* harmony export */ });\n/* harmony import */ var _Creature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Creature */ \"./src/engine/objects/Creature.ts\");\n/* harmony import */ var _BodyPart__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BodyPart */ \"./src/engine/objects/creature/BodyPart.ts\");\n/* harmony import */ var _BodyMaterial__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BodyMaterial */ \"./src/engine/objects/creature/BodyMaterial.ts\");\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\n\r\n\r\n\r\nclass Character extends _Creature__WEBPACK_IMPORTED_MODULE_0__.Creature {\r\n    constructor() {\r\n        super();\r\n        this.objectType = \"Character\";\r\n        this.hairColor = \"brown\";\r\n        this.eyeColor = \"brown\";\r\n        this.body = new CharacterBody(this);\r\n        resetToHumanBody(this.body);\r\n    }\r\n}\r\nclass CharacterBody {\r\n    constructor(host) {\r\n        this.host = host;\r\n        this.parts = _BodyPart__WEBPACK_IMPORTED_MODULE_1__.BodyPartReference.All.map(ref => ref.create(this));\r\n        this.materials = _BodyMaterial__WEBPACK_IMPORTED_MODULE_2__.BodyMaterialType.All.map(ref => ref.create(this));\r\n    }\r\n}\r\nfunction resetToHumanBody(body) {\r\n    for (let bp of body.parts) {\r\n        bp.setType(bp.typeHuman());\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/creature/Character.ts?");

/***/ }),

/***/ "./src/engine/objects/creature/PlayerCharacter.ts":
/*!********************************************************!*\
  !*** ./src/engine/objects/creature/PlayerCharacter.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PlayerCharacter\": () => (/* binding */ PlayerCharacter)\n/* harmony export */ });\n/* harmony import */ var _Character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Character */ \"./src/engine/objects/creature/Character.ts\");\n/* harmony import */ var _Place__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Place */ \"./src/engine/objects/Place.ts\");\n/* harmony import */ var _game_xp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../game/xp */ \"./src/game/xp.ts\");\n/*\r\n * Created by aimozg on 10.07.2022.\r\n */\r\n\r\n\r\n\r\nclass PlayerCharacter extends _Character__WEBPACK_IMPORTED_MODULE_0__.Character {\r\n    constructor() {\r\n        super();\r\n        this.objectType = \"PlayerCharacter\";\r\n        this.place = _Place__WEBPACK_IMPORTED_MODULE_1__.Place.Limbo;\r\n        this.originId = \"unknown\";\r\n        this.xp = 0;\r\n    }\r\n    ////////////\r\n    // Helpers\r\n    ////////////\r\n    nextLevelXp() {\r\n        if (this.level >= _game_xp__WEBPACK_IMPORTED_MODULE_2__.MaxLevel)\r\n            return Infinity;\r\n        return _game_xp__WEBPACK_IMPORTED_MODULE_2__.XpPerLevel[this.level];\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/creature/PlayerCharacter.ts?");

/***/ }),

/***/ "./src/engine/objects/item/BaseAbstractWeapon.ts":
/*!*******************************************************!*\
  !*** ./src/engine/objects/item/BaseAbstractWeapon.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AbstractWeapon\": () => (/* binding */ AbstractWeapon),\n/* harmony export */   \"BaseAbstractWeapon\": () => (/* binding */ BaseAbstractWeapon)\n/* harmony export */ });\n/* harmony import */ var _BaseItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BaseItem */ \"./src/engine/objects/BaseItem.ts\");\n/* harmony import */ var _Item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Item */ \"./src/engine/objects/Item.ts\");\n\r\n\r\nclass BaseAbstractWeapon extends _BaseItem__WEBPACK_IMPORTED_MODULE_0__.BaseItem {\r\n    constructor(resId, name, dmgSpec) {\r\n        super(resId, name);\r\n        this.dmgSpec = dmgSpec;\r\n    }\r\n    get damage() { return this.dmgSpec.damage; }\r\n    get damageType() { return this.dmgSpec.damageType; }\r\n    get critThreat() { return this.dmgSpec.critThreat; }\r\n    get critX() { return this.dmgSpec.critX; }\r\n}\r\nclass AbstractWeapon extends _Item__WEBPACK_IMPORTED_MODULE_1__.Item {\r\n    constructor(base) {\r\n        super(base);\r\n        this.base = base;\r\n    }\r\n    get baseDamage() { return this.base.damage; }\r\n    get damageType() { return this.base.damageType; }\r\n    get critThreat() { return this.base.critThreat; }\r\n    get critX() { return this.base.critX; }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/item/BaseAbstractWeapon.ts?");

/***/ }),

/***/ "./src/engine/objects/item/BaseMeleeWeapon.ts":
/*!****************************************************!*\
  !*** ./src/engine/objects/item/BaseMeleeWeapon.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BaseMeleeWeapon\": () => (/* binding */ BaseMeleeWeapon),\n/* harmony export */   \"MeleeWeapon\": () => (/* binding */ MeleeWeapon)\n/* harmony export */ });\n/* harmony import */ var _BaseAbstractWeapon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseAbstractWeapon */ \"./src/engine/objects/item/BaseAbstractWeapon.ts\");\n/*\r\n * Created by aimozg on 25.07.2022.\r\n */\r\n\r\nclass BaseMeleeWeapon extends _BaseAbstractWeapon__WEBPACK_IMPORTED_MODULE_0__.BaseAbstractWeapon {\r\n    constructor(resId, name, dmgSpec) {\r\n        super(resId, name, dmgSpec);\r\n    }\r\n    spawn() {\r\n        return new MeleeWeapon(this);\r\n    }\r\n}\r\nclass MeleeWeapon extends _BaseAbstractWeapon__WEBPACK_IMPORTED_MODULE_0__.AbstractWeapon {\r\n    constructor(base) {\r\n        super(base);\r\n        this.base = base;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/item/BaseMeleeWeapon.ts?");

/***/ }),

/***/ "./src/engine/objects/item/BaseNaturalWeapon.ts":
/*!******************************************************!*\
  !*** ./src/engine/objects/item/BaseNaturalWeapon.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BaseNaturalWeapon\": () => (/* binding */ BaseNaturalWeapon),\n/* harmony export */   \"NaturalWeapon\": () => (/* binding */ NaturalWeapon)\n/* harmony export */ });\n/* harmony import */ var _BaseAbstractWeapon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseAbstractWeapon */ \"./src/engine/objects/item/BaseAbstractWeapon.ts\");\n/*\r\n * Created by aimozg on 24.07.2022.\r\n */\r\n\r\n// TODO @aimozg - I think: keep it singleton and pick damage/type/crit from creature\r\nclass BaseNaturalWeapon extends _BaseAbstractWeapon__WEBPACK_IMPORTED_MODULE_0__.BaseAbstractWeapon {\r\n    constructor(resId, name, dmgSpec) {\r\n        super(resId, name, dmgSpec);\r\n    }\r\n    spawn() {\r\n        return new NaturalWeapon(this);\r\n    }\r\n}\r\nclass NaturalWeapon extends _BaseAbstractWeapon__WEBPACK_IMPORTED_MODULE_0__.AbstractWeapon {\r\n    constructor(base) {\r\n        super(base);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/objects/item/BaseNaturalWeapon.ts?");

/***/ }),

/***/ "./src/engine/res/GameData.ts":
/*!************************************!*\
  !*** ./src/engine/res/GameData.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameData\": () => (/* binding */ GameData)\n/* harmony export */ });\n/* harmony import */ var _ResLib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResLib */ \"./src/engine/ResLib.ts\");\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../symbols */ \"./src/engine/symbols.ts\");\n/*\r\n * Created by aimozg on 17.07.2022.\r\n */\r\n\r\n\r\nclass GameData {\r\n    constructor() {\r\n        this.classes = new _ResLib__WEBPACK_IMPORTED_MODULE_0__.ResLib(_symbols__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ResTypeClass, \"CharacterClass\");\r\n        this.places = new _ResLib__WEBPACK_IMPORTED_MODULE_0__.ResLib(_symbols__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ResTypePlace, \"Place\");\r\n        this.racialGroups = new _ResLib__WEBPACK_IMPORTED_MODULE_0__.ResLib(_symbols__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ResTypeRacialGroup, \"RacialGroup\");\r\n        this.scenes = new _ResLib__WEBPACK_IMPORTED_MODULE_0__.ResLib(_symbols__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ResTypeScene, \"Scene\");\r\n    }\r\n    class(id) { return this.classes.get(id); }\r\n    place(id) { return this.places.get(id); }\r\n    racialGroup(id) { return this.racialGroups.get(id); }\r\n    scene(scene) {\r\n        return typeof scene === 'string' ? this.scenes.get(scene) : scene;\r\n    }\r\n    sceneOrNull(id) { return this.scenes.getOrNull(id); }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/res/GameData.ts?");

/***/ }),

/***/ "./src/engine/res/ResourceManager.ts":
/*!*******************************************!*\
  !*** ./src/engine/res/ResourceManager.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ResourceManager\": () => (/* binding */ ResourceManager)\n/* harmony export */ });\n/**\r\n * Loads images and other resources required by game\r\n */\r\nclass ResourceManager {\r\n    constructor(game, options) {\r\n        this.game = game;\r\n        this.options = options;\r\n    }\r\n    async loadEssentialResources() {\r\n        // load everything required to launch the game\r\n        // mods go here too I guess\r\n        let idata = await this.options.loadGameData();\r\n        let data = this.game.data;\r\n        this.game.idata = idata;\r\n        data.classes.clear();\r\n        data.classes.registerMany(idata.classes);\r\n        data.places.clear();\r\n        data.places.registerMany(idata.places);\r\n        data.racialGroups.clear();\r\n        data.racialGroups.registerMany(idata.racialGroups);\r\n        data.scenes.clear();\r\n        for (let list of idata.scenes)\r\n            data.scenes.registerMany(list);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/res/ResourceManager.ts?");

/***/ }),

/***/ "./src/engine/rules/BaseDamageSpec.ts":
/*!********************************************!*\
  !*** ./src/engine/rules/BaseDamageSpec.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"baseDmgSpec\": () => (/* binding */ baseDmgSpec)\n/* harmony export */ });\n/* harmony import */ var _math_Dice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/Dice */ \"./src/engine/math/Dice.ts\");\n\r\nfunction baseDmgSpec(damage, damageType, critThreat, critX) {\r\n    return {\r\n        damage: typeof damage === 'string' ? (0,_math_Dice__WEBPACK_IMPORTED_MODULE_0__.dice)(damage) : damage,\r\n        damageType,\r\n        critThreat,\r\n        critX\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/rules/BaseDamageSpec.ts?");

/***/ }),

/***/ "./src/engine/rules/DamageType.ts":
/*!****************************************!*\
  !*** ./src/engine/rules/DamageType.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DamageType\": () => (/* binding */ DamageType),\n/* harmony export */   \"DamageTypes\": () => (/* binding */ DamageTypes)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 24.07.2022.\r\n */\r\nclass DamageType {\r\n    constructor(id, name, cssSuffix) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.cssSuffix = cssSuffix;\r\n    }\r\n}\r\nconst DamageTypes = {\r\n    SHARP: new DamageType(\"/sharp\", \"sharp\", \"sharp\"),\r\n    BLUNT: new DamageType(\"/blunt\", \"blunt\", \"blunt\"),\r\n    FIRE: new DamageType(\"/fire\", \"fire\", \"fire\"),\r\n    ICE: new DamageType(\"/ice\", \"ice\", \"ice\"),\r\n    SHOCK: new DamageType(\"/shock\", \"shock\", \"shock\"),\r\n    ACID: new DamageType(\"/acid\", \"acid\", \"acid\"),\r\n    MAGIC: new DamageType(\"/magic\", \"magic\", \"magic\"),\r\n    DARKNESS: new DamageType(\"/darkness\", \"darkness\", \"darkness\"),\r\n    LIGHT: new DamageType(\"/light\", \"light\", \"light\"),\r\n    PURE: new DamageType(\"/pure\", \"pure\", \"pure\"),\r\n};\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/rules/DamageType.ts?");

/***/ }),

/***/ "./src/engine/rules/RacialGroup.ts":
/*!*****************************************!*\
  !*** ./src/engine/rules/RacialGroup.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RacialGroup\": () => (/* binding */ RacialGroup)\n/* harmony export */ });\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbols */ \"./src/engine/symbols.ts\");\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\n\r\nclass RacialGroup {\r\n    constructor(resId, name) {\r\n        this.resId = resId;\r\n        this.name = name;\r\n        this.resType = _symbols__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ResTypeRacialGroup;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/rules/RacialGroup.ts?");

/***/ }),

/***/ "./src/engine/rules/TAttribute.ts":
/*!****************************************!*\
  !*** ./src/engine/rules/TAttribute.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TAttribute\": () => (/* binding */ TAttribute),\n/* harmony export */   \"TAttributes\": () => (/* binding */ TAttributes)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\nvar TAttribute;\r\n(function (TAttribute) {\r\n    TAttribute[TAttribute[\"STR\"] = 0] = \"STR\";\r\n    TAttribute[TAttribute[\"DEX\"] = 1] = \"DEX\";\r\n    TAttribute[TAttribute[\"CON\"] = 2] = \"CON\";\r\n    TAttribute[TAttribute[\"PER\"] = 3] = \"PER\";\r\n    TAttribute[TAttribute[\"INT\"] = 4] = \"INT\";\r\n    TAttribute[TAttribute[\"WIS\"] = 5] = \"WIS\";\r\n    TAttribute[TAttribute[\"CHA\"] = 6] = \"CHA\";\r\n    TAttribute[TAttribute[\"MAF\"] = 7] = \"MAF\";\r\n})(TAttribute || (TAttribute = {}));\r\nconst TAttributes = [0, 1, 2, 3, 4, 5, 6, 7];\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/rules/TAttribute.ts?");

/***/ }),

/***/ "./src/engine/rules/classes/CharacterClass.ts":
/*!****************************************************!*\
  !*** ./src/engine/rules/classes/CharacterClass.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CharacterClass\": () => (/* binding */ CharacterClass)\n/* harmony export */ });\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../symbols */ \"./src/engine/symbols.ts\");\n\r\nclass CharacterClass {\r\n    constructor() {\r\n        this.resType = _symbols__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ResTypeClass;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/rules/classes/CharacterClass.ts?");

/***/ }),

/***/ "./src/engine/rules/gender.ts":
/*!************************************!*\
  !*** ./src/engine/rules/gender.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GENDERS\": () => (/* binding */ GENDERS),\n/* harmony export */   \"GENDER_FEMALE\": () => (/* binding */ GENDER_FEMALE),\n/* harmony export */   \"GENDER_MALE\": () => (/* binding */ GENDER_MALE),\n/* harmony export */   \"GENDER_OTHER\": () => (/* binding */ GENDER_OTHER),\n/* harmony export */   \"SEXES\": () => (/* binding */ SEXES),\n/* harmony export */   \"SEX_BOTH\": () => (/* binding */ SEX_BOTH),\n/* harmony export */   \"SEX_FEMALE\": () => (/* binding */ SEX_FEMALE),\n/* harmony export */   \"SEX_MALE\": () => (/* binding */ SEX_MALE),\n/* harmony export */   \"SEX_NONE\": () => (/* binding */ SEX_NONE)\n/* harmony export */ });\nconst SEX_NONE = 'n';\r\nconst SEX_MALE = 'm';\r\nconst SEX_FEMALE = 'f';\r\nconst SEX_BOTH = 'h';\r\n/*export const SEX_OTHER = 'x';*/\r\nconst SEXES = ['n', 'm', 'f', 'h' /*, 'x'*/];\r\nconst GENDER_MALE = 'm';\r\nconst GENDER_FEMALE = 'f';\r\nconst GENDER_OTHER = 'x';\r\nconst GENDERS = ['m', 'f', 'x'];\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/rules/gender.ts?");

/***/ }),

/***/ "./src/engine/scene/Scene.ts":
/*!***********************************!*\
  !*** ./src/engine/scene/Scene.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Scene\": () => (/* binding */ Scene)\n/* harmony export */ });\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbols */ \"./src/engine/symbols.ts\");\n\r\nclass Scene {\r\n    constructor(resId, sceneFn) {\r\n        this.resId = resId;\r\n        this.sceneFn = sceneFn;\r\n        this.resType = _symbols__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ResTypeScene;\r\n    }\r\n    async execute(context) {\r\n        await this.sceneFn(context);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/scene/Scene.ts?");

/***/ }),

/***/ "./src/engine/scene/SceneContext.tsx":
/*!*******************************************!*\
  !*** ./src/engine/scene/SceneContext.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SceneContext\": () => (/* binding */ SceneContext)\n/* harmony export */ });\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Game */ \"./src/engine/Game.ts\");\n/* harmony import */ var _utils_Deferred__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Deferred */ \"./src/engine/utils/Deferred.ts\");\n/* harmony import */ var _text_parser_Parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../text/parser/Parser */ \"./src/engine/text/parser/Parser.ts\");\n/* harmony import */ var _ui_components_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/components/Button */ \"./src/engine/ui/components/Button.tsx\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _game_ui_CreaturePanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../game/ui/CreaturePanel */ \"./src/game/ui/CreaturePanel.tsx\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_5__.LogManager.loggerFor(\"engine.scene.SceneContext\");\r\nclass SceneContext {\r\n    constructor(sceneId, output) {\r\n        this.sceneId = sceneId;\r\n        this.output = output;\r\n        this.lastValue = '';\r\n        this.parser = new _text_parser_Parser__WEBPACK_IMPORTED_MODULE_2__.Parser();\r\n        this.characterPanel = new _game_ui_CreaturePanel__WEBPACK_IMPORTED_MODULE_6__.CreaturePanel();\r\n        this._ended = false;\r\n        this.buttons = [];\r\n        this._promise = new _utils_Deferred__WEBPACK_IMPORTED_MODULE_1__.Deferred();\r\n        this._dirty = true;\r\n        this.game = _Game__WEBPACK_IMPORTED_MODULE_0__.Game.instance;\r\n        this.state = _Game__WEBPACK_IMPORTED_MODULE_0__.Game.instance.state;\r\n    }\r\n    toString() { return `SceneContext(${this.sceneId})`; }\r\n    get promise() { return this._promise; }\r\n    get player() { return _Game__WEBPACK_IMPORTED_MODULE_0__.Game.instance.state.player; }\r\n    get gc() { return _Game__WEBPACK_IMPORTED_MODULE_0__.Game.instance.gameController; }\r\n    get ended() { return this._ended; }\r\n    get layout() {\r\n        return {\r\n            left: this.characterPanel.astsx,\r\n            center: this.output.panel.astsx\r\n        };\r\n    }\r\n    async beginScreen(append) {\r\n        if (!append)\r\n            this.clear();\r\n        this.buttons.splice(0);\r\n        this.characterPanel.update(this.player);\r\n    }\r\n    async flush() {\r\n        logger.debug(\"flush in {}\", this.sceneId);\r\n        if (this._ended) {\r\n            this._promise.tryResolve(String(this.lastValue ?? ''));\r\n            return;\r\n        }\r\n        if (!this._dirty)\r\n            return;\r\n        this.characterPanel.update(this.player);\r\n        this._dirty = false;\r\n        if (this.buttons.length === 0) {\r\n            // TODO rescue\r\n            throw new Error(`Dead end in scene ${this.sceneId}.`);\r\n        }\r\n        this.output.appendAction((0,preact__WEBPACK_IMPORTED_MODULE_4__.h)(\"div\", { class: \"choices\" }, this.buttons.map(btn => (0,preact__WEBPACK_IMPORTED_MODULE_4__.h)(_ui_components_Button__WEBPACK_IMPORTED_MODULE_3__.Button, { label: btn.label, disabled: btn.disabled, className: btn.default ? \"-default\" : \"\", onClick: () => this.buttonClick(btn) }))));\r\n        this.buttons.splice(0);\r\n        this.output.flush();\r\n    }\r\n    async buttonClick(c) {\r\n        logger.debug(\"buttonClick {}\", c.value);\r\n        this._dirty = true;\r\n        if (c.clear) {\r\n            this.output.clear();\r\n        }\r\n        else {\r\n            this.output.flip(c.label);\r\n        }\r\n        await c.callback();\r\n        setTimeout(() => this.flush(), 0);\r\n    }\r\n    async finish() {\r\n        this._dirty = true;\r\n        this._ended = true;\r\n        await this.flush();\r\n    }\r\n    async play(scene, append = false) {\r\n        this._dirty = true;\r\n        scene = this.game.data.scene(scene);\r\n        logger.debug(\"play {}\", scene.resId);\r\n        this.sceneId = scene.resId;\r\n        await this.beginScreen(append);\r\n        await scene.execute(this);\r\n        await this.flush();\r\n        return this.promise;\r\n    }\r\n    clear() {\r\n        logger.trace(\"clear\");\r\n        this._dirty = true;\r\n        this.output.flip();\r\n    }\r\n    say(text) {\r\n        logger.trace(\"say {}\", text);\r\n        this._dirty = true;\r\n        let parsed = this.parser.parse(text);\r\n        this.output.print(parsed);\r\n    }\r\n    choicelist(...choices) {\r\n        logger.trace(\"choiceList\");\r\n        this._dirty = true;\r\n        this.buttons = choices.map(c => {\r\n            let callback;\r\n            if ('scene' in c) {\r\n                callback = ((scene) => () => this.play(scene))(c.scene);\r\n            }\r\n            else {\r\n                callback = () => c.call(this);\r\n            }\r\n            return {\r\n                clear: c.clear ?? false,\r\n                label: c.label,\r\n                default: c.default ?? false,\r\n                hotkey: c.hotkey,\r\n                value: 'value' in c ? c.value : c.label,\r\n                disabled: c.disabled ?? false,\r\n                callback: callback\r\n            };\r\n        });\r\n    }\r\n    choices(choices) {\r\n        this._dirty = true;\r\n        this.choicelist(...Object.entries(choices).map(([k, v]) => {\r\n            if (typeof v === 'function') {\r\n                return { label: k, call: v };\r\n            }\r\n            else if (typeof v === 'string') {\r\n                return { label: k, scene: v };\r\n            }\r\n            else {\r\n                return Object.assign({ label: k }, v);\r\n            }\r\n        }));\r\n    }\r\n    async flipPage(label = \"Continue\", clear = false) {\r\n        logger.trace(\"flipPage...\");\r\n        this._dirty = true;\r\n        return new Promise((resolve) => {\r\n            this.choicelist({\r\n                label,\r\n                default: true,\r\n                clear,\r\n                call() {\r\n                    logger.debug(\"        ...done!\");\r\n                    resolve();\r\n                }\r\n            });\r\n            return this.flush();\r\n        });\r\n    }\r\n    next(sceneId, label = \"Continue\", clear = false) {\r\n        logger.trace(\"next {}\", sceneId);\r\n        this._dirty = true;\r\n        this.choicelist({\r\n            label,\r\n            default: true,\r\n            clear,\r\n            scene: sceneId\r\n        });\r\n    }\r\n    endScene({ value, label = \"END\" } = {}) {\r\n        logger.info(\"endScene {}\", value ?? '');\r\n        this._dirty = true;\r\n        if (this._ended) {\r\n            throw new Error(\"Duplicate endScene call\");\r\n        }\r\n        this.lastValue = value ?? this.lastValue ?? '';\r\n        this.choicelist({\r\n            label: label,\r\n            call: () => {\r\n                this.finish().then();\r\n            }\r\n        });\r\n    }\r\n    async battleAndContinue(...enemies) {\r\n        logger.info(\"battleAndContinue {}\", ...enemies);\r\n        let ctx = this.gc.startBattle(enemies);\r\n        return ctx.promise;\r\n    }\r\n    endAndBattle(...enemies) {\r\n        logger.info(\"endAndBattle {}\", ...enemies);\r\n        this.endScene({ label: \"FIGHT\" });\r\n        this.promise.then(() => {\r\n            this.gc.startBattle(enemies);\r\n        });\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/scene/SceneContext.tsx?");

/***/ }),

/***/ "./src/engine/scene/builder.ts":
/*!*************************************!*\
  !*** ./src/engine/scene/builder.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"buildScenes\": () => (/* binding */ buildScenes)\n/* harmony export */ });\n/* harmony import */ var _Scene__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Scene */ \"./src/engine/scene/Scene.ts\");\n/*\r\n * Created by aimozg on 17.07.2022.\r\n */\r\n\r\nfunction contentToSceneFn(content, addend) {\r\n    if (typeof content === 'string') {\r\n        return ctx => {\r\n            ctx.say(content);\r\n            addend(ctx);\r\n        };\r\n    }\r\n    else {\r\n        return ctx => {\r\n            content(ctx);\r\n            addend(ctx);\r\n        };\r\n    }\r\n}\r\nfunction doNextFn(next) {\r\n    return ctx => ctx.next(next);\r\n}\r\nfunction buildScenes(namespace, scenes) {\r\n    return Object.entries(scenes).map(([id, def]) => {\r\n        let sceneFn;\r\n        if (typeof def === 'function') {\r\n            sceneFn = def;\r\n        }\r\n        else if ('content' in def) {\r\n            sceneFn = contentToSceneFn(def.content, doNextFn(def.next));\r\n        }\r\n        return new _Scene__WEBPACK_IMPORTED_MODULE_0__.Scene(namespace + \"_\" + id, sceneFn);\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/scene/builder.ts?");

/***/ }),

/***/ "./src/engine/state/GameContext.ts":
/*!*****************************************!*\
  !*** ./src/engine/state/GameContext.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NullGameContext\": () => (/* binding */ NullGameContext),\n/* harmony export */   \"PlaceContext\": () => (/* binding */ PlaceContext)\n/* harmony export */ });\n/* harmony import */ var _utils_Deferred__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Deferred */ \"./src/engine/utils/Deferred.ts\");\n/*\r\n * Created by aimozg on 19.07.2022.\r\n */\r\n\r\nclass NullGameContext {\r\n    constructor() {\r\n        this.promise = new _utils_Deferred__WEBPACK_IMPORTED_MODULE_0__.Deferred();\r\n    }\r\n    get ended() { return false; }\r\n    toString() { return \"NulLGameContext\"; }\r\n}\r\nclass PlaceContext {\r\n    constructor(place) {\r\n        this.place = place;\r\n        this.promise = new _utils_Deferred__WEBPACK_IMPORTED_MODULE_0__.Deferred();\r\n    }\r\n    get ended() { return this.promise.completed; }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/state/GameContext.ts?");

/***/ }),

/***/ "./src/engine/state/SaveManager.ts":
/*!*****************************************!*\
  !*** ./src/engine/state/SaveManager.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SaveManager\": () => (/* binding */ SaveManager)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 03.07.2022.\r\n */\r\n/**\r\n * Interacts with browser APIs to save/load saved states.\r\n */\r\nclass SaveManager {\r\n    constructor() {\r\n    }\r\n    isRecentSaveAvailable() {\r\n        return false;\r\n    }\r\n    async loadAutosaveData() {\r\n        throw new Error(\"Not implemented yet\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/state/SaveManager.ts?");

/***/ }),

/***/ "./src/engine/state/StateManager.ts":
/*!******************************************!*\
  !*** ./src/engine/state/StateManager.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StateManager\": () => (/* binding */ StateManager)\n/* harmony export */ });\n/* harmony import */ var _objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../objects/creature/PlayerCharacter */ \"./src/engine/objects/creature/PlayerCharacter.ts\");\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _GameContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameContext */ \"./src/engine/state/GameContext.ts\");\n/*\r\n * Created by aimozg on 03.07.2022.\r\n */\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_1__.LogManager.loggerFor(\"engine.state.StateManager\");\r\n/**\r\n * Global state holder and manager.\r\n * Performs conversion to/from JSON but doesn't write it into storage (that's SaveManager)\r\n */\r\nclass StateManager {\r\n    constructor() { }\r\n    get player() { return this._player; }\r\n    //////////////////\r\n    // Mass managers\r\n    //////////////////\r\n    clearGameState() {\r\n        logger.info(\"clearGameState\");\r\n        this._player = new _objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_0__.PlayerCharacter();\r\n        this._gcStack = [new _GameContext__WEBPACK_IMPORTED_MODULE_2__.NullGameContext()];\r\n    }\r\n    importGameState(data) {\r\n        logger.info(\"importGameState\");\r\n        this.clearGameState();\r\n        // TODO importGameState\r\n        throw new Error(\"Not implemented\");\r\n    }\r\n    exportGameState() {\r\n        logger.info(\"exportGameState\");\r\n        let save = {};\r\n        return save;\r\n    }\r\n    ///////////////////////\r\n    // Granular accessors\r\n    ///////////////////////\r\n    /**\r\n     * Set player. To be called during new game start only!\r\n     */\r\n    setupPlayer(player) {\r\n        logger.debug(\"setupPlayer\");\r\n        this._player = player;\r\n    }\r\n    pushGameContext(context) {\r\n        logger.info(\"pushGameContext {}\", context);\r\n        this._gcStack.push(context);\r\n    }\r\n    flushGameContext() {\r\n        logger.debug(\"flushGameContext\");\r\n        while (true) {\r\n            let top = this._gcStack[this._gcStack.length - 1];\r\n            if (top.ended) {\r\n                logger.debug(\"game context ended {}\", top);\r\n                this._gcStack.pop();\r\n            }\r\n            else {\r\n                return top;\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/state/StateManager.ts?");

/***/ }),

/***/ "./src/engine/symbols.ts":
/*!*******************************!*\
  !*** ./src/engine/symbols.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\nvar Symbols;\r\n(function (Symbols) {\r\n    Symbols.ResTypeBaseItem = Symbol(\"ResType_BaseItem\");\r\n    Symbols.ResTypeClass = Symbol(\"ResType_Class\");\r\n    Symbols.ResTypePlace = Symbol(\"ResType_Place\");\r\n    Symbols.ResTypeRacialGroup = Symbol(\"ResType_RacialGroup\");\r\n    Symbols.ResTypeScene = Symbol(\"ResType_Scene\");\r\n})(Symbols || (Symbols = {}));\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Symbols);\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/symbols.ts?");

/***/ }),

/***/ "./src/engine/text/output/TextOutput.tsx":
/*!***********************************************!*\
  !*** ./src/engine/text/output/TextOutput.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TextOutput\": () => (/* binding */ TextOutput)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_1__.LogManager.loggerFor(\"engine.text.output.TextOutput\");\r\nclass TextOutput {\r\n    constructor(panel) {\r\n        this.panel = panel;\r\n    }\r\n    clear() {\r\n        this.panel.clear();\r\n    }\r\n    flush() {\r\n        this.panel.flush();\r\n    }\r\n    flip(action) {\r\n        this.panel.flipPage(action ? '[' + action + ']' : null);\r\n    }\r\n    print(input) {\r\n        let e = TextOutput.print(input);\r\n        this.panel.addContent(e);\r\n    }\r\n    append(e) {\r\n        this.panel.addContent(e);\r\n    }\r\n    appendAction(e) {\r\n        this.panel.addActions(e);\r\n    }\r\n    static print(input) {\r\n        if (Array.isArray(input))\r\n            return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, input.map(i => TextOutput.print(i)));\r\n        switch (input.type) {\r\n            case \"text\":\r\n                logger.trace(\"print text {}\", input.content);\r\n                return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, input.content);\r\n            /*if (input.content.includes('\\n')) {\r\n                let parts = input.content.split('\\n');\r\n                return <Fragment>{parts.map((s,i)=>[i > 0 && <br/>,s])}</Fragment>\r\n            } else {\r\n                return <Fragment>{input.content}</Fragment>\r\n            }*/\r\n            case \"styledText\":\r\n                logger.trace(\"print styled {}\", input.className);\r\n                return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: input.className }, TextOutput.print(input.content));\r\n            case \"error\":\r\n                logger.trace(\"print error {}\", input.content);\r\n                return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"span\", { class: \"text-error\" }, String(input.content));\r\n            case \"hr\":\r\n                logger.trace(\"print hr\");\r\n                return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"hr\", null);\r\n            case \"br\":\r\n                logger.trace(\"print br\");\r\n                return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"br\", null);\r\n            case \"group\":\r\n                return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, input.content.map(i => TextOutput.print(i)));\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/text/output/TextOutput.tsx?");

/***/ }),

/***/ "./src/engine/text/parser/AbstractParser.ts":
/*!**************************************************!*\
  !*** ./src/engine/text/parser/AbstractParser.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AbstractParser\": () => (/* binding */ AbstractParser)\n/* harmony export */ });\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _Parsed__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Parsed */ \"./src/engine/text/parser/Parsed.ts\");\n/* harmony import */ var _Lexer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Lexer */ \"./src/engine/text/parser/Lexer.ts\");\n/* harmony import */ var _utils_string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/string */ \"./src/engine/utils/string.ts\");\n// noinspection RegExpRedundantEscape\r\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_0__.LogManager.loggerFor(\"engine.text.parser.AbstractParser\");\r\n// Lookahead regexes\r\n/** Plain text */\r\nconst LA_TEXT = /^[^\\\\\\[<\\n&]+/;\r\n/** Line break */\r\nconst LA_BR = /^\\n/;\r\n/** HTML Entity */\r\nconst LA_ENTITY = /^&(?:\\w+|#x[a-fA-F\\d]+|#\\d+);/;\r\n/** Escaped control char */\r\nconst LA_ESCAPED = /^\\\\./;\r\n/**\r\n * Simple `[parsertag]` or `[tag arguments]`.\r\n * Group 1 = tag name, group 2 = tag arguments (including any leading whitespace)\r\n */\r\nconst LA_SIMPLETAG = /^\\[([\\w-]+:?)(\\b[^\\]]*)\\]/;\r\n/** Non-tag in square brackets like `[1]` */\r\nconst LA_FALSETAG = /^\\[(?:\\W|\\\\.)/;\r\n/** Group 1 = tag name */\r\nconst LA_TAGSTART = /^\\[(\\w+)\\b/;\r\n/**\r\n * Group 1: tag name\r\n * Group 2: raw attributes string\r\n * Group 3: '/' or empty string before '>'\r\n */\r\nconst LA_HTMLTAGSTART = /^< *([\\w\\d:-]+) *((?: *[\\w\\d:_-]+(?: *=(?:\"[^\"]*\"|'[^']*'|[\\w\\d_-]+))?)*) *(\\/?)>/;\r\n/** Group 1 : tag name */\r\nconst LA_HTMLTAGEND = /^<\\/ *([\\w\\d:-]+) *>/;\r\nclass AbstractParser {\r\n    constructor() {\r\n        this.allowedHtmlTags = new Set([\"b\", \"i\", \"u\", \"p\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"hr\", \"br\", \"span\", \"div\", \"sub\", \"sup\", \"em\", \"strong\"]);\r\n    }\r\n    evaluateHtmlTag(tag, attrs, single, current, push) {\r\n        if (tag === 'hr' && single) {\r\n            current.push({ type: 'hr' });\r\n        }\r\n        else if (tag === 'br' && single) {\r\n            current.push({ type: 'br' });\r\n        }\r\n        else if (this.allowedHtmlTags.has(tag)) {\r\n            let block = {\r\n                type: \"styledText\",\r\n                className: \"text-\" + tag,\r\n                content: []\r\n            };\r\n            current.push(block);\r\n            push(tag, block.content);\r\n        }\r\n        else {\r\n            let error = `Unsupported HTML tag ${tag}`;\r\n            logger.warn(error);\r\n            current.push({ type: \"error\", content: error });\r\n        }\r\n    }\r\n    evaluateTag(tag, tagArgsRaw) {\r\n        let content = this.doEvaluateTag(tag.toLowerCase(), tagArgsRaw);\r\n        if (typeof content === 'string')\r\n            content = { type: \"group\", content: this.parse(content) };\r\n        switch ((0,_utils_string__WEBPACK_IMPORTED_MODULE_3__.adjustCaseMode)(tag)) {\r\n            case \"uppercase\":\r\n                (0,_Parsed__WEBPACK_IMPORTED_MODULE_1__.walkParsedText)(content, p => {\r\n                    p.content = p.content.toUpperCase();\r\n                });\r\n                break;\r\n            case \"capitalize\": {\r\n                let capd = false;\r\n                (0,_Parsed__WEBPACK_IMPORTED_MODULE_1__.walkParsedText)(content, p => {\r\n                    if (capd)\r\n                        return;\r\n                    let t2 = p.content.capitalize();\r\n                    if (p.content !== t2) {\r\n                        p.content = t2;\r\n                        capd = true;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return content;\r\n    }\r\n    parse(input) {\r\n        logger.trace(\"parse\", input);\r\n        const result = [];\r\n        const stack = [{ tag: '', list: result }];\r\n        // noinspection JSMismatchedCollectionQueryUpdate\r\n        let current = result;\r\n        let currentTag = '';\r\n        new _Lexer__WEBPACK_IMPORTED_MODULE_2__.Lexer(input).eatLoop(lexer => {\r\n            let match;\r\n            if ((match = lexer.tryEat(LA_TEXT))) {\r\n                logger.trace(\"text '{}'\", match[0]);\r\n                current.push({ type: \"text\", content: match[0] });\r\n            }\r\n            else if ((match = lexer.tryEat(LA_ENTITY))) {\r\n                logger.trace(\"entity '{}'\", match[0]);\r\n                current.push({ type: \"text\", content: (0,_utils_string__WEBPACK_IMPORTED_MODULE_3__.parseXmlEntity)(match[0]) });\r\n            }\r\n            else if (lexer.tryEat(LA_BR)) {\r\n                logger.trace(\"br\");\r\n                current.push({ type: \"br\" });\r\n            }\r\n            else if ((match = lexer.tryEat(LA_ESCAPED))) {\r\n                logger.trace(\"escaped '{}'\", match[0][1]);\r\n                current.push({ type: \"text\", content: match[0][1] });\r\n            }\r\n            else if ((match = lexer.tryEat(LA_SIMPLETAG))) {\r\n                let [_, tag, args] = match;\r\n                logger.trace(\"simpletag '{}' '{}'\", tag, args);\r\n                try {\r\n                    current.push(this.evaluateTag(tag, args));\r\n                }\r\n                catch (e) {\r\n                    logger.warn(e);\r\n                    current.push({ type: \"error\", content: e });\r\n                }\r\n            }\r\n            else if ((match = lexer.tryEat(LA_FALSETAG))) {\r\n                logger.trace(\"falsetag '{}'\", match[0]);\r\n                current.push({ type: \"text\", content: match[0] });\r\n            }\r\n            else if ((match = lexer.tryEat(LA_TAGSTART))) {\r\n                logger.trace(\"tag '{}'\", match[0]);\r\n                // TODO implement complex tag parsing\r\n                throw new Error(\"Complex tag parsing not implemented\");\r\n            }\r\n            else if ((match = lexer.tryEat(LA_HTMLTAGSTART))) {\r\n                let [_, tag, attrs, ending] = match;\r\n                tag = tag.toLowerCase();\r\n                logger.trace(\"htmlstart '{}' '{}' '{}'\", tag, attrs, ending);\r\n                this.evaluateHtmlTag(tag, attrs, !!ending, current, (tag, list) => {\r\n                    current = list;\r\n                    currentTag = tag;\r\n                    stack.push({ tag, list });\r\n                });\r\n            }\r\n            else if ((match = lexer.tryEat(LA_HTMLTAGEND))) {\r\n                let tag = match[1].toLowerCase();\r\n                logger.trace(\"htmlend '{}'\", tag);\r\n                if (tag === currentTag) {\r\n                    stack.pop();\r\n                    current = stack[stack.length - 1].list;\r\n                    currentTag = stack[stack.length - 1].tag;\r\n                }\r\n                else {\r\n                    let error = `Bad closing tag '${tag}', expected '${currentTag}'`;\r\n                    logger.warn(error);\r\n                    current.push({ type: \"error\", content: error });\r\n                }\r\n            }\r\n            else {\r\n                logger.warn('Cannot parse: {}', lexer.remainder);\r\n                current.push({ type: \"error\", content: lexer.remainder });\r\n                lexer.halt();\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/text/parser/AbstractParser.ts?");

/***/ }),

/***/ "./src/engine/text/parser/Lexer.ts":
/*!*****************************************!*\
  !*** ./src/engine/text/parser/Lexer.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Lexer\": () => (/* binding */ Lexer)\n/* harmony export */ });\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_0__.LogManager.loggerFor(\"engine.text.parser.Lexer\");\r\nclass Lexer {\r\n    constructor(input) {\r\n        this.input = input;\r\n        // TODO Optimization note: Don't cut string into parts, track index and use regexes' matchAt()\r\n        this.s = this.input;\r\n        this.match = null;\r\n    }\r\n    get remainder() {\r\n        return this.s;\r\n    }\r\n    get length() {\r\n        return this.s.length;\r\n    }\r\n    eol() {\r\n        return this.s.length === 0;\r\n    }\r\n    skip(n) {\r\n        this.s = this.s.slice(n);\r\n    }\r\n    eat(n) {\r\n        let part = this.s.slice(0, n);\r\n        logger.trace(\"Matched {}\", part);\r\n        this.skip(n);\r\n        return part;\r\n    }\r\n    tryEat(lookahead) {\r\n        lookahead.lastIndex = 0;\r\n        let match = lookahead.exec(this.s);\r\n        if (match) {\r\n            this.match = match;\r\n            logger.trace(\"Matched {}\", match[0]);\r\n            this.skip(match[0].length);\r\n        }\r\n        return match;\r\n    }\r\n    eatLoop(iter) {\r\n        let n = this.length + 1;\r\n        while (!this.eol()) {\r\n            if (this.length >= n) {\r\n                // Ensure string shortens as we go\r\n                throw new Error(`Parser stuck at '${this.remainder}'`);\r\n            }\r\n            n = this.length;\r\n            iter(this);\r\n        }\r\n    }\r\n    halt() {\r\n        this.s = '';\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/text/parser/Lexer.ts?");

/***/ }),

/***/ "./src/engine/text/parser/Parsed.ts":
/*!******************************************!*\
  !*** ./src/engine/text/parser/Parsed.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"walkParsed\": () => (/* binding */ walkParsed),\n/* harmony export */   \"walkParsedText\": () => (/* binding */ walkParsedText)\n/* harmony export */ });\nfunction walkParsed(e, fn) {\r\n    fn(e);\r\n    if (e.type === \"styledText\" || e.type === \"group\") {\r\n        e.content.forEach(p => {\r\n            walkParsed(p, fn);\r\n        });\r\n    }\r\n}\r\nfunction walkParsedText(e, fn) {\r\n    walkParsed(e, p => {\r\n        if (p.type === \"text\")\r\n            fn(p);\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/text/parser/Parsed.ts?");

/***/ }),

/***/ "./src/engine/text/parser/Parser.ts":
/*!******************************************!*\
  !*** ./src/engine/text/parser/Parser.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Parser\": () => (/* binding */ Parser)\n/* harmony export */ });\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _AbstractParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AbstractParser */ \"./src/engine/text/parser/AbstractParser.ts\");\n/* harmony import */ var _output_TextOutput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../output/TextOutput */ \"./src/engine/text/output/TextOutput.tsx\");\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Game */ \"./src/engine/Game.ts\");\n/* harmony import */ var _math_fxrng__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../math/fxrng */ \"./src/engine/math/fxrng.ts\");\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_0__.LogManager.loggerFor(\"engine.text.Parser\");\r\nclass Parser extends _AbstractParser__WEBPACK_IMPORTED_MODULE_1__.AbstractParser {\r\n    constructor() {\r\n        super();\r\n        this.self = _Game__WEBPACK_IMPORTED_MODULE_3__.Game.instance.state.player;\r\n        this.target = _Game__WEBPACK_IMPORTED_MODULE_3__.Game.instance.state.player;\r\n    }\r\n    select(creature) {\r\n        this.target = creature;\r\n    }\r\n    print(text) {\r\n        return _output_TextOutput__WEBPACK_IMPORTED_MODULE_2__.TextOutput.print(this.parse(text));\r\n    }\r\n    doEvaluateTag(tag, tagArgs) {\r\n        logger.trace(\"doEvaluateTag {} {}\", tag, tagArgs);\r\n        let isSelf = this.self && (this.self === this.target);\r\n        let target = this.target;\r\n        switch (tag) {\r\n            case 'either':\r\n                return _math_fxrng__WEBPACK_IMPORTED_MODULE_4__[\"default\"].pick(tagArgs.split('|'));\r\n            case 'you':\r\n                return isSelf ? 'you' : target.name;\r\n            case 'your':\r\n                return isSelf ? 'your' : (target.name + \"'s\"); // TODO plural +\"'\"\r\n            case 'have':\r\n            case 'has':\r\n                return isSelf ? 'have' : 'has'; // TODO check target.isPlural\r\n            case 'is':\r\n            case 'are':\r\n                return isSelf ? 'are' : 'is'; // TODO check target.isPlural\r\n            case 'pg':\r\n                return {\r\n                    type: \"group\",\r\n                    content: [{ type: \"br\" }, { type: \"br\" }]\r\n                };\r\n            default:\r\n                throw new Error(\"Unknown tag \" + tag);\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/text/parser/Parser.ts?");

/***/ }),

/***/ "./src/engine/text/utils.tsx":
/*!***********************************!*\
  !*** ./src/engine/text/utils.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"simpleparse\": () => (/* binding */ simpleparse)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _parser_Parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parser/Parser */ \"./src/engine/text/parser/Parser.ts\");\n/* harmony import */ var _output_TextOutput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./output/TextOutput */ \"./src/engine/text/output/TextOutput.tsx\");\n/*\r\n * Created by aimozg on 05.07.2022.\r\n */\r\n\r\n\r\n\r\nfunction simpleparse(input) {\r\n    if (!input)\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null);\r\n    return _output_TextOutput__WEBPACK_IMPORTED_MODULE_2__.TextOutput.print(new _parser_Parser__WEBPACK_IMPORTED_MODULE_1__.Parser().parse(input));\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/text/utils.tsx?");

/***/ }),

/***/ "./src/engine/ui/AbstractScreen.ts":
/*!*****************************************!*\
  !*** ./src/engine/ui/AbstractScreen.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AbstractScreen\": () => (/* binding */ AbstractScreen)\n/* harmony export */ });\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Game */ \"./src/engine/Game.ts\");\n/* harmony import */ var _utils_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/dom */ \"./src/engine/utils/dom.ts\");\n\r\n\r\nclass AbstractScreen {\r\n    constructor() {\r\n        this.container = document.createElement(\"div\");\r\n        this.container.className = \"screen\";\r\n    }\r\n    get game() {\r\n        return _Game__WEBPACK_IMPORTED_MODULE_0__.Game.instance;\r\n    }\r\n    render() {\r\n        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.removeChildren)(this.container);\r\n        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.renderAppend)(this.node(), this.container);\r\n    }\r\n    onAdd() {\r\n    }\r\n    onActivate() {\r\n        this.container.classList.remove(\"screen-shaded\");\r\n    }\r\n    onDeactivate() {\r\n        this.container.classList.add(\"screen-shaded\");\r\n    }\r\n    onRemove() {\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/AbstractScreen.ts?");

/***/ }),

/***/ "./src/engine/ui/AppendNode.tsx":
/*!**************************************!*\
  !*** ./src/engine/ui/AppendNode.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AppendNode\": () => (/* binding */ AppendNode)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/*\r\n * Created by aimozg on 20.07.2022.\r\n */\r\n\r\nclass AppendNode extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.ref = (0,preact__WEBPACK_IMPORTED_MODULE_0__.createRef)();\r\n        this.fragment = document.createDocumentFragment();\r\n    }\r\n    componentDidMount() {\r\n        this.ref.current.parentNode.insertBefore(this.props.child, this.ref.current.nextSibling);\r\n        this.ref.current.remove();\r\n    }\r\n    shouldComponentUpdate() {\r\n        return false;\r\n    }\r\n    render() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: \"display:none\", ref: this.ref });\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/AppendNode.tsx?");

/***/ }),

/***/ "./src/engine/ui/DomComponent.tsx":
/*!****************************************!*\
  !*** ./src/engine/ui/DomComponent.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DomComponent\": () => (/* binding */ DomComponent)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _utils_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/dom */ \"./src/engine/utils/dom.ts\");\n/* harmony import */ var _AppendNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AppendNode */ \"./src/engine/ui/AppendNode.tsx\");\n\r\n\r\n\r\nclass DomComponent {\r\n    constructor(wireframe) {\r\n        this.node = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.render1)(wireframe);\r\n    }\r\n    get astsx() { return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_AppendNode__WEBPACK_IMPORTED_MODULE_2__.AppendNode, { child: this.node }); }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/DomComponent.tsx?");

/***/ }),

/***/ "./src/engine/ui/ScreenManager.ts":
/*!****************************************!*\
  !*** ./src/engine/ui/ScreenManager.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ScreenManager\": () => (/* binding */ ScreenManager)\n/* harmony export */ });\n/* harmony import */ var _screens_EmptyScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./screens/EmptyScreen */ \"./src/engine/ui/screens/EmptyScreen.tsx\");\n/* harmony import */ var _screens_GameScreen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./screens/GameScreen */ \"./src/engine/ui/screens/GameScreen.tsx\");\n/* harmony import */ var _logging_LogManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _animations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./animations */ \"./src/engine/ui/animations.ts\");\n/*\r\n * Created by aimozg on 03.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\nconst logger = _logging_LogManager__WEBPACK_IMPORTED_MODULE_2__.LogManager.loggerFor(\"engine.ui.ScreenManager\");\r\nclass ScreenManager {\r\n    constructor(screenHolder) {\r\n        this.screenHolder = screenHolder;\r\n        this.screens = [];\r\n        this.gameScreen = new _screens_GameScreen__WEBPACK_IMPORTED_MODULE_1__.GameScreen();\r\n        this.addTop(new _screens_EmptyScreen__WEBPACK_IMPORTED_MODULE_0__.EmptyScreen());\r\n    }\r\n    get top() {\r\n        return this.screens[this.screens.length - 1];\r\n    }\r\n    removeTop(activateScreenBelow) {\r\n        let top = this.top;\r\n        logger.debug(\"removeTop\");\r\n        if (this.top) {\r\n            top.container.remove();\r\n            top.onDeactivate();\r\n            top.onRemove();\r\n        }\r\n        else {\r\n            throw new Error(\"Cannot removeTop, screen is empty\");\r\n        }\r\n        this.screens.splice(-1, 1);\r\n        if (activateScreenBelow)\r\n            this.top?.onActivate();\r\n    }\r\n    addTop(screen) {\r\n        logger.debug(\"addTop {}\", screen);\r\n        this.screens.push(screen);\r\n        this.screenHolder.append(screen.container);\r\n        screen.render();\r\n        screen.onAdd();\r\n        screen.onActivate();\r\n    }\r\n    async closeTop(transition) {\r\n        await (0,_animations__WEBPACK_IMPORTED_MODULE_3__.animateTransition)(this.top.container, transition, \"remove\");\r\n        this.removeTop(true);\r\n    }\r\n    async addOnTop(screen, transition) {\r\n        this.top?.onDeactivate();\r\n        await (0,_animations__WEBPACK_IMPORTED_MODULE_3__.animateTransition)(screen.container, transition, \"add\");\r\n        this.addTop(screen);\r\n    }\r\n    async replaceTop(screen, transition) {\r\n        await (0,_animations__WEBPACK_IMPORTED_MODULE_3__.animateTransition)(this.top.container, transition, \"remove\");\r\n        this.removeTop(false);\r\n        this.addTop(screen);\r\n        await (0,_animations__WEBPACK_IMPORTED_MODULE_3__.animateTransition)(screen.container, transition, \"add\");\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/ScreenManager.ts?");

/***/ }),

/***/ "./src/engine/ui/animations.ts":
/*!*************************************!*\
  !*** ./src/engine/ui/animations.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AnimationOptions\": () => (/* binding */ AnimationOptions),\n/* harmony export */   \"TransitionAnimations\": () => (/* binding */ TransitionAnimations),\n/* harmony export */   \"animateTransition\": () => (/* binding */ animateTransition)\n/* harmony export */ });\n/* harmony import */ var shifty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! shifty */ \"./node_modules/shifty/dist/shifty.js\");\n/* harmony import */ var shifty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(shifty__WEBPACK_IMPORTED_MODULE_0__);\n/*\r\n * Created by aimozg on 25.07.2022.\r\n */\r\n\r\nconst AnimationOptions = {\r\n    slow: 1000,\r\n    normal: 500,\r\n    fast: 333,\r\n    vfast: 167,\r\n};\r\nfunction stylePair(from, to, duration) {\r\n    function styleRenderer(element) {\r\n        return (state) => {\r\n            Object.assign(element.style, state);\r\n        };\r\n    }\r\n    return {\r\n        add: (element) => ({\r\n            from: from,\r\n            to: to,\r\n            start: styleRenderer(element),\r\n            duration: duration,\r\n            render: styleRenderer(element),\r\n        }),\r\n        remove: (element) => ({\r\n            from: to,\r\n            to: from,\r\n            start: styleRenderer(element),\r\n            duration: duration,\r\n            render: styleRenderer(element),\r\n        }),\r\n    };\r\n}\r\nconst TransitionAnimations = {\r\n    \"fade-slow\": stylePair({ opacity: 0 }, { opacity: 1 }, AnimationOptions.slow),\r\n    \"fade\": stylePair({ opacity: 0 }, { opacity: 1 }, AnimationOptions.normal),\r\n    \"fade-fast\": stylePair({ opacity: 0 }, { opacity: 1 }, AnimationOptions.fast),\r\n    \"fade-vfast\": stylePair({ opacity: 0 }, { opacity: 1 }, AnimationOptions.vfast),\r\n};\r\nfunction animateTransition(element, transition, type) {\r\n    if (!element || !transition)\r\n        return Promise.resolve();\r\n    let t = TransitionAnimations[transition]?.[type]?.(element);\r\n    if (!t)\r\n        return Promise.resolve();\r\n    return (0,shifty__WEBPACK_IMPORTED_MODULE_0__.tween)(t);\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/animations.ts?");

/***/ }),

/***/ "./src/engine/ui/components/Bar.tsx":
/*!******************************************!*\
  !*** ./src/engine/ui/components/Bar.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Bar\": () => (/* binding */ Bar)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../math/utils */ \"./src/engine/math/utils.ts\");\n\r\n\r\nclass Bar extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    render(props) {\r\n        let style = {\r\n            background: props.bg,\r\n            height: props.height\r\n        };\r\n        let fgs = props.fgs ?? [props.fg];\r\n        let values = props.values ?? [props.value];\r\n        let classes = props.classes ?? [];\r\n        let min = props.min ?? 0;\r\n        let max = props.max ?? 1;\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: style, class: \"bar \" + (props.className ?? \"\") },\r\n            values.map((x, i) => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: {\r\n                    left: 0,\r\n                    background: fgs[i],\r\n                    width: (isNaN(+x) || x <= min ? 0 : x >= max ? 100 :\r\n                        (0,_math_utils__WEBPACK_IMPORTED_MODULE_1__.coerce)((x - min) / max * 100, 1, 99)) + '%'\r\n                }, className: \"bar-value \" + (classes[i] ?? \"\") })),\r\n            props.children !== undefined && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"bar-content\" }, props.children));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/components/Bar.tsx?");

/***/ }),

/***/ "./src/engine/ui/components/Button.tsx":
/*!*********************************************!*\
  !*** ./src/engine/ui/components/Button.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Button\": () => (/* binding */ Button)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n\r\nclass Button extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.timeout = 0;\r\n        this.interval = 0;\r\n    }\r\n    onClick(ev) {\r\n        ev.preventDefault();\r\n        if (this.props.onClick)\r\n            this.props.onClick(ev);\r\n    }\r\n    onMouseDown(ev) {\r\n        ev.preventDefault();\r\n        this.timeout = window.setTimeout(() => {\r\n            this.interval = window.setInterval(() => {\r\n                if (this.props.onClick && !this.props.disabled) {\r\n                    this.props.onClick(ev);\r\n                }\r\n                else {\r\n                    this.clear();\r\n                }\r\n            }, 100);\r\n        }, 500);\r\n    }\r\n    onMouseUp(ev) {\r\n        ev.preventDefault();\r\n        this.clear();\r\n    }\r\n    clear() {\r\n        if (this.timeout)\r\n            window.clearTimeout(this.timeout);\r\n        if (this.interval)\r\n            window.clearInterval(this.interval);\r\n        this.timeout = 0;\r\n        this.interval = 0;\r\n    }\r\n    componentWillUnmount() {\r\n        this.clear();\r\n    }\r\n    render(props, state, context) {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"button\", { type: \"button\", class: props.className, disabled: !!props.disabled, onMouseDown: props.hold ? this.onMouseDown.bind(this) : undefined, onMouseUp: props.hold ? this.onMouseUp.bind(this) : undefined, onClick: this.onClick.bind(this) },\r\n            props.children,\r\n            props.label);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/components/Button.tsx?");

/***/ }),

/***/ "./src/engine/ui/components/ButtonMenu.tsx":
/*!*************************************************!*\
  !*** ./src/engine/ui/components/ButtonMenu.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ButtonMenu\": () => (/* binding */ ButtonMenu)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Button */ \"./src/engine/ui/components/Button.tsx\");\n\r\n\r\nclass ButtonMenu extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    }\r\n    click(e, item) {\r\n        e.target.blur();\r\n        this.props.onChange(item);\r\n    }\r\n    render(props, state, context) {\r\n        return props.items.map(item => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_Button__WEBPACK_IMPORTED_MODULE_1__.Button, { label: props.selected === item.value ? '<' + item.label + '>' : item.label, className: (item.className ?? '') + ' ' +\r\n                (props.className ?? '') + ' ' +\r\n                (props.selected === item.value ? '-default' : ''), disabled: item.disabled, onClick: (e) => this.click(e, item.value) }));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/components/ButtonMenu.tsx?");

/***/ }),

/***/ "./src/engine/ui/components/TextInput.tsx":
/*!************************************************!*\
  !*** ./src/engine/ui/components/TextInput.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TextInput\": () => (/* binding */ TextInput)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n\r\nclass TextInput extends preact__WEBPACK_IMPORTED_MODULE_0__.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    }\r\n    onInput(e) {\r\n        if (this.props.onChange)\r\n            this.props.onChange(e.target.value);\r\n    }\r\n    onChange(e) {\r\n        this.onInput(e);\r\n    }\r\n    render(props, state, context) {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"input\", { type: \"text\", class: props.className, disabled: !!props.disabled, value: props.value, onInput: this.onInput.bind(this), onChange: this.onChange.bind(this) });\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/components/TextInput.tsx?");

/***/ }),

/***/ "./src/engine/ui/panels/BattlePanel.tsx":
/*!**********************************************!*\
  !*** ./src/engine/ui/panels/BattlePanel.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BattlePanel\": () => (/* binding */ BattlePanel)\n/* harmony export */ });\n/* harmony import */ var _DomComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DomComponent */ \"./src/engine/ui/DomComponent.tsx\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Button */ \"./src/engine/ui/components/Button.tsx\");\n/*\r\n * Created by aimozg on 30.07.2022.\r\n */\r\n\r\n\r\n\r\nclass BattlePanel extends _DomComponent__WEBPACK_IMPORTED_MODULE_0__.DomComponent {\r\n    constructor(context) {\r\n        let refMain = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        let refActions = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        super((0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"combat-panel d-flex flex-column\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"combat-main flex-grow-1\", ref: refMain }),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"combat-actions d-flex gap-1\", ref: refActions })));\r\n        this.context = context;\r\n        this.refMain = refMain;\r\n        this.refActions = refActions;\r\n    }\r\n    update(actions) {\r\n        (0,preact__WEBPACK_IMPORTED_MODULE_1__.render)(actions.map(action => (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { label: action.label, onClick: () => action.callback(), disabled: action.disabled })), this.refActions.current);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/panels/BattlePanel.tsx?");

/***/ }),

/***/ "./src/engine/ui/panels/LogPanel.tsx":
/*!*******************************************!*\
  !*** ./src/engine/ui/panels/LogPanel.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LogPanel\": () => (/* binding */ LogPanel)\n/* harmony export */ });\n/* harmony import */ var _DomComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DomComponent */ \"./src/engine/ui/DomComponent.tsx\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _text_output_TextOutput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../text/output/TextOutput */ \"./src/engine/text/output/TextOutput.tsx\");\n/* harmony import */ var _utils_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/dom */ \"./src/engine/utils/dom.ts\");\n\r\n\r\n\r\n\r\nclass LogPanel extends _DomComponent__WEBPACK_IMPORTED_MODULE_0__.DomComponent {\r\n    constructor() { super((0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"log-panel\" })); }\r\n    print(p) {\r\n        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.renderAppend)(_text_output_TextOutput__WEBPACK_IMPORTED_MODULE_2__.TextOutput.print(p), this.node);\r\n    }\r\n    append(t) {\r\n        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.renderAppend)(t, this.node);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/panels/LogPanel.tsx?");

/***/ }),

/***/ "./src/engine/ui/panels/ScenePanel.tsx":
/*!*********************************************!*\
  !*** ./src/engine/ui/panels/ScenePanel.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ScenePanel\": () => (/* binding */ ScenePanel)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _DomComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DomComponent */ \"./src/engine/ui/DomComponent.tsx\");\n/* harmony import */ var _utils_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/dom */ \"./src/engine/utils/dom.ts\");\n/*\r\n * Created by aimozg on 19.07.2022.\r\n */\r\n\r\n\r\n\r\nclass ScenePanel extends _DomComponent__WEBPACK_IMPORTED_MODULE_1__.DomComponent {\r\n    constructor() {\r\n        let refPages = (0,preact__WEBPACK_IMPORTED_MODULE_0__.createRef)();\r\n        let refActions = (0,preact__WEBPACK_IMPORTED_MODULE_0__.createRef)();\r\n        super((0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { className: \"scene-panel\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { className: \"scene-pages\", ref: refPages }),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { className: \"scene-actions\", ref: refActions })));\r\n        this.nextContent = [];\r\n        this.nextActions = [];\r\n        this.lastPage = (0,preact__WEBPACK_IMPORTED_MODULE_0__.createRef)();\r\n        this.refPages = refPages;\r\n        this.refActions = refActions;\r\n    }\r\n    clear() {\r\n        this.nextActions = [];\r\n        this.nextContent = [];\r\n    }\r\n    flush() {\r\n        let nextPage = (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"scene-page -current\", ref: this.lastPage }, this.nextContent);\r\n        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_2__.renderAppend)(this.nextActions, this.refActions.current);\r\n        (0,_utils_dom__WEBPACK_IMPORTED_MODULE_2__.renderAppend)(nextPage, this.refPages.current);\r\n        this.nextActions = [];\r\n        this.nextContent = [];\r\n    }\r\n    flipPage(tail) {\r\n        if (this.lastPage.current) {\r\n            this.lastPage.current.classList.remove('-current');\r\n            this.lastPage.current.classList.add('-history');\r\n            (0,_utils_dom__WEBPACK_IMPORTED_MODULE_2__.removeChildren)(this.refActions.current);\r\n            if (tail)\r\n                (0,_utils_dom__WEBPACK_IMPORTED_MODULE_2__.renderAppend)(tail, this.lastPage.current);\r\n        }\r\n    }\r\n    addContent(content) {\r\n        this.nextContent.push(content);\r\n    }\r\n    addActions(actions) {\r\n        this.nextActions.push(actions);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/panels/ScenePanel.tsx?");

/***/ }),

/***/ "./src/engine/ui/screens/EmptyScreen.tsx":
/*!***********************************************!*\
  !*** ./src/engine/ui/screens/EmptyScreen.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EmptyScreen\": () => (/* binding */ EmptyScreen)\n/* harmony export */ });\n/* harmony import */ var _AbstractScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AbstractScreen */ \"./src/engine/ui/AbstractScreen.ts\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n\r\n\r\nclass EmptyScreen extends _AbstractScreen__WEBPACK_IMPORTED_MODULE_0__.AbstractScreen {\r\n    constructor() {\r\n        super();\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(preact__WEBPACK_IMPORTED_MODULE_1__.Fragment, null);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/screens/EmptyScreen.tsx?");

/***/ }),

/***/ "./src/engine/ui/screens/GameScreen.tsx":
/*!**********************************************!*\
  !*** ./src/engine/ui/screens/GameScreen.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameScreen\": () => (/* binding */ GameScreen)\n/* harmony export */ });\n/* harmony import */ var _AbstractScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AbstractScreen */ \"./src/engine/ui/AbstractScreen.ts\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n\r\n\r\nclass GameScreen extends _AbstractScreen__WEBPACK_IMPORTED_MODULE_0__.AbstractScreen {\r\n    constructor() {\r\n        super();\r\n        this.layout = {};\r\n        this.root = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        this.top = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        this.center = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        this.left = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        this.right = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        this.bottom = (0,preact__WEBPACK_IMPORTED_MODULE_1__.createRef)();\r\n        this.render();\r\n    }\r\n    applyLayout(layout) {\r\n        this.layout = layout;\r\n        this.render();\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(preact__WEBPACK_IMPORTED_MODULE_1__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"game-layout\", ref: this.root },\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"gl-top\", ref: this.top }, this.layout.top),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"gl-midrow\" },\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"gl-left\", ref: this.left }, this.layout.left),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"gl-center\", ref: this.center }, this.layout.center),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"gl-right\", ref: this.right }, this.layout.right)),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"gl-bottom\", ref: this.bottom }, this.layout.bottom)));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/screens/GameScreen.tsx?");

/***/ }),

/***/ "./src/engine/ui/screens/MainMenuScreen.tsx":
/*!**************************************************!*\
  !*** ./src/engine/ui/screens/MainMenuScreen.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MainMenuScreen\": () => (/* binding */ MainMenuScreen)\n/* harmony export */ });\n/* harmony import */ var _AbstractScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AbstractScreen */ \"./src/engine/ui/AbstractScreen.ts\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _components_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Button */ \"./src/engine/ui/components/Button.tsx\");\n\r\n\r\n\r\nclass MainMenuScreen extends _AbstractScreen__WEBPACK_IMPORTED_MODULE_0__.AbstractScreen {\r\n    constructor() {\r\n        super();\r\n    }\r\n    async onResumeGameClick() {\r\n        await this.game.screenManager.closeTop('fade');\r\n        await this.game.gameController.loadAutosave();\r\n    }\r\n    async onNewGameClick() {\r\n        let started = await this.game.gameController.startNewGame();\r\n        if (!started) {\r\n            await this.game.screenManager.addOnTop(this, 'fade');\r\n        }\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"text-center text-intense screen-main-menu\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"text-xxxl mt-8\" }, this.game.info.title),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"\" }, this.game.info.subtitle),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"text-s mb-8\" }, this.game.info.version),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"d-flex flex-column ai-center gap-4\" },\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { label: \"Resume Game\", disabled: !this.game.saveManager.isRecentSaveAvailable(), className: \"-big\", onClick: this.onResumeGameClick.bind(this) }),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { label: \"New Game\", className: \"-big\", onClick: this.onNewGameClick.bind(this) })));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/ui/screens/MainMenuScreen.tsx?");

/***/ }),

/***/ "./src/engine/utils/Deferred.ts":
/*!**************************************!*\
  !*** ./src/engine/utils/Deferred.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Deferred\": () => (/* binding */ Deferred)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 17.07.2022.\r\n */\r\nclass Deferred extends Promise {\r\n    constructor(executor) {\r\n        let resolveFn, rejectFn;\r\n        let status = { resolved: false, rejected: false };\r\n        super((resolve, reject) => {\r\n            resolveFn = t => {\r\n                status.resolved = true;\r\n                resolve(t);\r\n            };\r\n            rejectFn = t => {\r\n                status.rejected = true;\r\n                reject(t);\r\n            };\r\n            if (executor)\r\n                executor(resolve, reject);\r\n        });\r\n        this.status = status;\r\n        this.resolve = resolveFn;\r\n        this.reject = rejectFn;\r\n    }\r\n    get resolved() { return this.status.resolved; }\r\n    get rejected() { return this.status.rejected; }\r\n    get completed() { return this.status.resolved || this.status.rejected; }\r\n    tryResolve(value) {\r\n        if (!this.completed)\r\n            this.resolve(value);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/utils/Deferred.ts?");

/***/ }),

/***/ "./src/engine/utils/collections.ts":
/*!*****************************************!*\
  !*** ./src/engine/utils/collections.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createArray\": () => (/* binding */ createArray)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 21.07.2022.\r\n */\r\nfunction createArray(size, initializer) {\r\n    let arr = Array(size);\r\n    for (let i = 0; i < size; i++)\r\n        arr[i] = initializer(i, arr);\r\n    return arr;\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/utils/collections.ts?");

/***/ }),

/***/ "./src/engine/utils/dom.ts":
/*!*********************************!*\
  !*** ./src/engine/utils/dom.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"moveChildren\": () => (/* binding */ moveChildren),\n/* harmony export */   \"removeChildren\": () => (/* binding */ removeChildren),\n/* harmony export */   \"render1\": () => (/* binding */ render1),\n/* harmony export */   \"renderAppend\": () => (/* binding */ renderAppend)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/*\r\n * Created by aimozg on 17.07.2022.\r\n */\r\n\r\nfunction removeChildren(parent) {\r\n    if (!parent)\r\n        return;\r\n    let c;\r\n    while ((c = parent.firstChild))\r\n        parent.removeChild(c);\r\n}\r\nfunction moveChildren(source, dest, insertAfter = null) {\r\n    if (!source || !dest || source === dest)\r\n        return;\r\n    let c;\r\n    if (insertAfter) {\r\n        insertAfter = insertAfter.nextSibling;\r\n        while ((c = source.firstChild))\r\n            dest.insertBefore(c, insertAfter);\r\n    }\r\n    else {\r\n        while ((c = source.firstChild))\r\n            dest.appendChild(c);\r\n    }\r\n}\r\nfunction renderAppend(e, container) {\r\n    let tmp = document.createDocumentFragment();\r\n    (0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(e, tmp);\r\n    container.appendChild(tmp);\r\n}\r\nfunction render1(v) {\r\n    let tmp = document.createDocumentFragment();\r\n    (0,preact__WEBPACK_IMPORTED_MODULE_0__.render)(v, tmp);\r\n    return tmp.firstChild;\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/utils/dom.ts?");

/***/ }),

/***/ "./src/engine/utils/extensions.ts":
/*!****************************************!*\
  !*** ./src/engine/utils/extensions.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initExtensions\": () => (/* binding */ initExtensions)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\nfunction initExtensions() {\r\n    function formatNumber(x, format) {\r\n        if (!isFinite(x))\r\n            return String(x);\r\n        if (x < 0)\r\n            return \"-\" + formatNumber(x, format);\r\n        let match = /^([+]?)(\\d*)(?:\\.(\\d+))?([dfp])(%?)$/.exec(format);\r\n        if (!match)\r\n            throw new Error(\"Invalid or missing number format \" + format);\r\n        let [_, sign, len, dec, type, percent] = match;\r\n        if (percent)\r\n            x *= 100;\r\n        sign ?? (sign = '');\r\n        if (type === 'd')\r\n            dec = '0';\r\n        let s;\r\n        switch (type) {\r\n            case 'd':\r\n            case 'f':\r\n                s = x.toFixed(+dec);\r\n                break;\r\n            case 'p':\r\n                s = x.toPrecision(+dec);\r\n        }\r\n        if (len) {\r\n            let nlen = +len;\r\n            if (len[0] === '0') {\r\n                nlen--;\r\n                s = s.padStart(nlen, '0');\r\n                s = sign + s;\r\n            }\r\n            else {\r\n                s = sign + s;\r\n                s = s.padStart(nlen, ' ');\r\n            }\r\n        }\r\n        else {\r\n            s = sign + s;\r\n        }\r\n        return s;\r\n    }\r\n    Object.defineProperty(Number.prototype, \"format\", {\r\n        enumerable: false,\r\n        writable: false,\r\n        configurable: false,\r\n        value: function (format) {\r\n            return formatNumber(this, format);\r\n        }\r\n    });\r\n    Object.defineProperty(String.prototype, \"capitalize\", {\r\n        enumerable: false,\r\n        writable: false,\r\n        configurable: false,\r\n        value: function (skipPunctuation = true) {\r\n            if (!this)\r\n                return this;\r\n            if (skipPunctuation) {\r\n                return this.replace(/^\\W*\\w/, s => s.toUpperCase());\r\n            }\r\n            else {\r\n                let c = this[0].toUpperCase();\r\n                if (c === this[0])\r\n                    return this;\r\n                return c + this.slice(1);\r\n            }\r\n        }\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/utils/extensions.ts?");

/***/ }),

/***/ "./src/engine/utils/string.ts":
/*!************************************!*\
  !*** ./src/engine/utils/string.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"adjustCase\": () => (/* binding */ adjustCase),\n/* harmony export */   \"adjustCaseMode\": () => (/* binding */ adjustCaseMode),\n/* harmony export */   \"formatPatternNames\": () => (/* binding */ formatPatternNames),\n/* harmony export */   \"parseXmlEntity\": () => (/* binding */ parseXmlEntity)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 05.07.2022.\r\n */\r\nfunction adjustCaseMode(reference) {\r\n    if (reference === reference.toUpperCase())\r\n        return \"uppercase\";\r\n    if (reference === reference.capitalize())\r\n        return \"capitalize\";\r\n    return \"keep\";\r\n}\r\nfunction adjustCase(reference, content) {\r\n    switch (adjustCaseMode(reference)) {\r\n        case \"capitalize\":\r\n            return content.capitalize();\r\n        case \"uppercase\":\r\n            return content.toUpperCase();\r\n        case \"keep\":\r\n        default:\r\n            return content;\r\n    }\r\n}\r\nconst knownEntities = new Map();\r\nconst tmpEl = document.createElement(\"span\");\r\nconst entityRex = /^&(?:\\w+|#x[a-fA-F\\d]+|#\\d+);$/;\r\nfunction parseXmlEntity(entity) {\r\n    if (knownEntities.has(entity))\r\n        return knownEntities.get(entity);\r\n    if (!entityRex.test(entity))\r\n        return entity;\r\n    tmpEl.innerHTML = entity;\r\n    let value = tmpEl.textContent;\r\n    knownEntities.set(entity, value);\r\n    return value;\r\n}\r\n/**\r\n * Replaces in {@param pattern} `\"{part}\"` with parts from {@param substitutions}\r\n */\r\nfunction formatPatternNames(pattern, substitutions) {\r\n    let replacer;\r\n    if (typeof substitutions === 'function') {\r\n        replacer = substitutions;\r\n    }\r\n    else {\r\n        replacer = part => {\r\n            let v = substitutions[part];\r\n            return (typeof v === 'function') ? v() : String(v);\r\n        };\r\n    }\r\n    return pattern.replace(/\\{([\\w_]+)}/g, (match, s) => replacer(s) ?? match);\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/utils/string.ts?");

/***/ }),

/***/ "./src/engine/utils/time.ts":
/*!**********************************!*\
  !*** ./src/engine/utils/time.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"milliTime\": () => (/* binding */ milliTime)\n/* harmony export */ });\n/*\r\n * Created by aimozg on 30.07.2022.\r\n */\r\nfunction milliTime() {\r\n    return new Date().getTime();\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/engine/utils/time.ts?");

/***/ }),

/***/ "./src/game/chargen/ChargenStep.tsx":
/*!******************************************!*\
  !*** ./src/game/chargen/ChargenStep.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStep\": () => (/* binding */ ChargenStep)\n/* harmony export */ });\n/* harmony import */ var _engine_Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/Game */ \"./src/engine/Game.ts\");\n\r\nclass ChargenStep {\r\n    constructor(pcdata, onUpdate) {\r\n        this.pcdata = pcdata;\r\n        this.onUpdate = onUpdate;\r\n        this.player = this.pcdata.player;\r\n        this.unlocked = false;\r\n    }\r\n    get game() {\r\n        return _engine_Game__WEBPACK_IMPORTED_MODULE_0__.Game.instance;\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStep.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepAppearance.tsx":
/*!****************************************************!*\
  !*** ./src/game/chargen/ChargenStepAppearance.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepAppearance\": () => (/* binding */ ChargenStepAppearance)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n\r\n\r\nclass ChargenStepAppearance extends _ChargenStep__WEBPACK_IMPORTED_MODULE_1__.ChargenStep {\r\n    constructor(pcdata, onUpdate) {\r\n        super(pcdata, onUpdate);\r\n        this.label = \"Appearance\";\r\n    }\r\n    complete() {\r\n        return !!this.player.hairColor && !!this.player.eyeColor;\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null)));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepAppearance.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepClass.tsx":
/*!***********************************************!*\
  !*** ./src/game/chargen/ChargenStepClass.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepClass\": () => (/* binding */ ChargenStepClass)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n/* harmony import */ var _engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../engine/ui/components/ButtonMenu */ \"./src/engine/ui/components/ButtonMenu.tsx\");\n/* harmony import */ var _engine_text_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../engine/text/utils */ \"./src/engine/text/utils.tsx\");\n\r\n\r\n\r\n\r\nclass ChargenStepClass extends _ChargenStep__WEBPACK_IMPORTED_MODULE_1__.ChargenStep {\r\n    constructor(pcdata, onUpdate) {\r\n        super(pcdata, onUpdate);\r\n        this.label = \"Class\";\r\n        this.items = this.game.data.classes.values().map(cls => ({\r\n            label: cls.name.capitalize(),\r\n            value: cls.resId,\r\n            className: cls.isStartingClass ? '' : '-shadowed'\r\n        }));\r\n    }\r\n    complete() {\r\n        return !!this.pcdata.cclass && this.game.data.class(this.pcdata.cclass).isStartingClass;\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null, \"Picking a class unlocks perks, skills, and abilities. Every 6th level you can advance your class or pick another.\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"d-grid\", style: \"grid-template-columns: max-content 1fr; min-height:6rem\" },\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"d-flex gap-2 flex-column ai-stretch mr-4\" },\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_2__.ButtonMenu, { items: this.items, selected: this.pcdata.cclass, onChange: (x) => {\r\n                            this.pcdata.cclass = x;\r\n                            this.onUpdate();\r\n                        } })),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, (0,_engine_text_utils__WEBPACK_IMPORTED_MODULE_3__.simpleparse)(this.game.data.classes.getOrNull(this.pcdata.cclass)?.description))));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepClass.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepFinalize.tsx":
/*!**************************************************!*\
  !*** ./src/game/chargen/ChargenStepFinalize.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepFinalize\": () => (/* binding */ ChargenStepFinalize)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n/* harmony import */ var _data_text_gender__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/text/gender */ \"./src/game/data/text/gender.ts\");\n/* harmony import */ var _engine_text_parser_Parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../engine/text/parser/Parser */ \"./src/engine/text/parser/Parser.ts\");\n\r\n\r\n\r\n\r\nclass ChargenStepFinalize extends _ChargenStep__WEBPACK_IMPORTED_MODULE_1__.ChargenStep {\r\n    constructor(pcdata, onUpdate) {\r\n        super(pcdata, onUpdate);\r\n        this.label = \"Finalize\";\r\n    }\r\n    complete() {\r\n        return false;\r\n    }\r\n    node() {\r\n        let pc = this.player;\r\n        let parser = new _engine_text_parser_Parser__WEBPACK_IMPORTED_MODULE_3__.Parser();\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null,\r\n                \"You will play as \",\r\n                pc.name,\r\n                \", \",\r\n                _data_text_gender__WEBPACK_IMPORTED_MODULE_2__.SexNames[pc.sex],\r\n                \" \",\r\n                pc.rgroup.name.toLowerCase(),\r\n                \" warrior.\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null,\r\n                parser.print(pc.body.ears.fullDescription()),\r\n                \" \",\r\n                parser.print(pc.body.eyes.fullDescription()),\r\n                \" \",\r\n                parser.print(pc.body.arms.fullDescription()),\r\n                \" \",\r\n                parser.print(pc.body.tail.fullDescription()),\r\n                \" \"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null, pc.body.materials.map(m => m.isPresent && (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n                parser.print(m.fullDescription()),\r\n                \" \"))),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null, \"TODO display character sheet for review\"));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepFinalize.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepOrigin.tsx":
/*!************************************************!*\
  !*** ./src/game/chargen/ChargenStepOrigin.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepOrigin\": () => (/* binding */ ChargenStepOrigin)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../engine/ui/components/ButtonMenu */ \"./src/engine/ui/components/ButtonMenu.tsx\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n/* harmony import */ var _engine_text_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../engine/text/utils */ \"./src/engine/text/utils.tsx\");\n\r\n\r\n\r\n\r\nclass ChargenStepOrigin extends _ChargenStep__WEBPACK_IMPORTED_MODULE_2__.ChargenStep {\r\n    constructor(pcdata, onUpdate) {\r\n        super(pcdata, onUpdate);\r\n        this.label = \"Origin\";\r\n        this.items = this.game.idata.playerOrigins.map(o => ({\r\n            label: o.name,\r\n            value: o.id\r\n        }));\r\n    }\r\n    complete() {\r\n        return !!this.player.originId;\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null, \"Where do you come from?\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_1__.ButtonMenu, { items: this.items, selected: this.player.originId, onChange: (o) => {\r\n                        this.player.originId = o;\r\n                        this.onUpdate();\r\n                    } })),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"p\", null, (0,_engine_text_utils__WEBPACK_IMPORTED_MODULE_3__.simpleparse)(this.game.idata.playerOrigins.find(o => o.id === this.player.originId)?.description)));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepOrigin.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepRace.tsx":
/*!**********************************************!*\
  !*** ./src/game/chargen/ChargenStepRace.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepRace\": () => (/* binding */ ChargenStepRace)\n/* harmony export */ });\n/* harmony import */ var _engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/ui/components/ButtonMenu */ \"./src/engine/ui/components/ButtonMenu.tsx\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n\r\n\r\n\r\nclass ChargenStepRace extends _ChargenStep__WEBPACK_IMPORTED_MODULE_2__.ChargenStep {\r\n    constructor(pcdata, onUpdate, races) {\r\n        super(pcdata, onUpdate);\r\n        this.races = races;\r\n        this.label = \"Race\";\r\n    }\r\n    complete() {\r\n        return !!this.pcdata.race;\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(preact__WEBPACK_IMPORTED_MODULE_1__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"p\", null, \"What is your starting race?\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"p\", null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_0__.ButtonMenu, { items: this.races, selected: this.pcdata.race, onChange: race => {\r\n                        this.pcdata.race = race;\r\n                        this.onUpdate();\r\n                    } })));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepRace.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepSex.tsx":
/*!*********************************************!*\
  !*** ./src/game/chargen/ChargenStepSex.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepSex\": () => (/* binding */ ChargenStepSex)\n/* harmony export */ });\n/* harmony import */ var _engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/ui/components/ButtonMenu */ \"./src/engine/ui/components/ButtonMenu.tsx\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n/* harmony import */ var _engine_ui_components_TextInput__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../engine/ui/components/TextInput */ \"./src/engine/ui/components/TextInput.tsx\");\n/* harmony import */ var _engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../engine/ui/components/Button */ \"./src/engine/ui/components/Button.tsx\");\n/* harmony import */ var _data_text_names__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/text/names */ \"./src/game/data/text/names.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass ChargenStepSex extends _ChargenStep__WEBPACK_IMPORTED_MODULE_2__.ChargenStep {\r\n    constructor(pcdata, onUpdate, allowHerm) {\r\n        super(pcdata, onUpdate);\r\n        this.allowHerm = allowHerm;\r\n        this.items = [{\r\n                label: \"Male\",\r\n                value: 'm'\r\n            }, {\r\n                label: \"Female\",\r\n                value: 'f'\r\n            }, {\r\n                label: \"Futanari\",\r\n                value: 'h',\r\n                disabled: !this.allowHerm\r\n            }];\r\n        this.label = \"Name\";\r\n    }\r\n    setSex(sex) {\r\n        this.player.sex = sex;\r\n        this.player.gender =\r\n            sex === 'm' ? 'm' :\r\n                sex === 'f' || sex === 'h' ? 'f' : 'x';\r\n        this.onUpdate();\r\n    }\r\n    setName(name) {\r\n        this.player.name = name;\r\n        this.onUpdate();\r\n    }\r\n    randomName() {\r\n        this.player.name = (0,_data_text_names__WEBPACK_IMPORTED_MODULE_5__.randomName)(this.player.gender);\r\n        this.onUpdate();\r\n    }\r\n    complete() {\r\n        return this.player.sex != 'n' && !!this.player.name;\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(preact__WEBPACK_IMPORTED_MODULE_1__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"p\", null, \"What's your name?\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"p\", null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_TextInput__WEBPACK_IMPORTED_MODULE_3__.TextInput, { value: this.player.name, onChange: name => this.setName(name) }),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_4__.Button, { label: \"Random\", onClick: () => this.randomName() })),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"p\", null, \"What is your starting sex?\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"p\", null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_0__.ButtonMenu, { items: this.items, selected: this.player.sex, onChange: sex => this.setSex(sex) })));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepSex.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepStats.tsx":
/*!***********************************************!*\
  !*** ./src/game/chargen/ChargenStepStats.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepStats\": () => (/* binding */ ChargenStepStats)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _engine_text_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../engine/text/utils */ \"./src/engine/text/utils.tsx\");\n/* harmony import */ var _engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../engine/ui/components/Button */ \"./src/engine/ui/components/Button.tsx\");\n/* harmony import */ var _chargenData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chargenData */ \"./src/game/chargen/chargenData.tsx\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n\r\n\r\n\r\n\r\n\r\nclass ChargenStepStats extends _ChargenStep__WEBPACK_IMPORTED_MODULE_4__.ChargenStep {\r\n    constructor(pcdata, onUpdate) {\r\n        super(pcdata, onUpdate);\r\n        this.label = \"Stats\";\r\n    }\r\n    complete() {\r\n        return this.pcdata.ppoints === 0 || true;\r\n    }\r\n    getStat(stat) {\r\n        return stat.get(this.player);\r\n    }\r\n    getStatValueName(stat) {\r\n        let x = stat.getNatural(this.player);\r\n        switch (x) {\r\n            case 0: return \"Non-existant\";\r\n            case 1: return \"Trash\";\r\n            case 2: return \"Terrible\";\r\n            case 3: return \"Bad\";\r\n            case 4: return \"Poor\";\r\n            case 5: return \"Average\";\r\n            case 6: return \"Decent\";\r\n            case 7: return \"Good\";\r\n            case 8: return \"Great\";\r\n            case 9: return \"Excellent\";\r\n            case 10: return \"Superb\";\r\n            default: return \"Superb\";\r\n        }\r\n    }\r\n    upCost(stat) {\r\n        let x = stat.getNatural(this.player);\r\n        if (x >= 14)\r\n            return 5;\r\n        if (x >= 12)\r\n            return 4;\r\n        if (x >= 10)\r\n            return 3;\r\n        if (x >= 8)\r\n            return 2;\r\n        return 1;\r\n    }\r\n    canUpPrimary(stat) {\r\n        return stat.getNatural(this.player) < _chargenData__WEBPACK_IMPORTED_MODULE_3__.ChargenRules.maxPrimaryStat &&\r\n            this.pcdata.ppoints >= this.upCost(stat);\r\n    }\r\n    canDownPrimary(stat) {\r\n        return stat.getNatural(this.player) > _chargenData__WEBPACK_IMPORTED_MODULE_3__.ChargenRules.minPrimaryStat;\r\n    }\r\n    upPrimary(stat) {\r\n        this.pcdata.ppoints -= this.upCost(stat);\r\n        stat.inc(this.player);\r\n        this.onUpdate();\r\n    }\r\n    downPrimary(stat) {\r\n        stat.dec(this.player);\r\n        this.pcdata.ppoints += this.upCost(stat);\r\n        this.onUpdate();\r\n    }\r\n    canUpSecondary(stat) {\r\n        let x = stat.getNatural(this.player);\r\n        if (x >= stat.max)\r\n            return false;\r\n        if (x >= 0)\r\n            return this.pcdata.spoints > 0;\r\n        return true;\r\n    }\r\n    canDownSecondary(stat) {\r\n        let x = stat.getNatural(this.player);\r\n        if (x <= stat.min)\r\n            return false;\r\n        if (x <= 0)\r\n            return this.pcdata.spoints > 0;\r\n        return true;\r\n    }\r\n    upSecondary(stat) {\r\n        if (stat.getNatural(this.player) >= 0)\r\n            this.pcdata.spoints--;\r\n        else\r\n            this.pcdata.spoints++;\r\n        stat.inc(this.player);\r\n        this.onUpdate();\r\n    }\r\n    downSecondary(stat) {\r\n        if (stat.getNatural(this.player) > 0)\r\n            this.pcdata.spoints++;\r\n        else\r\n            this.pcdata.spoints--;\r\n        stat.dec(this.player);\r\n        this.onUpdate();\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"d-grid gap-2\", style: \"grid-template-columns: max-content max-content max-content 1fr\" },\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"h3\", { class: \"col-span-4\" }, \"Attributes\"),\r\n                _chargenData__WEBPACK_IMPORTED_MODULE_3__.primaryStats.map(ps => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, ps.label),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: \"min-width:2rem\", class: \"text-center\" }, this.getStat(ps)),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null,\r\n                        (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { disabled: !this.canUpPrimary(ps), hold: true, onClick: () => this.upPrimary(ps), label: \"+\" }),\r\n                        (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { disabled: !this.canDownPrimary(ps), hold: true, onClick: () => this.downPrimary(ps), label: \"-\" })),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null,\r\n                        \"(\",\r\n                        this.getStatValueName(ps),\r\n                        \") \",\r\n                        (0,_engine_text_utils__WEBPACK_IMPORTED_MODULE_1__.simpleparse)(ps.explain(this.player))))),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"col-span-4\" },\r\n                    \"You have \",\r\n                    this.pcdata.ppoints,\r\n                    \" points to allocate. You get +1 to any attribute every 4 levels.\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"h3\", { class: \"col-span-4\" }, \"Secondary stats\"),\r\n                _chargenData__WEBPACK_IMPORTED_MODULE_3__.secondaryStats.map(ss => (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, ss.label),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { style: \"min-width:2rem\", class: \"text-center\" },\r\n                        this.getStat(ss) >= 0 ? '\\xA0' : '',\r\n                        this.getStat(ss)),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null,\r\n                        (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { disabled: !this.canUpSecondary(ss), hold: true, onClick: () => this.upSecondary(ss), label: \"+\" }),\r\n                        (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { disabled: !this.canDownSecondary(ss), hold: true, onClick: () => this.downSecondary(ss), label: \"-\" })),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, (0,_engine_text_utils__WEBPACK_IMPORTED_MODULE_1__.simpleparse)(ss.explain(this.player))))),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", { class: \"col-span-4\" },\r\n                    \"You can spend \",\r\n                    this.pcdata.spoints,\r\n                    \" points.\",\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"br\", null),\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"i\", null, \"These stats are not beneficial, you can leave them unchanged.\")),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"h3\", { class: \"col-span-4\" }, \"Derived stats\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Fortitude\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"xxx\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Fortitude saving throw\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Reflex\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"xxx\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Reflex saving throw\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Will\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"xxx\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Will saving throw\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Max Health\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"xxx\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Your character is knocked out when it reaches zero.\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Max Energy\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"xxx\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Universal resource for special abilities.\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"Max Lust\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"xxx\"),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"div\", null, \"When lust reaches maximum, your character might willingly surrender.\")));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepStats.tsx?");

/***/ }),

/***/ "./src/game/chargen/ChargenStepTraits.tsx":
/*!************************************************!*\
  !*** ./src/game/chargen/ChargenStepTraits.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenStepTraits\": () => (/* binding */ ChargenStepTraits)\n/* harmony export */ });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _ChargenStep__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChargenStep */ \"./src/game/chargen/ChargenStep.tsx\");\n\r\n\r\nclass ChargenStepTraits extends _ChargenStep__WEBPACK_IMPORTED_MODULE_1__.ChargenStep {\r\n    constructor(pcdata, onUpdate) {\r\n        super(pcdata, onUpdate);\r\n        this.label = \"Traits\";\r\n    }\r\n    complete() {\r\n        return true;\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(preact__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\r\n            \"TODO choose starting traits.\",\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"ul\", null,\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_0__.h)(\"li\", null)));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/ChargenStepTraits.tsx?");

/***/ }),

/***/ "./src/game/chargen/chargenData.tsx":
/*!******************************************!*\
  !*** ./src/game/chargen/chargenData.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChargenRules\": () => (/* binding */ ChargenRules),\n/* harmony export */   \"primaryStats\": () => (/* binding */ primaryStats),\n/* harmony export */   \"secondaryStats\": () => (/* binding */ secondaryStats)\n/* harmony export */ });\n/* harmony import */ var _engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/rules/TAttribute */ \"./src/engine/rules/TAttribute.ts\");\n\r\nconst ChargenRules = {\r\n    minPrimaryStat: 2,\r\n    maxPrimaryStat: 15,\r\n    primaryStatPoints: 8,\r\n    secondaryStatPoints: 20\r\n};\r\nclass CGPrimaryStat {\r\n    constructor(id, label, description, explainFn) {\r\n        this.id = id;\r\n        this.label = label;\r\n        this.description = description;\r\n        this.explainFn = explainFn;\r\n        this.max = ChargenRules.maxPrimaryStat;\r\n        this.min = ChargenRules.minPrimaryStat;\r\n    }\r\n    inc(pc) {\r\n        pc.naturalAttrs[this.id]++;\r\n    }\r\n    dec(pc) {\r\n        pc.naturalAttrs[this.id]--;\r\n    }\r\n    get(pc) {\r\n        return pc.naturalAttrs[this.id];\r\n    }\r\n    getNatural(pc) {\r\n        return pc.attr(this.id);\r\n    }\r\n    explain(pc) {\r\n        let x = this.get(pc);\r\n        return this.explainFn(x - 5, x, pc);\r\n    }\r\n}\r\n//TODO move to ChargenController\r\nconst primaryStats = [\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.STR, 'Strength', 'Increases melee damage and accuracy with large weapons.', (mod) => `${mod.format('+d')} melee damage, ${(mod * 5).format('+d')}% large weapon accuracy.`),\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.DEX, 'Dexterity', 'Increases evasion, reflex, and accuracy with small weapons.', (mod) => `${(mod * 5).format('+d')}% dodge, ${mod.format('+d')} reflex, ${(mod * 5).format('+d')}% small weapon accuracy.`),\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.CON, 'Constitution', 'Increases hit points, energy, and fortitude.', (mod) => `${mod.format('+d')} HP and energy per level, ${mod.format('+d')} fortitude.`),\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.PER, 'Perception', 'Increases accuracy with ranged weapons and many spot skills.', (mod) => `${(mod * 5).format('+d')}% ranged accuracy, ${(mod * 5).format('+d')}% spot chance.`),\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.INT, 'Intellect', '', (mod) => `${mod.format('+d')} to certain skills`),\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.WIS, 'Wisdom', '', (mod) => `${mod.format('+d')} to willpower`),\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.CHA, 'Charisma', '', (mod) => `${mod.format('+d')} to seduction`),\r\n    new CGPrimaryStat(_engine_rules_TAttribute__WEBPACK_IMPORTED_MODULE_0__.TAttribute.MAF, 'Magic Affinity', '', (mod) => `${mod.format('+d')} to something`)\r\n];\r\nconst secondaryStats = [{\r\n        label: 'Libido',\r\n        description: 'Affects lust gain',\r\n        min: -100,\r\n        max: 100,\r\n        get: pc => pc.lib + pc.cor,\r\n        getNatural: pc => pc.lib,\r\n        inc: pc => pc.naturalLib++,\r\n        dec: pc => pc.naturalLib--,\r\n        explain: (pc) => {\r\n            let value = pc.lib + pc.cor;\r\n            if (value < 0)\r\n                return `Lose ${-value} lust per hour.`;\r\n            if (value === 0)\r\n                return 'No passive lust gain or decay.';\r\n            return `Gain ${value} lust per hour.`;\r\n        }\r\n    }, {\r\n        label: 'Perversion',\r\n        description: \"Your character's degrees of lewdity.\",\r\n        min: 0,\r\n        max: 100,\r\n        get: pc => Math.max(pc.cor, pc.perv),\r\n        getNatural: pc => pc.perv,\r\n        inc: pc => pc.naturalPerv++,\r\n        dec: pc => pc.naturalPerv--,\r\n        explain: () => \"Your character's degrees of lewdity.\"\r\n    }, {\r\n        label: 'Corruption',\r\n        description: \"\",\r\n        min: 0,\r\n        max: 100,\r\n        get: pc => pc.cor,\r\n        getNatural: pc => pc.cor,\r\n        inc: pc => pc.cor++,\r\n        dec: pc => pc.cor--,\r\n        explain: (pc) => {\r\n            let value = pc.cor;\r\n            return `${value.format('+d')} min. Perversion. ${value.format('+d')} Libido.`;\r\n        }\r\n    }];\r\n\n\n//# sourceURL=webpack://aap18/./src/game/chargen/chargenData.tsx?");

/***/ }),

/***/ "./src/game/data/bodyParts.ts":
/*!************************************!*\
  !*** ./src/game/data/bodyParts.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gdRegisterBodyParts\": () => (/* binding */ gdRegisterBodyParts)\n/* harmony export */ });\n/* harmony import */ var _body_Ears__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body/Ears */ \"./src/game/data/body/Ears.ts\");\n/* harmony import */ var _body_Eyes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./body/Eyes */ \"./src/game/data/body/Eyes.ts\");\n/* harmony import */ var _body_Tail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./body/Tail */ \"./src/game/data/body/Tail.ts\");\n/* harmony import */ var _body_Arms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./body/Arms */ \"./src/game/data/body/Arms.ts\");\n/* harmony import */ var _body_Materials__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./body/Materials */ \"./src/game/data/body/Materials.ts\");\n/*\r\n * Created by aimozg on 22.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nfunction gdRegisterBodyParts(gd) {\r\n    gd.logger.debug(\"gdRegisterBodyParts\");\r\n    gd.addBodyPart(\"arms\", _body_Arms__WEBPACK_IMPORTED_MODULE_3__.ArmsRef);\r\n    gd.addBodyPart(\"ears\", _body_Ears__WEBPACK_IMPORTED_MODULE_0__.EarsRef);\r\n    gd.addBodyPart(\"eyes\", _body_Eyes__WEBPACK_IMPORTED_MODULE_1__.EyesRef);\r\n    gd.addBodyPart(\"tail\", _body_Tail__WEBPACK_IMPORTED_MODULE_2__.TailRef);\r\n    gd.addBodyMaterial(\"bmSkin\", _body_Materials__WEBPACK_IMPORTED_MODULE_4__.BodyMaterialTypes.SKIN);\r\n    gd.addBodyMaterial(\"bmHair\", _body_Materials__WEBPACK_IMPORTED_MODULE_4__.BodyMaterialTypes.HAIR);\r\n    gd.addBodyMaterial(\"bmFur\", _body_Materials__WEBPACK_IMPORTED_MODULE_4__.BodyMaterialTypes.FUR);\r\n    gd.addBodyMaterial(\"bmScales\", _body_Materials__WEBPACK_IMPORTED_MODULE_4__.BodyMaterialTypes.SCALES);\r\n    gd.addBodyMaterial(\"bmChitin\", _body_Materials__WEBPACK_IMPORTED_MODULE_4__.BodyMaterialTypes.CHITIN);\r\n    gd.addBodyMaterial(\"bmFeathers\", _body_Materials__WEBPACK_IMPORTED_MODULE_4__.BodyMaterialTypes.FEATHERS);\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/bodyParts.ts?");

/***/ }),

/***/ "./src/game/data/body/Arms.ts":
/*!************************************!*\
  !*** ./src/game/data/body/Arms.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ArmPart\": () => (/* binding */ ArmPart),\n/* harmony export */   \"ArmType\": () => (/* binding */ ArmType),\n/* harmony export */   \"ArmTypes\": () => (/* binding */ ArmTypes),\n/* harmony export */   \"ArmsRef\": () => (/* binding */ ArmsRef)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/objects/creature/BodyPart */ \"./src/engine/objects/creature/BodyPart.ts\");\n/* harmony import */ var _engine_math_fxrng__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../engine/math/fxrng */ \"./src/engine/math/fxrng.ts\");\n/* harmony import */ var _Materials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Materials */ \"./src/game/data/body/Materials.ts\");\n/*\r\n * Created by aimozg on 01.08.2022.\r\n */\r\n\r\n\r\n\r\nclass ArmType extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartType {\r\n    constructor(id, name) {\r\n        super(ArmsRef, id, name);\r\n        this.materials = new Set([_Materials__WEBPACK_IMPORTED_MODULE_2__.BodyMaterialTypes.SKIN]);\r\n        this.texts = Object.assign({}, _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.DefaultBodyPartTexts, {\r\n            noun1: \"arm\",\r\n            noun2: \"arms\",\r\n            fingerNoun1: \"finger\",\r\n            fingerNoun2: \"fingers\",\r\n            fingerAdj: [\"\"],\r\n            descriptionPattern: \"{count} {longName} [either with|ending with|and] {fingerAdj} {fingerNoun2}\"\r\n        });\r\n        this.count = this.isPresent ? 2 : 0;\r\n    }\r\n    textReplacer(s, part) {\r\n        if (s === 'fingerNoun1')\r\n            return this.texts.fingerNoun1;\r\n        if (s === 'fingerNoun2')\r\n            return this.texts.fingerNoun2;\r\n        if (s === 'fingerAdj')\r\n            return _engine_math_fxrng__WEBPACK_IMPORTED_MODULE_1__[\"default\"].pick(this.texts.fingerAdj);\r\n        return super.textReplacer(s, part);\r\n    }\r\n}\r\nclass ArmPart extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPart {\r\n    constructor(body) {\r\n        super(body);\r\n    }\r\n    ref() { return ArmsRef; }\r\n    typeNone() { return ArmTypes.NONE; }\r\n    typeHuman() { return ArmTypes.HUMAN; }\r\n}\r\nconst ArmsRef = new class extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartReference {\r\n    constructor() { super(\"/arms\"); }\r\n    create(body) {\r\n        return new ArmPart(body);\r\n    }\r\n};\r\nvar ArmTypes;\r\n(function (ArmTypes) {\r\n    ArmTypes.NONE = new class extends ArmType {\r\n        constructor() {\r\n            super(\"\", \"none\");\r\n            this.texts.shortName1Pattern = \"no arm\";\r\n            this.texts.shortName2Pattern = \"no arms\";\r\n            this.texts.descriptionPattern = \"no arms\";\r\n            this.materials.clear();\r\n        }\r\n    };\r\n    ArmTypes.HUMAN = new class extends ArmType {\r\n        constructor() {\r\n            super(\"/human\", \"human\");\r\n            this.texts.type = [\"human\"];\r\n            this.texts.adj = [\"ordinary\", \"normal\", \"unremarkable\"];\r\n            this.texts.fingerAdj = [\"ordinary\", \"normal\", \"human\"];\r\n        }\r\n    };\r\n    ////////\r\n    ArmTypes.BUNNY = new class extends ArmType {\r\n        constructor() {\r\n            super(\"/bunny\", \"bunny\");\r\n            this.texts.type = [\"rabbit\", \"bunny\"];\r\n            this.texts.adj = [\"fuzzy\", \"furry\", \"soft\"];\r\n            this.texts.fingerAdj = [\"soft\", \"padded\", \"bunny\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_2__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    ArmTypes.CAT = new class extends ArmType {\r\n        constructor() {\r\n            super(\"/cat\", \"cat\");\r\n            this.texts.type = [\"cat\", \"feline\"];\r\n            this.texts.adj = [\"fuzzy\", \"furry\", \"soft\"];\r\n            this.texts.fingerAdj = [\"soft\", \"padded\", \"cat\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_2__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    ArmTypes.DOG = new class extends ArmType {\r\n        constructor() {\r\n            super(\"/dog\", \"dog\");\r\n            this.texts.type = [\"dog\", \"canine\"];\r\n            this.texts.adj = [\"fuzzy\", \"furry\", \"soft\"];\r\n            this.texts.fingerAdj = [\"soft\", \"padded\", \"dog\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_2__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    ArmTypes.FOX = new class extends ArmType {\r\n        constructor() {\r\n            super(\"/fox\", \"fox\");\r\n            this.texts.type = [\"fox\", \"vulpine\"];\r\n            this.texts.adj = [\"fuzzy\", \"furry\", \"soft\"];\r\n            this.texts.fingerAdj = [\"soft\", \"padded\", \"fox\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_2__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    ArmTypes.WOLF = new class extends ArmType {\r\n        constructor() {\r\n            super(\"/wolf\", \"wolf\");\r\n            this.texts.type = [\"wolf\", \"lupine\"];\r\n            this.texts.adj = [\"fuzzy\", \"furry\", \"soft\"];\r\n            this.texts.fingerAdj = [\"soft\", \"padded\", \"wolf\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_2__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n})(ArmTypes || (ArmTypes = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/body/Arms.ts?");

/***/ }),

/***/ "./src/game/data/body/Ears.ts":
/*!************************************!*\
  !*** ./src/game/data/body/Ears.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EarPart\": () => (/* binding */ EarPart),\n/* harmony export */   \"EarType\": () => (/* binding */ EarType),\n/* harmony export */   \"EarTypes\": () => (/* binding */ EarTypes),\n/* harmony export */   \"EarsRef\": () => (/* binding */ EarsRef)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/objects/creature/BodyPart */ \"./src/engine/objects/creature/BodyPart.ts\");\n/* harmony import */ var _Materials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Materials */ \"./src/game/data/body/Materials.ts\");\n/*\r\n * Created by aimozg on 22.07.2022.\r\n */\r\n\r\n\r\nclass EarType extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartType {\r\n    constructor(id, name) {\r\n        super(EarsRef, id, name);\r\n        this.materials = new Set([_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.SKIN]);\r\n        this.count = this.isPresent ? 2 : 0;\r\n        this.texts.noun1 = \"ear\";\r\n        this.texts.noun2 = \"ears\";\r\n    }\r\n}\r\nclass EarPart extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPart {\r\n    constructor(body) {\r\n        super(body);\r\n    }\r\n    ref() { return EarsRef; }\r\n    typeNone() { return EarTypes.NONE; }\r\n    typeHuman() { return EarTypes.HUMAN; }\r\n}\r\nconst EarsRef = new class extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartReference {\r\n    constructor() { super(\"/ears\"); }\r\n    create(body) {\r\n        return new EarPart(body);\r\n    }\r\n};\r\nvar EarTypes;\r\n(function (EarTypes) {\r\n    EarTypes.NONE = new class extends EarType {\r\n        constructor() {\r\n            super(\"\", \"none\");\r\n            this.description = () => \"no ears\";\r\n            this.texts.noun1 = \"no ear\";\r\n            this.texts.noun2 = \"no ears\";\r\n            this.materials.clear();\r\n        }\r\n    };\r\n    EarTypes.HUMAN = new class extends EarType {\r\n        constructor() {\r\n            super(\"/human\", \"human\");\r\n            this.texts.type = [\"human\"];\r\n            this.texts.adj = [\"ordinary\", \"normal\", \"unremarkable\"];\r\n        }\r\n    };\r\n    ////////\r\n    EarTypes.BUNNY = new class extends EarType {\r\n        constructor() {\r\n            super(\"/bunny\", \"bunny\");\r\n            this.texts.type = [\"rabbit\", \"bunny\"];\r\n            this.texts.adj = [\"floppy\", \"long\", \"fuzzy\", \"furry\", \"long floppy\", \"long fuzzy\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    EarTypes.CAT = new class extends EarType {\r\n        constructor() {\r\n            super(\"/cat\", \"cat\");\r\n            this.texts.type = [\"cat\", \"feline\"];\r\n            this.texts.adj = [\"cute\", \"soft\", \"small\", \"fuzzy\", \"furry\", \"cute fuzzy\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    EarTypes.COW = new class extends EarType {\r\n        constructor() {\r\n            super(\"/cow\", \"cow\");\r\n            this.texts.type = [\"cow\", \"bovine\"];\r\n            this.texts.adj = [\"fuzzy\", \"floppy\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    EarTypes.DOG = new class extends EarType {\r\n        constructor() {\r\n            super(\"/cat\", \"cat\");\r\n            this.texts.type = [\"dog\", \"canine\"];\r\n            this.texts.adj = [\"fuzzy\", \"soft\", \"furry\", \"floppy\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    EarTypes.FOX = new class extends EarType {\r\n        constructor() {\r\n            super(\"/fox\", \"fox\");\r\n            this.texts.type = [\"fox\", \"vulpine\"];\r\n            this.texts.adj = [\"cute\", \"soft\", \"fuzzy\", \"fluffy\", \"perky\", \"pointy\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    EarTypes.WOLF = new class extends EarType {\r\n        constructor() {\r\n            super(\"/wolf\", \"wolf\");\r\n            this.texts.type = [\"wolf\", \"lupine\"];\r\n            this.texts.adj = [\"fuzzy\", \"soft\", \"furry\", \"pointy\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n})(EarTypes || (EarTypes = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/body/Ears.ts?");

/***/ }),

/***/ "./src/game/data/body/Eyes.ts":
/*!************************************!*\
  !*** ./src/game/data/body/Eyes.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EyePart\": () => (/* binding */ EyePart),\n/* harmony export */   \"EyeType\": () => (/* binding */ EyeType),\n/* harmony export */   \"EyeTypes\": () => (/* binding */ EyeTypes),\n/* harmony export */   \"EyesRef\": () => (/* binding */ EyesRef)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/objects/creature/BodyPart */ \"./src/engine/objects/creature/BodyPart.ts\");\n/* harmony import */ var _engine_objects_Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../engine/objects/Color */ \"./src/engine/objects/Color.ts\");\n/*\r\n * Created by aimozg on 26.07.2022.\r\n */\r\n\r\n\r\nclass EyeType extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartType {\r\n    constructor(id, name) {\r\n        super(EyesRef, id, name);\r\n        this.materials = new Set();\r\n        this.count = this.isPresent ? 2 : 0;\r\n        this.texts.noun1 = \"eye\";\r\n        this.texts.noun2 = \"eyes\";\r\n        this.texts.shortName1Pattern = \"{color} {type} {noun1}\";\r\n        this.texts.shortName2Pattern = \"{color} {type} {noun2}\";\r\n    }\r\n    textReplacer(s, part) {\r\n        if (s === \"color\")\r\n            return part.color.name;\r\n        return super.textReplacer(s, part);\r\n    }\r\n}\r\nclass EyePart extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPart {\r\n    constructor(body) {\r\n        super(body);\r\n        this.color = _engine_objects_Color__WEBPACK_IMPORTED_MODULE_1__.Color.DEFAULT_WHITE;\r\n    }\r\n    ref() { return EyesRef; }\r\n    typeNone() { return EyeTypes.NONE; }\r\n    typeHuman() { return EyeTypes.HUMAN; }\r\n}\r\nconst EyesRef = new class extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartReference {\r\n    constructor() { super(\"/eyes\"); }\r\n    create(body) {\r\n        return new EyePart(body);\r\n    }\r\n};\r\nvar EyeTypes;\r\n(function (EyeTypes) {\r\n    EyeTypes.NONE = new class extends EyeType {\r\n        constructor() {\r\n            super(\"\", \"none\");\r\n            this.texts.shortName1Pattern = \"no eye\";\r\n            this.texts.shortName2Pattern = \"no eyes\";\r\n            this.texts.descriptionPattern = \"no eyes\";\r\n        }\r\n    };\r\n    EyeTypes.HUMAN = new class extends EyeType {\r\n        constructor() {\r\n            super(\"/human\", \"human\");\r\n            this.texts.type = [\"human\"];\r\n            this.texts.adj = [\"ordinary\", \"normal\", \"unremarkable\"];\r\n        }\r\n    };\r\n    ////////\r\n    EyeTypes.BUNNY = new class extends EyeType {\r\n        constructor() {\r\n            super(\"/bunny\", \"bunny\");\r\n            this.texts.type = [\"rabbit\", \"bunny\"];\r\n        }\r\n    };\r\n    EyeTypes.CAT = new class extends EyeType {\r\n        constructor() {\r\n            super(\"/cat\", \"cat\");\r\n            this.texts.type = [\"cat\", \"feline\"];\r\n            this.texts.adj = [\"beastial\", \"predatory\"];\r\n            this.texts.suffix = [\"\", \"with vertical-slit pupils\"];\r\n        }\r\n    };\r\n    EyeTypes.FOX = new class extends EyeType {\r\n        constructor() {\r\n            super(\"/fox\", \"fox\");\r\n            this.texts.type = [\"fox\", \"vulpine\"];\r\n            this.texts.suffix = [\"beasital\", \"predatory\"];\r\n        }\r\n    };\r\n})(EyeTypes || (EyeTypes = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/body/Eyes.ts?");

/***/ }),

/***/ "./src/game/data/body/Materials.ts":
/*!*****************************************!*\
  !*** ./src/game/data/body/Materials.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BodyMaterialTypes\": () => (/* binding */ BodyMaterialTypes)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_creature_BodyMaterial__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/objects/creature/BodyMaterial */ \"./src/engine/objects/creature/BodyMaterial.ts\");\n/*\r\n * Created by aimozg on 02.08.2022.\r\n */\r\n\r\nvar BodyMaterialTypes;\r\n(function (BodyMaterialTypes) {\r\n    BodyMaterialTypes.SKIN = new _engine_objects_creature_BodyMaterial__WEBPACK_IMPORTED_MODULE_0__.BodyMaterialType(\"/skin\", \"skin\", false);\r\n    BodyMaterialTypes.HAIR = new _engine_objects_creature_BodyMaterial__WEBPACK_IMPORTED_MODULE_0__.BodyMaterialType(\"/hair\", \"hair\", false);\r\n    BodyMaterialTypes.FUR = new _engine_objects_creature_BodyMaterial__WEBPACK_IMPORTED_MODULE_0__.BodyMaterialType(\"/fur\", \"fur\", false);\r\n    BodyMaterialTypes.SCALES = new _engine_objects_creature_BodyMaterial__WEBPACK_IMPORTED_MODULE_0__.BodyMaterialType(\"/scales\", \"scales\", true);\r\n    BodyMaterialTypes.CHITIN = new _engine_objects_creature_BodyMaterial__WEBPACK_IMPORTED_MODULE_0__.BodyMaterialType(\"/chitin\", \"chitin\", false);\r\n    BodyMaterialTypes.FEATHERS = new _engine_objects_creature_BodyMaterial__WEBPACK_IMPORTED_MODULE_0__.BodyMaterialType(\"/feathers\", \"feathers\", true);\r\n})(BodyMaterialTypes || (BodyMaterialTypes = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/body/Materials.ts?");

/***/ }),

/***/ "./src/game/data/body/Tail.ts":
/*!************************************!*\
  !*** ./src/game/data/body/Tail.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TailPart\": () => (/* binding */ TailPart),\n/* harmony export */   \"TailRef\": () => (/* binding */ TailRef),\n/* harmony export */   \"TailType\": () => (/* binding */ TailType),\n/* harmony export */   \"TailTypes\": () => (/* binding */ TailTypes)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/objects/creature/BodyPart */ \"./src/engine/objects/creature/BodyPart.ts\");\n/* harmony import */ var _Materials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Materials */ \"./src/game/data/body/Materials.ts\");\n/*\r\n * Created by aimozg on 28.07.2022.\r\n */\r\n\r\n\r\nclass TailType extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartType {\r\n    constructor(id, name) {\r\n        super(TailRef, id, name);\r\n        this.materials = new Set([_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.SKIN]);\r\n        this.texts.noun1 = \"tail\";\r\n        this.texts.noun2 = \"tails\";\r\n    }\r\n}\r\nclass TailPart extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPart {\r\n    constructor(body) {\r\n        super(body);\r\n    }\r\n    ref() { return TailRef; }\r\n    typeNone() { return TailTypes.NONE; }\r\n    typeHuman() { return TailTypes.NONE; }\r\n}\r\nconst TailRef = new class extends _engine_objects_creature_BodyPart__WEBPACK_IMPORTED_MODULE_0__.BodyPartReference {\r\n    constructor() {\r\n        super(\"/tail\");\r\n    }\r\n    create(body) {\r\n        return new TailPart(body);\r\n    }\r\n};\r\nvar TailTypes;\r\n(function (TailTypes) {\r\n    TailTypes.NONE = new class extends TailType {\r\n        constructor() {\r\n            super(\"\", \"none\");\r\n            this.texts.noun1 = \"no tail\";\r\n            this.texts.noun2 = \"no tails\";\r\n            this.texts.descriptionPattern = \"no tail\";\r\n            this.materials.clear();\r\n        }\r\n    };\r\n    ////////\r\n    TailTypes.BUNNY = new class extends TailType {\r\n        constructor() {\r\n            super(\"/bunny\", \"bunny\");\r\n            this.texts.type = [\"rabbit\", \"bunny\"];\r\n            this.texts.adj = [\"fuzzy\", \"round\", \"small\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    TailTypes.CAT = new class extends TailType {\r\n        constructor() {\r\n            super(\"/cat\", \"cat\");\r\n            this.texts.type = [\"cat\", \"feline\"];\r\n            this.texts.adj = [\"cute\", \"fuzzy\", \"furry\", \"fluffy\", \"long\", \"soft\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    TailTypes.COW = new class extends TailType {\r\n        constructor() {\r\n            super(\"/cow\", \"cow\");\r\n            this.texts.type = [\"cow\", \"bovine\"];\r\n            this.texts.adj = [\"long\", \"floppy\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    TailTypes.DOG = new class extends TailType {\r\n        constructor() {\r\n            super(\"/dog\", \"dog\");\r\n            this.texts.type = [\"dog\", \"canine\"];\r\n            this.texts.adj = [\"fuzzy\", \"furry\", \"fluffy\", \"long\", \"soft\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    TailTypes.FOX = new class extends TailType {\r\n        constructor() {\r\n            super(\"/fox\", \"fox\");\r\n            this.texts.type = [\"fox\", \"vulpine\"];\r\n            this.texts.adj = [\"cute\", \"soft\", \"fuzzy\", \"furry\", \"fluffy\", \"long\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n    TailTypes.WOLF = new class extends TailType {\r\n        constructor() {\r\n            super(\"/wolf\", \"wolf\");\r\n            this.texts.type = [\"wolf\", \"lupine\"];\r\n            this.texts.adj = [\"soft\", \"fuzzy\", \"furry\", \"fluffy\", \"long\"];\r\n            this.materials.add(_Materials__WEBPACK_IMPORTED_MODULE_1__.BodyMaterialTypes.FUR);\r\n        }\r\n    };\r\n})(TailTypes || (TailTypes = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/body/Tail.ts?");

/***/ }),

/***/ "./src/game/data/classes.ts":
/*!**********************************!*\
  !*** ./src/game/data/classes.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gdRegisterClasses\": () => (/* binding */ gdRegisterClasses)\n/* harmony export */ });\n/* harmony import */ var _classes_ClassWarrior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./classes/ClassWarrior */ \"./src/game/data/classes/ClassWarrior.ts\");\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\nfunction gdRegisterClasses(gd) {\r\n    gd.logger.debug(\"gdRegisterClasses\");\r\n    gd.addClasses(new _classes_ClassWarrior__WEBPACK_IMPORTED_MODULE_0__.ClassWarrior());\r\n}\r\n/*\r\nexport function gdClases():GDClass[] {\r\n    return [{\r\n        id: \"warrior\",\r\n        name: \"Warrior\",\r\n        startingClass: true,\r\n        description: \"\" +\r\n            \"\\n\\n\" +\r\n            // \"Skills: \" +\r\n            // \"\\n\" +\r\n            \"Subclasses: Duelist, Barbarian, Paladin\"\r\n    }, {\r\n        id: \"rogue\",\r\n        name: \"Rogue\",\r\n        startingClass: false,\r\n        description: \"\" +\r\n            \"\\n\\n\" +\r\n            \"Subclasses: Assassin, Ranger\"\r\n    }, {\r\n        id: \"mage\",\r\n        name: \"Mage\",\r\n        startingClass: false,\r\n        description: \"\" +\r\n            \"\\n\\n\" +\r\n            \"Subclasses: Sorcerer, Necromancer, Druid\"\r\n    }, {\r\n        id: \"adventurer\",\r\n        name: \"Adventurer\",\r\n        startingClass: false,\r\n        description: \"An all-rounder survivalist/treasure hunter class.\" +\r\n            \"\\n\\n\" +\r\n            \"Subclasses: Explorer, Shifter\"\r\n    }, {\r\n        id: \"cultivator\",\r\n        name: \"Cultivator\",\r\n        startingClass: false,\r\n        description: \"Cultivate ki to empower your body and soul.\" +\r\n            \"\\n\\n\" +\r\n            \"Subclasses: Body Cultivator, Soul Cultivator, Mind Cultivator\"\r\n    }, {\r\n        id: \"slacker\",\r\n        name: \"Slacker\",\r\n        startingClass: false,\r\n        description: \"Why fight when you can have fun? Persuade or seduce others\" +\r\n            \"\\n\\n\" +\r\n            \"Subclasses: Bard, Seducer\"\r\n    }, ]\r\n}\r\n*/\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/classes.ts?");

/***/ }),

/***/ "./src/game/data/classes/ClassWarrior.ts":
/*!***********************************************!*\
  !*** ./src/game/data/classes/ClassWarrior.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ClassWarrior\": () => (/* binding */ ClassWarrior)\n/* harmony export */ });\n/* harmony import */ var _engine_rules_classes_CharacterClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/rules/classes/CharacterClass */ \"./src/engine/rules/classes/CharacterClass.ts\");\n/*\r\n * Created by aimozg on 05.07.2022.\r\n */\r\n\r\nclass ClassWarrior extends _engine_rules_classes_CharacterClass__WEBPACK_IMPORTED_MODULE_0__.CharacterClass {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.resId = \"warrior\";\r\n        this.description = \"Melee fighter and weapon master.\" +\r\n            \"\\n\\n\" +\r\n            \"Subclasses: Duelist, Barbarian, Paladin.\";\r\n        this.isStartingClass = true;\r\n        this.name = \"warrior\";\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/classes/ClassWarrior.ts?");

/***/ }),

/***/ "./src/game/data/items/MeleeWeaponLib.ts":
/*!***********************************************!*\
  !*** ./src/game/data/items/MeleeWeaponLib.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MeleeWeaponLib\": () => (/* binding */ MeleeWeaponLib)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_item_BaseMeleeWeapon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/objects/item/BaseMeleeWeapon */ \"./src/engine/objects/item/BaseMeleeWeapon.ts\");\n/* harmony import */ var _engine_rules_BaseDamageSpec__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../engine/rules/BaseDamageSpec */ \"./src/engine/rules/BaseDamageSpec.ts\");\n/* harmony import */ var _engine_rules_DamageType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../engine/rules/DamageType */ \"./src/engine/rules/DamageType.ts\");\n/*\r\n * Created by aimozg on 25.07.2022.\r\n */\r\n\r\n\r\n\r\nvar MeleeWeaponLib;\r\n(function (MeleeWeaponLib) {\r\n    MeleeWeaponLib.Dagger = new _engine_objects_item_BaseMeleeWeapon__WEBPACK_IMPORTED_MODULE_0__.BaseMeleeWeapon(\"/mwpn_dagger\", \"dagger\", (0,_engine_rules_BaseDamageSpec__WEBPACK_IMPORTED_MODULE_1__.baseDmgSpec)(\"1d4\", _engine_rules_DamageType__WEBPACK_IMPORTED_MODULE_2__.DamageTypes.SHARP, 19, 3));\r\n})(MeleeWeaponLib || (MeleeWeaponLib = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/items/MeleeWeaponLib.ts?");

/***/ }),

/***/ "./src/game/data/items/NaturalWeaponLib.ts":
/*!*************************************************!*\
  !*** ./src/game/data/items/NaturalWeaponLib.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NaturalWeaponLib\": () => (/* binding */ NaturalWeaponLib)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_item_BaseNaturalWeapon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/objects/item/BaseNaturalWeapon */ \"./src/engine/objects/item/BaseNaturalWeapon.ts\");\n/* harmony import */ var _engine_rules_DamageType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../engine/rules/DamageType */ \"./src/engine/rules/DamageType.ts\");\n/* harmony import */ var _engine_rules_BaseDamageSpec__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../engine/rules/BaseDamageSpec */ \"./src/engine/rules/BaseDamageSpec.ts\");\n/*\r\n * Created by aimozg on 24.07.2022.\r\n */\r\n\r\n\r\n\r\nvar NaturalWeaponLib;\r\n(function (NaturalWeaponLib) {\r\n    NaturalWeaponLib.NaturalFists = new _engine_objects_item_BaseNaturalWeapon__WEBPACK_IMPORTED_MODULE_0__.BaseNaturalWeapon(\"/nwpn_fists\", \"fists\", (0,_engine_rules_BaseDamageSpec__WEBPACK_IMPORTED_MODULE_2__.baseDmgSpec)(\"1d3\", _engine_rules_DamageType__WEBPACK_IMPORTED_MODULE_1__.DamageTypes.BLUNT, 20, 2));\r\n})(NaturalWeaponLib || (NaturalWeaponLib = {}));\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/items/NaturalWeaponLib.ts?");

/***/ }),

/***/ "./src/game/data/origins.ts":
/*!**********************************!*\
  !*** ./src/game/data/origins.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gdRegisterOrigins\": () => (/* binding */ gdRegisterOrigins)\n/* harmony export */ });\nfunction gdRegisterOrigins(gd) {\r\n    gd.logger.debug(\"gdRegisterOrigins\");\r\n    gd.addPlayerOrigins({\r\n        id: 'unknown',\r\n        name: 'Unknown',\r\n        description: \"Your origins are a mystery.\" +\r\n            \"\\n\\n\" +\r\n            \"<i>No starting bonuses.</i>\",\r\n    }, {\r\n        id: 'native',\r\n        name: 'Native',\r\n        description: \"You're an orphan, native to this world who spend their early life in a poor village. Your first attempt to scavenge a magical ruin for riches went badly, and you've triggered some kind of teleportation trap. You don't recognize the new landscape and even the stars and seasons are off.\" +\r\n            \"\\n\\n\" +\r\n            \"<i>Starting races: Human, Halfkin, Beastkin. Bonus starting skills. Basic starting items.</i>\",\r\n        introText: \"You're an orphan, native to this world who spend their early life in a poor village. Your first attempt to scavenge a magical ruin for riches went badly, and you've triggered some kind of teleportation trap. \"\r\n    }, {\r\n        id: 'champion',\r\n        name: 'Champion',\r\n        description: \"You're a knight who led the purge of a village of Notingnam, a dark village with foul traditions, buried deep in the wilds. After executing demon-worshipping heretics, you've discovered a portal to some kind of Demon Realm. You and your loyal followers entered it bravely, but you were the only one who passed through. \" +\r\n            \"\\n\\n\" +\r\n            \"<i>Starting races: Human, Elf, Dwarf. Bonus starting XP. Good starting equipment.</i>\",\r\n        introText: \"You're a knight who led the purge of a village of Notingnam, a dark village with foul traditions, buried deep in the wilds. After executing demon-worshipping heretics, you've discovered a portal to some kind of Demon Realm. You and your loyal followers entered it bravely...\"\r\n    }, {\r\n        id: 'isekai',\r\n        name: 'Isekai Hero',\r\n        description: \"You're an ordinary highschool student who just turned eighteen. Overstressed by upcoming exams and constant pranks from your childhood friend of opposite sex, you were hit by a truck as you rushed to the school. By the will of unknown powers, you were reincarnated in an 18+ fantasy world. \" +\r\n            \"\\n\\n\" +\r\n            \"<i>Starting race: Human. Bonus attack, defense, and all saving throws until level 6.</i>\",\r\n        introText: \"You're an ordinary highschool student who just turned eighteen. Overstressed by upcoming exams and constant pranks from your childhood friend of opposite sex, you were hit by a truck as you rushed to the school. By the will of unknown powers, you were reincarnated in an 18+ fantasy world. \"\r\n    } /*, {\r\n        id: 'amnesia',\r\n        name: 'Amnesiac',\r\n        description:\r\n            \"You have no idea who you are. \" +\r\n            \"Strangely, you're able to fluently speak, read, and write the language of this world.\" +\r\n            \"\\n\\n\" +\r\n            \"<i>Starting race: Human.</i>\"\r\n    }*/);\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/origins.ts?");

/***/ }),

/***/ "./src/game/data/racialGroups.ts":
/*!***************************************!*\
  !*** ./src/game/data/racialGroups.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RGID_ABOMINATION\": () => (/* binding */ RGID_ABOMINATION),\n/* harmony export */   \"RGID_ANGEL\": () => (/* binding */ RGID_ANGEL),\n/* harmony export */   \"RGID_BEAST\": () => (/* binding */ RGID_BEAST),\n/* harmony export */   \"RGID_CONSTRUCT\": () => (/* binding */ RGID_CONSTRUCT),\n/* harmony export */   \"RGID_DEITY\": () => (/* binding */ RGID_DEITY),\n/* harmony export */   \"RGID_DEMON\": () => (/* binding */ RGID_DEMON),\n/* harmony export */   \"RGID_ELEMENTAL\": () => (/* binding */ RGID_ELEMENTAL),\n/* harmony export */   \"RGID_HUMANOID\": () => (/* binding */ RGID_HUMANOID),\n/* harmony export */   \"RGID_LICH\": () => (/* binding */ RGID_LICH),\n/* harmony export */   \"RGID_MAGICAL_BEAST\": () => (/* binding */ RGID_MAGICAL_BEAST),\n/* harmony export */   \"RGID_SLIME\": () => (/* binding */ RGID_SLIME),\n/* harmony export */   \"RGID_SPIRIT\": () => (/* binding */ RGID_SPIRIT),\n/* harmony export */   \"RGID_UNDEAD\": () => (/* binding */ RGID_UNDEAD),\n/* harmony export */   \"RGID_VERMIN\": () => (/* binding */ RGID_VERMIN),\n/* harmony export */   \"RacialGroups\": () => (/* binding */ RacialGroups),\n/* harmony export */   \"gdRegisterRacialGroups\": () => (/* binding */ gdRegisterRacialGroups)\n/* harmony export */ });\n/* harmony import */ var _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/rules/RacialGroup */ \"./src/engine/rules/RacialGroup.ts\");\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\n\r\nconst RGID_ABOMINATION = 'abomination';\r\nconst RGID_ANGEL = 'angel';\r\nconst RGID_BEAST = 'beast';\r\nconst RGID_CONSTRUCT = 'construct';\r\nconst RGID_DEITY = 'deity';\r\nconst RGID_DEMON = 'demon';\r\nconst RGID_ELEMENTAL = 'elemental';\r\nconst RGID_HUMANOID = 'humanoid';\r\nconst RGID_LICH = 'lich';\r\nconst RGID_MAGICAL_BEAST = 'magical_beast';\r\nconst RGID_SLIME = 'slime';\r\nconst RGID_SPIRIT = 'spirit';\r\nconst RGID_UNDEAD = 'undead';\r\nconst RGID_VERMIN = 'vermin';\r\nconst RacialGroups = {\r\n    ABOMINATION: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_ABOMINATION, 'Abomination'),\r\n    ANGEL: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_ANGEL, 'Angel'),\r\n    BEAST: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_BEAST, 'Beast'),\r\n    CONSTRUCT: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_CONSTRUCT, 'Construct'),\r\n    DEITY: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_DEITY, 'Deity'),\r\n    DEMON: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_DEMON, 'Demon'),\r\n    ELEMENTAL: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_ELEMENTAL, 'Elemental'),\r\n    HUMANOID: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_HUMANOID, 'Humanoid'),\r\n    LICH: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_LICH, 'Lich'),\r\n    MAGICAL_BEAST: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_MAGICAL_BEAST, 'Magical Beast'),\r\n    SLIME: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_SLIME, 'Slime'),\r\n    SPIRIT: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_SPIRIT, 'Spirit'),\r\n    UNDEAD: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_UNDEAD, 'Undead'),\r\n    VERMIN: new _engine_rules_RacialGroup__WEBPACK_IMPORTED_MODULE_0__.RacialGroup(RGID_VERMIN, 'Vermin'),\r\n};\r\nfunction gdRegisterRacialGroups(gd) {\r\n    gd.logger.debug(\"gdRegisterRacialGroups\");\r\n    gd.data.rgHumanoid = RacialGroups.HUMANOID;\r\n    gd.addRacialGroups(...Object.values(RacialGroups));\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/racialGroups.ts?");

/***/ }),

/***/ "./src/game/data/text/gender.ts":
/*!**************************************!*\
  !*** ./src/game/data/text/gender.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Pronouns\": () => (/* binding */ Pronouns),\n/* harmony export */   \"SexNames\": () => (/* binding */ SexNames)\n/* harmony export */ });\n/* harmony import */ var _engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/rules/gender */ \"./src/engine/rules/gender.ts\");\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\n\r\nlet Pronouns = {\r\n    [_engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__.GENDER_MALE]: { they: 'he', them: 'him', their: 'his', theirs: 'his', themselves: 'himself' },\r\n    [_engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__.GENDER_FEMALE]: { they: 'she', them: 'her', their: 'her', theirs: 'hers', themselves: 'herself' },\r\n    [_engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__.GENDER_OTHER]: { they: 'they', them: 'them', their: 'their', theirs: 'theirs', themselves: 'themselves' },\r\n};\r\nlet SexNames = {\r\n    [_engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__.SEX_NONE]: 'sexless',\r\n    [_engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__.SEX_MALE]: 'male',\r\n    [_engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__.SEX_FEMALE]: 'female',\r\n    [_engine_rules_gender__WEBPACK_IMPORTED_MODULE_0__.SEX_BOTH]: 'futanari',\r\n};\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/text/gender.ts?");

/***/ }),

/***/ "./src/game/data/text/names.ts":
/*!*************************************!*\
  !*** ./src/game/data/text/names.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"randomName\": () => (/* binding */ randomName)\n/* harmony export */ });\n/* harmony import */ var _engine_math_fxrng__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/math/fxrng */ \"./src/engine/math/fxrng.ts\");\n/*\r\n * Created by aimozg on 13.07.2022.\r\n */\r\n\r\nfunction randomName(gender, generator = 'random', flavor = '', rng = _engine_math_fxrng__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\r\n    if (generator === 'random')\r\n        generator = rng.pick(['rcv', 'list']);\r\n    switch (generator) {\r\n        case 'list':\r\n            return namegenList(gender, flavor, rng);\r\n        case \"rcv\":\r\n            return namegenRcv(gender == 'f' ? 0.75 : gender == 'm' ? 0.25 : 0.5, rng);\r\n    }\r\n}\r\n// Name generator - random consonant-vowel sequence of length 3..9\r\nconst rfnVowels = [\r\n    'a', 'e', 'i', 'o', 'u',\r\n    'a', 'e', 'i', 'o', 'u',\r\n    'ea', 'ae', 'ee', 'ie', 'ia',\r\n    'y'\r\n];\r\nconst rfnConstants = [\r\n    'b', 'c', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'm', 'n', 'p', 'r', 's', 't', 'v', 'w', 'x', 'z',\r\n    'b', 'd', 'f', 'l', 'n', 'r', 's', 't',\r\n    'b', 'd', 'f', 'l', 'n', 'r', 's', 't',\r\n    'gh', 'll', 'ph', 'kh', 'th', 'st'\r\n];\r\nfunction namegenRcv(femininity, rng) {\r\n    let name = '';\r\n    let c = rng.nextBoolean() ? 'c' : 'v';\r\n    let n = rng.d3(3);\r\n    while (n-- > 0) {\r\n        if (c === 'c') {\r\n            name += rng.pick(rfnConstants);\r\n            c = 'v';\r\n        }\r\n        else {\r\n            name += rng.pick(rfnVowels);\r\n            c = 'c';\r\n        }\r\n    }\r\n    return name.capitalize();\r\n}\r\nconst NameLists = {\r\n    'european': {\r\n        both: ['Alex', 'Charlie', 'Chris', 'Morgan', 'Quinn', 'Robin', 'Ross', 'Sam', 'Sydney'],\r\n        male: ['Albert', 'Andy', 'Brian', 'Daniel', 'Eric', 'Gary', 'Jordan', 'Nick', 'Richard', 'Roland', 'Ruben', 'Tim', 'Tom'],\r\n        female: ['Alice', 'Diana', 'Elizabeth', 'Emily', 'Eve', 'Helen', 'Jane', 'Jeanne', 'Kate', 'Lauren', 'Lena', 'Lisa', 'Mary', 'Melissa', 'Rachel', 'Tiffany', 'Tina']\r\n    },\r\n    'japanese': {\r\n        both: ['Kagami', 'Homura', 'Makoto', 'Naoki', 'Rin', 'Yutaka'],\r\n        male: ['Hideo', 'Kaito', 'Kenji', 'Ryo', 'Shigery', 'Shin', 'Shiro'],\r\n        female: ['Aiko', 'Aoi', 'Hitomi', 'Kasumi', 'Midori', 'Misaki', 'Sakura', 'Sayaka', 'Yoko', 'Yui']\r\n    },\r\n    'chinese': {\r\n        both: ['Chi', 'Fei', 'Feng', 'Jun', 'Long', 'Wei', 'Yang', 'Ye'],\r\n        male: ['Chen', 'Cheng', 'Hao', 'Kong', 'Lian', 'Liang', 'Ming', 'On', 'Shen', 'Sheng', 'Tao', 'Ye'],\r\n        female: ['An', 'Ying', 'Xue', 'Jia Li', 'Jiang Li', 'Li Mei', 'Li Ming', 'Li Wei']\r\n    }\r\n};\r\nfunction namegenList(gender, flavor, rng) {\r\n    if (!(flavor in NameLists))\r\n        flavor = rng.pick(Object.keys(NameLists));\r\n    let group = NameLists[flavor];\r\n    let nb = group.both.length;\r\n    let nm = group.male.length;\r\n    let nf = group.female.length;\r\n    if (gender == 'm' && rng.nextBoolean(nm / (nm + nb))) {\r\n        return rng.pick(group.male);\r\n    }\r\n    else if (gender == 'f' && rng.nextBoolean(nf / (nf + nb))) {\r\n        return rng.pick(group.female);\r\n    }\r\n    else {\r\n        return rng.pick(group.both);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/data/text/names.ts?");

/***/ }),

/***/ "./src/game/gamedata.ts":
/*!******************************!*\
  !*** ./src/game/gamedata.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadGameData\": () => (/* binding */ loadGameData)\n/* harmony export */ });\n/* harmony import */ var _gdtypes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gdtypes */ \"./src/game/gdtypes.ts\");\n/* harmony import */ var _data_classes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data/classes */ \"./src/game/data/classes.ts\");\n/* harmony import */ var _data_origins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data/origins */ \"./src/game/data/origins.ts\");\n/* harmony import */ var _data_racialGroups__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./data/racialGroups */ \"./src/game/data/racialGroups.ts\");\n/* harmony import */ var _story__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../story */ \"./src/story/index.ts\");\n/* harmony import */ var _data_bodyParts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./data/bodyParts */ \"./src/game/data/bodyParts.ts\");\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\nasync function loadGameData() {\r\n    let startingSceneId = '/000_intro';\r\n    let gd = new _gdtypes__WEBPACK_IMPORTED_MODULE_0__.GameDataBuilder({\r\n        startingSceneId\r\n    });\r\n    (0,_data_bodyParts__WEBPACK_IMPORTED_MODULE_5__.gdRegisterBodyParts)(gd);\r\n    (0,_data_classes__WEBPACK_IMPORTED_MODULE_1__.gdRegisterClasses)(gd);\r\n    (0,_data_origins__WEBPACK_IMPORTED_MODULE_2__.gdRegisterOrigins)(gd);\r\n    (0,_data_racialGroups__WEBPACK_IMPORTED_MODULE_3__.gdRegisterRacialGroups)(gd);\r\n    (0,_story__WEBPACK_IMPORTED_MODULE_4__.gdRegisterStory)(gd);\r\n    return gd.data;\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/gamedata.ts?");

/***/ }),

/***/ "./src/game/gdtypes.ts":
/*!*****************************!*\
  !*** ./src/game/gdtypes.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameDataBuilder\": () => (/* binding */ GameDataBuilder)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_Place__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/objects/Place */ \"./src/engine/objects/Place.ts\");\n/* harmony import */ var _engine_scene_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../engine/scene/builder */ \"./src/engine/scene/builder.ts\");\n/* harmony import */ var _engine_logging_LogManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../engine/logging/LogManager */ \"./src/engine/logging/LogManager.ts\");\n/* harmony import */ var _engine_objects_creature_Character__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../engine/objects/creature/Character */ \"./src/engine/objects/creature/Character.ts\");\n/*\r\n * Created by aimozg on 04.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\nclass GameDataBuilder {\r\n    constructor(options) {\r\n        this.logger = _engine_logging_LogManager__WEBPACK_IMPORTED_MODULE_2__.LogManager.loggerFor(\"GameDataBuilder\");\r\n        this.data = {\r\n            startingSceneId: options.startingSceneId,\r\n            classes: [],\r\n            places: [],\r\n            playerOrigins: [],\r\n            racialGroups: [],\r\n            rgHumanoid: null,\r\n            scenes: []\r\n        };\r\n    }\r\n    addClasses(...classes) {\r\n        this.data.classes.push(...classes);\r\n    }\r\n    addPlaces(...places) {\r\n        this.data.places.push(...places);\r\n    }\r\n    addPlayerOrigins(...origins) {\r\n        this.data.playerOrigins.push(...origins);\r\n    }\r\n    addRacialGroups(...groups) {\r\n        this.data.racialGroups.push(...groups);\r\n    }\r\n    addScenes(scenes) {\r\n        this.data.scenes.push(scenes);\r\n    }\r\n    // this magic translates to:\r\n    // propname is key of CharacterBody\r\n    // and ref is body part reference to body part that's also CharacterBody[propname]\r\n    addBodyPart(propname, ref) {\r\n        const index = ref.index;\r\n        Object.defineProperty(_engine_objects_creature_Character__WEBPACK_IMPORTED_MODULE_3__.CharacterBody.prototype, propname, {\r\n            configurable: false,\r\n            enumerable: false,\r\n            get() {\r\n                return this.parts[index];\r\n            }\r\n        });\r\n    }\r\n    addBodyMaterial(propname, ref) {\r\n        const index = ref.index;\r\n        Object.defineProperty(_engine_objects_creature_Character__WEBPACK_IMPORTED_MODULE_3__.CharacterBody.prototype, propname, {\r\n            configurable: false,\r\n            enumerable: false,\r\n            get() {\r\n                return this.materials[index];\r\n            }\r\n        });\r\n    }\r\n    buildPlace(def) {\r\n        this.addPlaces(_engine_objects_Place__WEBPACK_IMPORTED_MODULE_0__.Place.build(def));\r\n    }\r\n    buildScenes(namespace, scenes) {\r\n        this.addScenes((0,_engine_scene_builder__WEBPACK_IMPORTED_MODULE_1__.buildScenes)(namespace, scenes));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/gdtypes.ts?");

/***/ }),

/***/ "./src/game/ui/CreaturePanel.tsx":
/*!***************************************!*\
  !*** ./src/game/ui/CreaturePanel.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CreaturePanel\": () => (/* binding */ CreaturePanel)\n/* harmony export */ });\n/* harmony import */ var _engine_ui_DomComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/ui/DomComponent */ \"./src/engine/ui/DomComponent.tsx\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var preact_compat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! preact/compat */ \"./node_modules/preact/compat/dist/compat.module.js\");\n/* harmony import */ var _engine_ui_components_Bar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../engine/ui/components/Bar */ \"./src/engine/ui/components/Bar.tsx\");\n/* harmony import */ var _engine_utils_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../engine/utils/dom */ \"./src/engine/utils/dom.ts\");\n/* harmony import */ var _engine_math_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../engine/math/utils */ \"./src/engine/math/utils.ts\");\n/* harmony import */ var _engine_objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../engine/objects/creature/PlayerCharacter */ \"./src/engine/objects/creature/PlayerCharacter.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CreaturePanel extends _engine_ui_DomComponent__WEBPACK_IMPORTED_MODULE_0__.DomComponent {\r\n    constructor(options = {}) {\r\n        super((0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"creature-panel\" }));\r\n        this.options = Object.assign({}, CreaturePanel.DefaultOptions, options);\r\n    }\r\n    update(c) {\r\n        if (!c) {\r\n            (0,_engine_utils_dom__WEBPACK_IMPORTED_MODULE_4__.removeChildren)(this.node);\r\n            return;\r\n        }\r\n        let options = this.options;\r\n        //-------------------//\r\n        // Name and AP as bg //\r\n        //-------------------//\r\n        let apPercent = (0,_engine_math_utils__WEBPACK_IMPORTED_MODULE_5__.coerce)(100 * c.ap / 1000, 0, 100);\r\n        let sectionName = (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-center text-l\", style: {\r\n                'background': 'linear-gradient(90deg,' +\r\n                    ' var(--theme-ctrl-bg) ' + apPercent + '%,' +\r\n                    ' transparent ' + apPercent + '%)'\r\n            } }, c.name.capitalize());\r\n        //------------------//\r\n        // Level, sex, race //\r\n        //------------------//\r\n        let sectionTitle = (options.level || options.sex || options.race) ? (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-center text-s\" },\r\n            options.level && ('Level ' + c.level),\r\n            ' ',\r\n            options.sex && c.txt.sex,\r\n            ' ',\r\n            options.race && c.txt.race) : null;\r\n        //--------//\r\n        // XP bar //\r\n        //--------//\r\n        let sectionXp;\r\n        if (c instanceof _engine_objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_6__.PlayerCharacter) {\r\n            let xp = c.xp;\r\n            let xpmax = c.nextLevelXp();\r\n            if (!isFinite(xpmax)) {\r\n                xp = xpmax = 100;\r\n            }\r\n            sectionXp = (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Bar__WEBPACK_IMPORTED_MODULE_3__.Bar, { value: xp, max: xpmax, className: \"bar-xp\" });\r\n        }\r\n        else {\r\n            sectionXp = null;\r\n        }\r\n        //-----------//\r\n        // Resources //\r\n        //-----------//\r\n        /*TODO hide bars if creature have no such resource*/\r\n        let sectionResources = options.resources && (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { style: \"display: grid; grid-template-columns: max-content auto; gap: 4px; align-items: baseline\", className: \"mt-4 mb-1\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, \"Health\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Bar__WEBPACK_IMPORTED_MODULE_3__.Bar, { value: c.hp, max: c.hpMax, className: \"bar-hp\" }, options.hp && Math.round(c.hp)),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, \"Lust\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Bar__WEBPACK_IMPORTED_MODULE_3__.Bar, { value: c.lp, max: c.lpMax, className: \"bar-lp\" }, options.lp && Math.round(c.lp)),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, \"Energy\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Bar__WEBPACK_IMPORTED_MODULE_3__.Bar, { value: c.ep, max: c.epMax, className: \"bar-ep\" }, options.ep && Math.round(c.ep)));\r\n        //------------//\r\n        // Attributes //\r\n        //------------//\r\n        let sectionAttributes = options.attributes && (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"grid-8 text-center my-2\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"STR\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"DEX\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"CON\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"PER\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"INT\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"WIS\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"CHA\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"MAF\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.str),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.dex),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.con),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.per),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.int),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.wis),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.cha),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.maf));\r\n        //--------------//\r\n        // Combat stats //\r\n        //--------------//\r\n        let sectionCombatStats = options.combatStats && (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"grid-8 text-center my-2\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"For\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"Ref\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"Wil\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"Atk\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"Def\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"DR\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.fortitude),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.reflex),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.will),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.attack),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.defense),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.dr),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null));\r\n        //-------------//\r\n        // Other stats //\r\n        //-------------//\r\n        let sectionOtherStats = options.otherStats && (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"grid-4 text-center my-2\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"Libido\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"Perversion\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }, \"Corruption\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-s\" }),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.lib),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.perv),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, c.cor),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null));\r\n        //-----------//\r\n        // Equipment //\r\n        //-----------//\r\n        let sectionEquipment = options.equipment && (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"grid-4 my-2\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", null, \"Weapon:\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"col-span-2 text-center\" }, c.weapon?.name ?? \"(none)\"),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { className: \"text-center\" }, c.weapon?.baseDamage?.toString() ?? \"\"));\r\n        (0,preact_compat__WEBPACK_IMPORTED_MODULE_2__.render)((0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(preact_compat__WEBPACK_IMPORTED_MODULE_2__.Fragment, null,\r\n            sectionName,\r\n            sectionTitle,\r\n            sectionXp,\r\n            sectionResources,\r\n            sectionAttributes,\r\n            sectionCombatStats,\r\n            sectionOtherStats,\r\n            sectionEquipment), this.node);\r\n    }\r\n}\r\nCreaturePanel.DefaultOptions = {\r\n    ap: true,\r\n    level: true,\r\n    sex: true,\r\n    race: true,\r\n    xp: true,\r\n    resources: true,\r\n    hp: true,\r\n    lp: true,\r\n    ep: true,\r\n    attributes: true,\r\n    combatStats: true,\r\n    otherStats: true,\r\n    equipment: true\r\n};\r\n\n\n//# sourceURL=webpack://aap18/./src/game/ui/CreaturePanel.tsx?");

/***/ }),

/***/ "./src/game/ui/NewGameScreen.tsx":
/*!***************************************!*\
  !*** ./src/game/ui/NewGameScreen.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NewGameScreen\": () => (/* binding */ NewGameScreen)\n/* harmony export */ });\n/* harmony import */ var _engine_ui_AbstractScreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/ui/AbstractScreen */ \"./src/engine/ui/AbstractScreen.ts\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../engine/ui/components/Button */ \"./src/engine/ui/components/Button.tsx\");\n/* harmony import */ var _engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../engine/ui/components/ButtonMenu */ \"./src/engine/ui/components/ButtonMenu.tsx\");\n/* harmony import */ var _chargen_ChargenStepOrigin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chargen/ChargenStepOrigin */ \"./src/game/chargen/ChargenStepOrigin.tsx\");\n/* harmony import */ var _chargen_ChargenStepSex__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../chargen/ChargenStepSex */ \"./src/game/chargen/ChargenStepSex.tsx\");\n/* harmony import */ var _chargen_ChargenStepRace__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../chargen/ChargenStepRace */ \"./src/game/chargen/ChargenStepRace.tsx\");\n/* harmony import */ var _chargen_ChargenStepStats__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../chargen/ChargenStepStats */ \"./src/game/chargen/ChargenStepStats.tsx\");\n/* harmony import */ var _chargen_ChargenStepClass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../chargen/ChargenStepClass */ \"./src/game/chargen/ChargenStepClass.tsx\");\n/* harmony import */ var _chargen_ChargenStepTraits__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../chargen/ChargenStepTraits */ \"./src/game/chargen/ChargenStepTraits.tsx\");\n/* harmony import */ var _chargen_ChargenStepAppearance__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../chargen/ChargenStepAppearance */ \"./src/game/chargen/ChargenStepAppearance.tsx\");\n/* harmony import */ var _chargen_ChargenStepFinalize__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../chargen/ChargenStepFinalize */ \"./src/game/chargen/ChargenStepFinalize.tsx\");\n/* harmony import */ var _chargen_chargenData__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../chargen/chargenData */ \"./src/game/chargen/chargenData.tsx\");\n/* harmony import */ var _engine_objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../engine/objects/creature/PlayerCharacter */ \"./src/engine/objects/creature/PlayerCharacter.ts\");\n/* harmony import */ var _data_text_names__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../data/text/names */ \"./src/game/data/text/names.ts\");\n/* harmony import */ var _engine_math_fxrng__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../engine/math/fxrng */ \"./src/engine/math/fxrng.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction randomStartingPlayer(empty) {\r\n    let player = new _engine_objects_creature_PlayerCharacter__WEBPACK_IMPORTED_MODULE_13__.PlayerCharacter();\r\n    // sex and name\r\n    _engine_math_fxrng__WEBPACK_IMPORTED_MODULE_15__[\"default\"].pick([\r\n        () => {\r\n            player.sex = 'm';\r\n            player.gender = 'm';\r\n        },\r\n        () => {\r\n            player.sex = 'f';\r\n            player.gender = 'f';\r\n        }\r\n    ])();\r\n    player.name = (0,_data_text_names__WEBPACK_IMPORTED_MODULE_14__.randomName)(player.gender);\r\n    // appearance\r\n    // TODO\r\n    if (!empty) {\r\n        // TODO origin, attrs, skills, class\r\n    }\r\n    return player;\r\n}\r\nclass NewGameScreen extends _engine_ui_AbstractScreen__WEBPACK_IMPORTED_MODULE_0__.AbstractScreen {\r\n    constructor() {\r\n        super();\r\n        this.completeResolve = null;\r\n        this.completePromise = new Promise((resolve) => {\r\n            this.completeResolve = resolve;\r\n        });\r\n        this.tab = 0;\r\n        this.pcdata = {\r\n            player: randomStartingPlayer(true),\r\n            race: 'human',\r\n            ppoints: _chargen_chargenData__WEBPACK_IMPORTED_MODULE_12__.ChargenRules.primaryStatPoints,\r\n            spoints: _chargen_chargenData__WEBPACK_IMPORTED_MODULE_12__.ChargenRules.secondaryStatPoints,\r\n            cclass: 'warrior',\r\n        };\r\n        let pcdata = this.pcdata;\r\n        let onUpdate = this.updateSteps.bind(this);\r\n        this.tabs = [\r\n            new _chargen_ChargenStepOrigin__WEBPACK_IMPORTED_MODULE_4__.ChargenStepOrigin(pcdata, onUpdate),\r\n            new _chargen_ChargenStepSex__WEBPACK_IMPORTED_MODULE_5__.ChargenStepSex(pcdata, onUpdate, false),\r\n            new _chargen_ChargenStepRace__WEBPACK_IMPORTED_MODULE_6__.ChargenStepRace(pcdata, onUpdate, [{\r\n                    label: \"Human\",\r\n                    value: 'human'\r\n                }, {\r\n                    label: 'Elf',\r\n                    value: 'elf',\r\n                    disabled: true\r\n                }]),\r\n            new _chargen_ChargenStepClass__WEBPACK_IMPORTED_MODULE_8__.ChargenStepClass(pcdata, onUpdate),\r\n            new _chargen_ChargenStepStats__WEBPACK_IMPORTED_MODULE_7__.ChargenStepStats(pcdata, onUpdate),\r\n            new _chargen_ChargenStepTraits__WEBPACK_IMPORTED_MODULE_9__.ChargenStepTraits(pcdata, onUpdate),\r\n            new _chargen_ChargenStepAppearance__WEBPACK_IMPORTED_MODULE_10__.ChargenStepAppearance(pcdata, onUpdate),\r\n            new _chargen_ChargenStepFinalize__WEBPACK_IMPORTED_MODULE_11__.ChargenStepFinalize(pcdata, onUpdate),\r\n        ];\r\n        this.updateSteps();\r\n    }\r\n    async display() {\r\n        return this.completePromise;\r\n    }\r\n    onCancelClick() {\r\n        this.completeResolve(null);\r\n    }\r\n    onCompleteClick() {\r\n        this.completeResolve(this.pcdata.player);\r\n    }\r\n    selectTab(tab) {\r\n        this.tab = tab;\r\n        this.render();\r\n    }\r\n    updateSteps() {\r\n        let good = true;\r\n        for (let i = 0; i < this.tabs.length; i++) {\r\n            this.tabs[i].unlocked = good;\r\n            if (!this.tabs[i].complete())\r\n                good = false;\r\n        }\r\n        this.render();\r\n    }\r\n    node() {\r\n        return (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"grid-12 ui-box gap-4\", style: \"width: 960px; grid-template-rows: auto min-content\" },\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"col-span-2 d-flex flex-column\" },\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_ButtonMenu__WEBPACK_IMPORTED_MODULE_3__.ButtonMenu, { items: this.tabs.map((tab, i) => ({ label: tab.label, value: i, disabled: !tab.unlocked })), className: \"-big\", selected: this.tab, onChange: (i) => this.selectTab(i) }),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { style: \"visibility:hidden\" },\r\n                    (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { className: \"-big\" })),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { className: \"-big\", label: \"Cancel\", onClick: () => this.onCancelClick() })),\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { class: \"col-span-10 d-flex flex-column\" },\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"div\", { style: \"min-height:12rem\" }, this.tabs[this.tab].node()),\r\n                (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(\"p\", { class: \"mt-4\" },\r\n                    this.tabs[this.tab + 1] &&\r\n                        (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { label: \"Next\", className: \"-big\", onClick: () => this.selectTab(this.tab + 1), disabled: !this.tabs[this.tab].complete() }),\r\n                    !this.tabs[this.tab + 1] &&\r\n                        (0,preact__WEBPACK_IMPORTED_MODULE_1__.h)(_engine_ui_components_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { label: \"Start Game\", className: \"-big\", onClick: () => this.onCompleteClick() }))));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/game/ui/NewGameScreen.tsx?");

/***/ }),

/***/ "./src/game/xp.ts":
/*!************************!*\
  !*** ./src/game/xp.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MaxLevel\": () => (/* binding */ MaxLevel),\n/* harmony export */   \"XpPerLevel\": () => (/* binding */ XpPerLevel)\n/* harmony export */ });\n/* harmony import */ var _engine_utils_collections__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/utils/collections */ \"./src/engine/utils/collections.ts\");\n/*\r\n * Created by aimozg on 21.07.2022.\r\n */\r\n\r\nconst MaxLevel = 30;\r\nconst XpPerLevel = (0,_engine_utils_collections__WEBPACK_IMPORTED_MODULE_0__.createArray)(MaxLevel + 1, l => (l === MaxLevel) ? Infinity : l * 1000);\r\n\n\n//# sourceURL=webpack://aap18/./src/game/xp.ts?");

/***/ }),

/***/ "./src/index.tsx":
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _engine_main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine/main */ \"./src/engine/main.ts\");\n/* harmony import */ var _game_style_index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./game/style/index.scss */ \"./src/game/style/index.scss\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! preact */ \"./node_modules/preact/dist/preact.module.js\");\n/* harmony import */ var _game_gamedata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./game/gamedata */ \"./src/game/gamedata.ts\");\n/* harmony import */ var _engine_logging_Logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./engine/logging/Logger */ \"./src/engine/logging/Logger.ts\");\n/*\r\n * Created by aimozg on 03.07.2022.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n(0,_engine_main__WEBPACK_IMPORTED_MODULE_0__.runGame)({\r\n    screenContainer: \"#root\",\r\n    logLevel: _engine_logging_Logger__WEBPACK_IMPORTED_MODULE_4__.LogLevel.DEBUG,\r\n    info: {\r\n        title: \"Aimozg's Abandoned Project No. 18\",\r\n        subtitle: (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(preact__WEBPACK_IMPORTED_MODULE_2__.Fragment, null,\r\n            \"A \",\r\n            (0,preact__WEBPACK_IMPORTED_MODULE_2__.h)(\"a\", { href: \"https://github.com/Ormael13/CoCX\", target: \"_blank\" }, \"CoCX\"),\r\n            \" inspired game.\"),\r\n        version: \"v0.1.0\"\r\n    },\r\n    data: _game_gamedata__WEBPACK_IMPORTED_MODULE_3__.loadGameData\r\n});\r\n\n\n//# sourceURL=webpack://aap18/./src/index.tsx?");

/***/ }),

/***/ "./src/story/base/base.ts":
/*!********************************!*\
  !*** ./src/story/base/base.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gdRegisterPlayerBase\": () => (/* binding */ gdRegisterPlayerBase)\n/* harmony export */ });\n/* harmony import */ var _monsters_TutorialImp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../monsters/TutorialImp */ \"./src/story/monsters/TutorialImp.ts\");\n\r\nfunction gdRegisterPlayerBase(gd) {\r\n    gd.logger.debug(\"gdRegisterPlayerBase\");\r\n    gd.buildScenes(\"/001\", {\r\n        base(ctx) {\r\n            ctx.say(\"A ruined tower you use as your base.\");\r\n            ctx.choices({\r\n                async \"Rest\"(ctx) {\r\n                    ctx.say(\"You rest...\");\r\n                    ctx.gc.recoverPlayer();\r\n                    ctx.endScene();\r\n                },\r\n                \"Explore\": {\r\n                    async call(ctx) {\r\n                        ctx.say(\"A monster attacks you!\");\r\n                        ctx.endAndBattle(new _monsters_TutorialImp__WEBPACK_IMPORTED_MODULE_0__.TutorialImp());\r\n                    },\r\n                    disabled: !ctx.player.isAlive\r\n                }\r\n            });\r\n        }\r\n    });\r\n    gd.buildPlace({\r\n        id: \"/base\",\r\n        name: \"Base\",\r\n        description: \"A ruined tower you use as your base.\",\r\n        scene: \"/001_base\"\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/story/base/base.ts?");

/***/ }),

/***/ "./src/story/index.ts":
/*!****************************!*\
  !*** ./src/story/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gdRegisterStory\": () => (/* binding */ gdRegisterStory)\n/* harmony export */ });\n/* harmony import */ var _intro_intro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./intro/intro */ \"./src/story/intro/intro.ts\");\n/* harmony import */ var _base_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/base */ \"./src/story/base/base.ts\");\n\r\n\r\nfunction gdRegisterStory(gd) {\r\n    (0,_intro_intro__WEBPACK_IMPORTED_MODULE_0__.gdRegisterIntro)(gd);\r\n    (0,_base_base__WEBPACK_IMPORTED_MODULE_1__.gdRegisterPlayerBase)(gd);\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/story/index.ts?");

/***/ }),

/***/ "./src/story/intro/intro.ts":
/*!**********************************!*\
  !*** ./src/story/intro/intro.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gdRegisterIntro\": () => (/* binding */ gdRegisterIntro)\n/* harmony export */ });\n/* harmony import */ var _game_data_items_MeleeWeaponLib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../game/data/items/MeleeWeaponLib */ \"./src/game/data/items/MeleeWeaponLib.ts\");\n/*\r\n * Created by aimozg on 17.07.2022.\r\n */\r\n\r\nconst namespace = '/000';\r\nfunction gdRegisterIntro(gd) {\r\n    gd.logger.debug(\"gdRegisterIntro\");\r\n    gd.buildScenes(namespace, {\r\n        async intro(ctx) {\r\n            // Set player location\r\n            ctx.gc.placePlayer('/base');\r\n            ctx.player.setMainWeapon(_game_data_items_MeleeWeaponLib__WEBPACK_IMPORTED_MODULE_0__.MeleeWeaponLib.Dagger.spawn());\r\n            let origin = ctx.game.idata.playerOrigins.find(o => o.id === ctx.player.originId);\r\n            if (origin && origin.introText) {\r\n                ctx.say(origin.introText);\r\n                await ctx.flipPage();\r\n            }\r\n            if (ctx.player.originId === \"isekai\") {\r\n                ctx.say(\"After the reincarnation vertigo passes, you check your surroundings. \");\r\n            }\r\n            else {\r\n                ctx.say(\"After the teleportation vertigo passes, you check your surroundings. \");\r\n            }\r\n            if (ctx.player.originId === 'champion') {\r\n                ctx.say(\"Your companions are nowhere to be found. \");\r\n            }\r\n            await ctx.flipPage(\"Look around\");\r\n            ctx.say(\"You gaze upon the unfamiliar landscape. You might've expected hell or some alien land, but all you see is an ordinary steppe. \");\r\n            if (ctx.player.originId === \"champion\") {\r\n                ctx.say(\"There is no return portal, as if the one you went through was one-way. \");\r\n            }\r\n            ctx.say(\"[pg] You notice a ruined stone building nearby. Far away, you see mountiains to the north and dense forest to the west. To your east and south you see nothing but scarce vegetation until the horizon. \");\r\n            await ctx.flipPage(\"Check the ruins\");\r\n            ctx.say(\"You cautiously approach the building. It appears to be three-story tower, destroyed many years ago. Its first floor is littered by sand, rocks, and branches. You find traces of a campfire &ndash; looks like it was used as a refuge for an occasional traveler. [pg] There is a hole in a ceiling leading to the second floor. [pg] You think you could rest here. [pg] <b>Your first task is to find a source of water and food.</b>\");\r\n            ctx.endScene();\r\n        }\r\n    });\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/story/intro/intro.ts?");

/***/ }),

/***/ "./src/story/monsters/TutorialImp.ts":
/*!*******************************************!*\
  !*** ./src/story/monsters/TutorialImp.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TutorialImp\": () => (/* binding */ TutorialImp)\n/* harmony export */ });\n/* harmony import */ var _engine_objects_creature_Character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/objects/creature/Character */ \"./src/engine/objects/creature/Character.ts\");\n/* harmony import */ var _game_data_racialGroups__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../game/data/racialGroups */ \"./src/game/data/racialGroups.ts\");\n/*\r\n * Created by aimozg on 23.07.2022.\r\n */\r\n\r\n\r\nclass TutorialImp extends _engine_objects_creature_Character__WEBPACK_IMPORTED_MODULE_0__.Character {\r\n    constructor() {\r\n        super();\r\n        this.rgroup = _game_data_racialGroups__WEBPACK_IMPORTED_MODULE_1__.RacialGroups.DEMON;\r\n        this.name = \"imp\";\r\n        this.sex = \"m\";\r\n        this.gender = \"m\";\r\n        this.level = 1;\r\n        this.naturalAttrs = [\r\n            4, 4, 3, 3,\r\n            2, 2, 4, 5\r\n        ];\r\n        this.baseHpPerLevel = 5;\r\n        this.baseEpPerLevel = 5;\r\n        this.baseLpMax = 25;\r\n        this.eyeColor = \"red\";\r\n        // this.body.ears.type = EarTypes.CAT\r\n        this.updateStats();\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://aap18/./src/story/monsters/TutorialImp.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.tsx");
/******/ 	
/******/ })()
;